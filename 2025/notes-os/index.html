<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://images.kisechan.space/icon.png"><link rel="icon" href="https://images.kisechan.space/icon.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#004e66"><meta name="author" content="Kisechan"><meta name="keywords" content=""><meta name="description" content="操作系统概述   操作系统的概念、地位、作用与定义：  地位： 操作系统是计算机系统中最核心的系统软件，介于用户与硬件之间，管理和控制计算机硬件和软件资源。 作用： 主要有两点，一是作为资源管理者（管理CPU、内存、I&#x2F;O设备、文件等），二是作为用户与硬件之间的接口（提供命令行、图形界面等）。 定义： 操作系统是一组控制和管理计算机硬件与软件资源、合理地组织计算机工作流程以及方便用户使用的程序集合"><meta property="og:type" content="article"><meta property="og:title" content="操作系统复习"><meta property="og:url" content="https://blog.kisechan.space/2025/notes-os/index.html"><meta property="og:site_name" content="Kisechan&#39;s Blog"><meta property="og:description" content="操作系统概述   操作系统的概念、地位、作用与定义：  地位： 操作系统是计算机系统中最核心的系统软件，介于用户与硬件之间，管理和控制计算机硬件和软件资源。 作用： 主要有两点，一是作为资源管理者（管理CPU、内存、I&#x2F;O设备、文件等），二是作为用户与硬件之间的接口（提供命令行、图形界面等）。 定义： 操作系统是一组控制和管理计算机硬件与软件资源、合理地组织计算机工作流程以及方便用户使用的程序集合"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://images.kisechan.space/5af4a01060c0653a9455e5281ca42677_720.jpg"><meta property="article:published_time" content="2025-06-13T05:16:37.000Z"><meta property="article:modified_time" content="2025-06-17T10:58:20.446Z"><meta property="article:author" content="Kisechan"><meta property="article:tag" content="OS"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://images.kisechan.space/5af4a01060c0653a9455e5281ca42677_720.jpg"><meta name="referrer" content="no-referrer-when-downgrade"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><title>操作系统复习 - Kisechan&#39;s Blog</title><link rel="stylesheet" type="text/css" href="/css/loading.css"><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.16.2/katex.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4890189_5ms3yf4n747.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/cursor.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var dntVal,CONFIG={hostname:"blog.kisechan.space",root:"/",version:"1.9.7",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:["home"]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:"#"},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!0,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4",collapseDepth:4},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml",include_content_in_search:!0};CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),n=new MutationObserver(e=>{for(let t of e)if("childList"===t.type){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML)+3837;break}}),i=new MutationObserver(e=>{for(let t of e)if("childList"===t.type){i.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML)+6136;break}}),r={childList:!0};n.observe(e,r),i.observe(t,r)});</script><meta name="generator" content="Hexo 7.2.0"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="alternate" href="/atom.xml" title="Kisechan's Blog" type="application/atom+xml"></head><body><div><div class="real_mask" style="background-color:rgba(0,0,0,.3);width:100%;height:100%;position:fixed;z-index:-777"></div><div id="banner_video_insert"></div><div id="vvd_banner_img"></div></div><div id="banner"></div><div id="loader-box"><div class="loader-wrapper"><div class="loader"></div><div class="loader-text"><div>L</div><div>O</div><div>A</div><div>D</div><div>I</div><div>N</div><div>G</div><div></div><div></div><div></div></div></div><script>var endLoading=function(){document.body.style.overflow="auto",document.getElementById("loader-box").remove()};window.addEventListener("load",endLoading)</script></div><header><div class="header-inner" style="height:80vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>KISECHAN</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="https://www.kisechan.space/" target="_self"><i class="iconfont icon-Homehomepagemenu"></i> <span>主站</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-newstextarticle"></i> <span>文章</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/archives/" target="_self"><i class="iconfont icon-archive"></i> <span>归档</span> </a><a class="dropdown-item" href="/categories/" target="_self"><i class="iconfont icon-categories"></i> <span>分类</span> </a><a class="dropdown-item" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-user"></i> <span>个人</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="https://www.kisechan.space/" target="_self"><i class="iconfont icon-info-fill"></i> <span>关于</span> </a><a class="dropdown-item" href="/playlist/" target="_self"><i class="iconfont icon-music"></i> <span>歌单</span> </a><a class="dropdown-item" href="https://github.com/Kisechan/Kisechan.github.io" target="_self"><i class="iconfont icon-git"></i> <span>仓库</span> </a><a class="dropdown-item" href="/atom.xml" target="_self"><i class="iconfont icon-rss"></i> <span>RSS 订阅</span></a></div></li><li class="nav-item"><a class="nav-link" href="https://www.kisechan.space/tools/" target="_self"><i class="iconfont icon-tool-fill"></i> <span>工具</span></a></li><li class="nav-item"><a class="nav-link" href="https://www.kisechan.space/links" target="_self"><i class="iconfont icon-link"></i> <span>友链</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://images.kisechan.space/202502042159748.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">操作系统复习</span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> Kisechan </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2025-06-13 13:16" pubdate>2025年6月13日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 7.5k 字 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div><div class="scroll-down-bar"><i class="iconfont icon-arrowdown"></i></div></div></div></div></div><script type="text/javascript" src="/vvd_js/jquery.js"></script><div class="banner" id="banner"><div class="full-bg-img"></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="课程笔记" id="heading-311a46cfdaa3afda544e9285644f70d7" role="tab" data-toggle="collapse" href="#collapse-311a46cfdaa3afda544e9285644f70d7" aria-expanded="true">课程笔记 <span class="list-group-count">(9)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-311a46cfdaa3afda544e9285644f70d7" role="tabpanel" aria-labelledby="heading-311a46cfdaa3afda544e9285644f70d7"><div class="category-post-list"><a href="/2024/oop/" title="面向对象程序设计课程笔记" class="list-group-item list-group-item-action"><span class="category-post">面向对象程序设计课程笔记</span> </a><a href="/2024/linux-note/" title="Linux课程笔记" class="list-group-item list-group-item-action"><span class="category-post">Linux课程笔记</span> </a><a href="/2024/ds/" title="数据结构课程板子合集&amp;笔记" class="list-group-item list-group-item-action"><span class="category-post">数据结构课程板子合集&amp;笔记</span> </a><a href="/2025/notes-algorithm-analysis/" title="算法设计与分析 课程笔记" class="list-group-item list-group-item-action"><span class="category-post">算法设计与分析 课程笔记</span> </a><a href="/2025/notes-database-1/" title="数据库原理 课程笔记 (1) 数据库、关系代数和 SQL" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (1) 数据库、关系代数和 SQL</span> </a><a href="/2025/notes-database-2/" title="数据库原理 课程笔记 (2) E-R 模型和关系模式" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (2) E-R 模型和关系模式</span> </a><a href="/2025/notes-database-3/" title="数据库原理 课程笔记 (3) 存储、索引、事务和并发" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (3) 存储、索引、事务和并发</span> </a><a href="/2025/notes-database-4/" title="数据库原理 课程笔记 (4) 杂项和题目整理" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (4) 杂项和题目整理</span> </a><a href="/2025/notes-os/" title="操作系统复习" class="list-group-item list-group-item-action active"><span class="category-post">操作系统复习</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">操作系统复习</h1><p id="updated-time" class="note note-info" style="display:none">本文最后更新于 2025-06-17T18:58:20+08:00</p><div class="markdown-body"><h2 id="操作系统概述">操作系统概述</h2><ul><li><p>操作系统的概念、地位、作用与定义：</p><ul><li><strong>地位：</strong> 操作系统是计算机系统中最核心的系统软件，介于用户与硬件之间，管理和控制计算机硬件和软件资源。</li><li><strong>作用：</strong> 主要有两点，一是作为<strong>资源管理者</strong>（管理CPU、内存、I/O设备、文件等），二是作为<strong>用户与硬件之间的接口</strong>（提供命令行、图形界面等）。</li><li><strong>定义：</strong> 操作系统是一组控制和管理计算机硬件与软件资源、合理地组织计算机工作流程以及方便用户使用的程序集合。</li></ul></li><li><p>操作系统的分类：</p><ul><li><p><strong>多道批处理操作系统</strong> (batch processing system)</p></li><li><p><strong>分时操作系统</strong> (time-sharing system)</p></li><li><p><strong>实时操作系统</strong> (real time system)</p></li><li><p><strong>通用操作系统</strong> (multi-purpose system) ：同时具有分时、实时、批处理的功能</p></li><li><p><strong>网络操作系统</strong></p></li><li><p><strong>分布式操作系统</strong></p></li><li><p><strong>多处理机操作系统</strong></p></li><li><p><strong>单用户操作系统</strong></p></li><li><p><strong>面向对象操作系统</strong></p></li><li><p><strong>嵌入式操作系统</strong></p></li><li><p><strong>智能卡操作系统</strong></p></li><li><p>操作系统的硬件环境：</p><ul><li><strong>定时装置：</strong> 用于计时，实现分时和时间片调度。</li><li><strong>堆栈、寄存器：</strong> 理解它们在程序执行和中断处理中的作用。</li><li><strong>特权指令和非特权指令、处理器状态转换：</strong> 这是<strong>保护机制</strong>的基础。特权指令只能在<strong>核心态/管态/内核态</strong>执行，非特权指令可以在<strong>用户态</strong>执行。用户态到核心态的转换通常通过<strong>中断</strong>或<strong>系统调用</strong>触发，核心态到用户态通过修改程序状态字（PSW）实现。</li><li><strong>地址映射机构：</strong> 将<strong>逻辑地址</strong>转换为<strong>物理地址</strong>，这是内存管理的核心。</li><li><strong>存储保护：</strong> 防止程序非法访问内存，确保系统稳定。</li><li><strong>中断装置：</strong> 计算机系统处理外部事件和异常的关键机制，也是操作系统实现多任务、分时、设备管理等功能的基础。</li><li><strong>通道和DMA控制器：</strong> 用于实现<strong>I/O设备与内存之间的数据直接传输</strong>，减少CPU的干预，提高效率。</li></ul></li></ul></li></ul><hr><h2 id="进程、线程和作业">进程、线程和作业</h2><p>本章深入探讨了操作系统的核心概念，进程，以及为了更细粒度管理并发而引入的线程。</p><ul><li>多道程序设计：<ul><li><strong>单道程序设计的缺点：</strong> CPU利用率低，I/O设备空闲。</li><li><strong>多道程序设计的提出和问题：</strong> 允许多个程序并发执行，提高资源利用率，但引入了资源共享、同步互斥、死锁等问题。</li></ul></li><li>进程：<ul><li><strong>概念：</strong> 进程是程序的一次执行过程，是系统进行资源分配和调度的基本单位。它不仅仅是代码，还包括数据和进程控制块（PCB）。</li><li><strong>进程状态和状态转换：</strong> <strong>运行态、就绪态、阻塞态</strong>是核心三态，理解它们之间的转换条件（如调度、I/O完成、等待资源等）。</li><li><strong>进程控制块（PCB）：</strong> 进程的唯一标识，存储了进程的所有信息，是进程存在的标志。其组成（进程标识符、程序计数器、寄存器、进程状态、内存管理信息、I/O状态信息、记账信息等）和<strong>上下文</strong>（保存CPU寄存器内容以便切换）是重点。</li><li><strong>进程队列：</strong> 就绪队列、阻塞队列等。</li><li><strong>进程的类型和特性：</strong><ul><li><strong>并发性</strong>，和其他进程一同向前推进</li><li><strong>动态性</strong>，动态产生动态消亡，且生命周期中也处在变化之中</li><li><strong>独立性</strong>，是调度的基本单位</li><li><strong>异步性</strong>，每个进程都以相对独立、不可预知的速度向前推进</li><li><strong>交互性</strong>，可以和其他进程发生直接或间接的相互作用</li><li><strong>结构性</strong>，每一个进程都有一个PCB</li></ul></li><li><strong>进程相互联系和相互作用：</strong> 合作与竞争。</li><li><strong>进程的创建、撤销和汇聚：</strong> 理解系统调用的过程。</li><li><strong>进程和程序的联系和差别：</strong> <strong>程序是静态的指令集合，进程是动态的执行过程</strong>。一个程序可以对应多个进程，一个进程只能对应一个程序。</li></ul></li><li>线程和轻进程：<ul><li><strong>线程的引入、概念和结构：</strong> 线程是<strong>CPU调度和执行的基本单位</strong>，是进程中的一个实体。一个进程可以有多个线程共享进程的资源（地址空间、文件句柄等），但每个线程有独立的栈、程序计数器和寄存器。引入线程是为了提高并发性，降低开销。</li><li><strong>线程控制块（TCB）：</strong> 存储线程相关信息。</li><li><strong>实现和应用：</strong> 用户级线程和内核级线程的区别。<ul><li>用户级线程：控制块保存在<strong>目态空间</strong>，由运行系统维护</li><li>内核级线程：通过系统调用产生，操作系统管理</li></ul></li></ul></li></ul><hr><h2 id="中断和处理器调度">中断和处理器调度</h2><p>本章讲解了中断机制，这是操作系统实现多任务的关键，以及处理器调度的各种算法。</p><ul><li>中断和中断系统：<ul><li><strong>中断的概念、装置、处理逻辑：</strong> 中断是CPU对系统发生的某个事件的一种响应，中断装置负责检测中断信号。中断处理逻辑是保存现场、分析中断原因、执行中断服务例程、恢复现场。</li><li><strong>嵌套中断和系统栈：</strong> 理解多重中断的发生和处理顺序，系统栈在中断处理中用于保存上下文。</li><li><strong>进程状态转换的分解图：</strong> 通过中断来触发状态转换（如I/O完成中断使阻塞态转为就绪态）。</li><li><strong>中断处理例程：</strong> 响应中断的特定程序。</li></ul></li><li>处理器调度：<ul><li>处理器调度的算法、时机和过程：<ul><li>调度算法：<ul><li><strong>先来先服务（FCFS）：</strong> 简单但可能导致长作业等待。</li><li><strong>短作业优先（SJF）：</strong> 最优平均周转时间，但难以实现。</li><li><strong>优先级调度：</strong> 考虑作业的优先级，可能导致饥饿。</li><li><strong>时间片轮转（RR）：</strong> 适用于分时系统，公平性好，但时间片过小或过大都会影响效率。</li><li><strong>多级反馈队列调度：</strong> 综合前几种算法的优点。</li></ul></li><li><strong>调度时机：</strong> 进程创建、终止、阻塞、I/O完成等。</li><li><strong>调度过程：</strong> 保存当前进程上下文，选择新进程，恢复新进程上下文。</li></ul></li></ul></li><li><strong>调度级别和多级调度：</strong> 高级调度（作业调度）、中级调度（内存调度）、低级调度（进程/CPU调度）。</li><li>实时调度：<ul><li><strong>最早截止期优先调度（Earliest Deadline First, EDF）：</strong> 优先调度截止期最早的任务。</li><li><strong>单调速率调度（Rate Monotonic Scheduling, RMS）：</strong> 优先调度周期最短的任务。</li><li><strong>最小裕度优先调度（Least Slack Time First, LSTF）：</strong> 优先调度裕度（截止期-剩余执行时间）最小的任务。</li></ul></li></ul><hr><h2 id="互斥、同步和通信">互斥、同步和通信</h2><p>本章是并发编程的核心，讲解了如何协调并发进程，避免竞争条件和死锁。</p><ul><li>并发进程：<ul><li><strong>前驱图：</strong> 表示任务之间的依赖关系。</li><li><strong>并发程序和顺序程序的特性：</strong> 并发程序具有不确定性。</li><li><strong>并发执行的条件：</strong> 资源共享、执行次序不确定。</li><li><strong>和时间有关的错误（竞争条件）：</strong> 多个进程并发访问和修改共享数据，结果依赖于执行的相对速度。</li><li><strong>顺序程序的特性</strong>：<ul><li>连续性</li><li>封闭性，一个程序独占全部资源</li><li>可再现性</li></ul></li><li><strong>并发程序的特性</strong>：<ul><li><strong>间断性</strong>，多个程序是交叉执行的，可能会被中断</li><li><strong>非封闭性</strong>，程序之间会互相影响</li><li><strong>不可再现性</strong>，并发程序的交叉是随机的</li></ul></li><li>并发执行的条件：<ul><li><strong>Bernstein条件</strong></li><li>记 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>W</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(p), W(p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mclose">)</span></span></span></span> 分别为程序 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.1944em"></span><span class="mord mathnormal">p</span></span></span></span> 的读集和写集</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∩</mo><mi>W</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>∪</mo><mi>R</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>∩</mo><mi>W</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∪</mo><mi>W</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>∩</mo><mi>W</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">∅</mi></mrow><annotation encoding="application/x-tex">R(p_1)\cap W(p_2)\cup R(p_2)\cap W(p_1)\cup W(p_1)\cap W(p_2)=\emptyset</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8056em;vertical-align:-.0556em"></span><span class="mord">∅</span></span></span></span></li></ul></li></ul></li><li>互斥：<ul><li>共享变量、临界区和互斥：<ul><li><strong>共享变量：</strong> 多个进程/线程可以访问的变量。</li><li><strong>临界区：</strong> 访问共享资源的代码段。</li><li><strong>互斥：</strong> 任何时刻只允许一个进程进入临界区访问共享资源。<ul><li>任何时刻最多只能有一个进程处于同一组共享变量的<strong>相同的临界区域</strong></li><li>任何时刻最多只能有一个进程处于同一组共享变量的<strong>不同的临界区域</strong></li></ul></li></ul></li><li><strong>进程互斥原则：</strong><ul><li><strong>互斥性</strong>，任意时刻至多只有一个进程在关于同一组共享变量的临界区内</li><li><strong>进展性</strong>，在空闲时可以让想进入临界区的进程进入</li><li><strong>有限等待性</strong>，所有进程需要在有限的等待时间内获得进入该临界区的机会</li></ul></li><li>互斥的软件实现：<ul><li><strong>Dekker算法、Peterson算法：</strong> 理论上可行但复杂，不适用于多处理器。</li><li><strong>TestAndSet指令、Swap指令：</strong> 硬件支持的原子操作，但可能导致忙等待。</li></ul></li></ul></li><li>进程同步：<ul><li><strong>同步机制：</strong> 协调进程的执行顺序，使它们按特定顺序工作。</li><li>信号量和PV操作：<ul><li><strong>信号量：</strong> 一个整型变量，除了初始化外，只能通过P和V操作来访问。</li><li><strong>P操作（wait）：</strong> 信号量减1，如果小于0则阻塞。</li><li><strong>V操作（signal）：</strong> 信号量加1，如果小于等于0则唤醒一个阻塞进程。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo><mi>S</mi><mo>=</mo><mi>S</mi><mo>−</mo><mn>1</mn><mspace width="1em"></mspace><mtext>if</mtext><mspace width="1em"></mspace><mi>S</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">P(S): S=S−1 \quad \text{if}\quad S&lt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7335em;vertical-align:-.0391em"></span><span class="mord">1</span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord">if</span></span><span class="mspace" style="margin-right:1em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span></span></span></span> ，阻塞</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>:</mo><mi>S</mi><mo>=</mo><mi>S</mi><mo>+</mo><mn>1</mn><mspace width="1em"></mspace><mtext>if</mtext><mspace width="1em"></mspace><mi>S</mi><mo>≤</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">V(S): S=S+1 \quad \text{if}\quad S\le 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">:</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.8304em;vertical-align:-.136em"></span><span class="mord">1</span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord">if</span></span><span class="mspace" style="margin-right:1em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span></span></span></span> ，唤醒</li><li><strong>经典同步问题：</strong><ul><li><strong>先动作</strong>， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">V(S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.22222em">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mclose">)</span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(S)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mclose">)</span></span></span></span>，<strong>后动作</strong></li></ul></li><li>生产者-消费者问题、读者-写者问题、哲学家进餐问题。</li></ul></li><li><strong>条件临界区：</strong> 对临界区的一种扩展。</li><li>管程、会合：<ul><li><strong>管程：</strong> 一种高级同步机制，将共享数据及对数据的操作封装起来，提供互斥和同步的机制。</li><li><strong>会合：</strong> Ada语言中的同步机制。</li></ul></li><li><strong>事务存储器：</strong> 硬件辅助的同步机制。</li></ul></li></ul><hr><h2 id="死锁和饥饿">死锁和饥饿</h2><p>本章专门讨论了并发进程可能遇到的两个严重问题：死锁和饥饿，并提供了相应的处理策略。</p><ul><li>死锁的概念和类型：<ul><li><strong>死锁：</strong> 多个进程因争夺资源而造成的一种僵局，若无外力作用，它们都将无法向前推进。</li><li><strong>竞争资源引起死锁：</strong> 如共享打印机、共享文件等。</li><li><strong>进程间通信引起死锁：</strong> 循环等待消息。</li></ul></li><li>死锁的条件和处理：<ul><li>死锁的四个必要条件（Coffman 条件）：<ol><li><strong>资源独占：</strong> 资源一次只能被一个进程占用。</li><li><strong>保持申请：</strong> 进程已获得某些资源，又请求新的资源，并对已获得的资源保持不放。</li><li><strong>不可剥夺：</strong> 资源在未被使用完之前，不能被强行剥夺。</li><li><strong>循环等待：</strong> 存在一个进程等待序列 P1,P2,…,Pn，使得 P1 等待 P2 占有的资源，P2 等待 P3 占有的资源，…，Pn 等待 P1 占有的资源。</li></ol></li><li>处理死锁的策略：<ul><li><strong>死锁预防：</strong> 破坏死锁的四个必要条件之一。</li><li><strong>死锁避免：</strong> 运行时动态检查，确保系统进入安全状态。</li><li><strong>死锁检测：</strong> 检测是否发生死锁。</li><li><strong>死锁解除：</strong> 发现死锁后采取措施解除（如撤销进程、剥夺资源）。</li></ul></li></ul></li><li><strong>资源分配图及其约简：</strong> 用于死锁检测的工具。<ol><li>寻找一个非孤立且没有请求边的进程节点，若没有，算法结束</li><li>去除它所有的分配边</li><li>寻找所有可满足请求的进程，将它的请求边改成分配边</li></ol></li><li><strong>死锁定理</strong>：死锁状态的充分必要条件是资源分配图不可完全约简。</li><li>死锁的预防：<ul><li><strong>预先分配策略：</strong> 一次性申请所有资源（破坏请求并保持）。</li><li><strong>有序分配策略：</strong> 对资源进行编号，按编号顺序申请（破坏循环等待）。</li></ul></li><li>死锁的避免：<ul><li><strong>安全状态和安全进程序列：</strong> 系统能够找到一个执行序列，使得所有进程都能完成，则系统处于安全状态。</li><li><strong>银行家算法：</strong> Dijkstra提出的死锁避免算法，通过判断系统是否能进入安全状态来决定是否允许资源分配。<ul><li>分配资源</li><li>判断是否安全</li></ul></li></ul></li><li><strong>饥饿和饿死：</strong> 进程长时间得不到服务，可能是由于优先级调度等原因。</li></ul><hr><h2 id="主存储器管理">主存储器管理</h2><p>本章主要讲解了操作系统如何管理主存储器（内存），包括分配、保护和地址映射等。</p><ul><li><p><strong>存储器的功能：</strong> 存储分配、共享、保护和扩充、地址映射。</p></li><li><p>内存资源管理：</p><ul><li><strong>内存分区：</strong> 将内存划分为不同的区域。</li><li><strong>内存分配：</strong> 如何将分区分配给进程。</li><li><strong>碎片和紧凑：</strong> 外部碎片（分区之间）和内部碎片（分区内部）。紧凑用于消除外部碎片。</li></ul></li><li><p>单一连续区的存储管理：</p><p>最简单的管理方式，不常用。</p><ul><li><strong>双对界：</strong> 确保进程程序和数据都在界限寄存器范围内。</li><li>交换和重定位：<ul><li><strong>交换：</strong> 进程在内存和外存之间进行整体移动。</li><li><strong>重定位：</strong> 将程序的逻辑地址转换为物理地址。分为<strong>静态重定位</strong>（装入时完成）和<strong>动态重定位</strong>（运行时由硬件辅助完成）。</li></ul></li><li><strong>覆盖技术：</strong> 在内存紧张时，通过程序段的重叠来扩充内存。</li></ul></li><li><p>页式存储管理：</p><ul><li><strong>页式存储：</strong> 将逻辑地址空间和物理地址空间都划分为固定大小的块（页和页框），以页为单位进行分配。</li><li><strong>页表：</strong> 存储逻辑页号到物理页框号的映射关系。</li><li><strong>多级页表：</strong> 解决页表过大的问题，减少页表占用的内存空间。</li><li><strong>反置页表：</strong> 存储物理页框号到逻辑页号和进程ID的映射，适用于大地址空间。</li><li><strong>快表（TLB，Translation Lookaside Buffer）：</strong> 高速缓存，用于存储最近访问的页表项，加速地址转换。</li><li>有效访问时间=快表命中率×(快表访问时间+内存访问时间)+(1−快表命中率)×(快表访问时间+2×内存访问时间)</li></ul></li><li><p>段式存储管理：</p><ul><li><strong>基本原理：</strong> 将程序按逻辑单元（段）进行划分，每个段有独立的段号和段长。</li><li><strong>段表：</strong> 存储逻辑段号到物理地址的映射关系。</li><li><strong>段的共享和保护：</strong> 共享代码段、数据段。保护可以通过段的读/写/执行权限实现。</li></ul></li></ul><hr><h2 id="虚拟存储系统">虚拟存储系统</h2><p>本章在主存储器管理的基础上，引入了虚拟内存的概念，这是现代操作系统的一大创新，它使得程序可以运行在比实际物理内存更大的地址空间上。</p><ul><li><p>虚拟页式存储管理：</p><ul><li><p><strong>基本原理：</strong> 将程序地址空间划分为页，只将当前需要的页装入内存，不常用的页留在外存，需要时再调入。实现了<strong>离散分配</strong>和<strong>内存扩充</strong>。</p></li><li><p><strong>内存页框的分配策略：</strong> 固定分配、可变分配。</p></li><li><p><strong>外存块的分配策略：</strong> 连续分配、链式分配、索引分配。</p></li><li><p><strong>页面调入的时机：</strong> 预调页（局部性原理）、请求调页（缺页中断）。</p></li><li><p><strong>写时复制（Copy-on-Write）：</strong> 多个进程共享同一页，当任一进程尝试写入时，才复制该页。</p></li><li><p>置换算法：</p><p>当发生缺页且内存已满时，需要选择一个页面淘汰。</p><ul><li><strong>最优置换算法（OPT）：</strong> 淘汰未来最久不使用的页（理论最优，无法实现）。</li><li><strong>先进先出置换算法（FIFO）：</strong> 淘汰最早进入内存的页（可能发生<strong>Belady 现象</strong>）。</li><li><strong>最近最少使用置换算法（LRU）：</strong> 淘汰最长时间未使用的页（需要硬件支持或软件模拟，开销大）。</li><li><strong>时钟置换算法（Clock/NRU）：</strong> FIFO的改进，利用访问位。</li><li><strong>最不常用置换算法（LFU）：</strong> 淘汰使用次数最少的页。</li></ul></li><li><p><strong>颠簸（Thrashing）：</strong> 系统发生“抖动”，大部分时间用于页面置换，CPU利用率急剧下降。</p></li><li><p><strong>工作集模型：</strong> 进程在某段时间内频繁访问的页的集合。</p></li><li><p><strong>页故障率反馈模型：</strong> 根据缺页率调整分配给进程的页框数。</p></li><li><p><strong>交换：</strong> 与覆盖的区别在于交换是进程整体的调入调出。</p></li><li><p><strong>非均匀存储器访问（NUMA）：</strong> 现代多处理器系统架构，不同CPU访问不同内存区域的速度不同。</p></li></ul></li><li><p><strong>虚拟段式存储管理：</strong> 基本原理与页式类似，但分配和管理单位是段。</p></li><li><p><strong>虚拟段页式存储管理：</strong> 结合了段式和页式的优点，先分段再分页，既方便用户编程，又便于内存管理。</p></li></ul><hr><h2 id="文件系统">文件系统</h2><p>本章介绍了操作系统如何组织、存储和管理文件，以及如何提供文件访问接口。</p><ul><li>文件和文件系统：<ul><li><strong>文件：</strong> 具有名称的一组相关信息的集合。</li><li><strong>文件系统：</strong> 操作系统中负责管理和组织文件、目录、存储介质的部分。</li></ul></li><li>文件组织：<ul><li><strong>逻辑组织：</strong> 用户看到的文件结构，如流式文件、记录式文件。</li><li><strong>物理组织：</strong> 文件在存储介质上的存放方式，如连续分配、链式分配、索引分配。</li></ul></li><li>文件存储空间管理：<ul><li><strong>内存块表（FCB）：</strong> 文件控制块，存储文件的属性和位置信息。</li><li><strong>内存块链：</strong> 用于链式分配。</li><li><strong>位图：</strong> 用位表示磁盘块的空闲或占用状态。</li></ul></li><li>内存所需的表目：<ul><li><strong>系统打开文件表：</strong> 记录所有打开的文件信息。</li><li><strong>用户打开文件表：</strong> 记录特定用户打开的文件信息。</li><li><strong>表间联系：</strong> 通过索引或指针相互关联。</li></ul></li><li><strong>文件系统界面：</strong> 用户通过系统调用（open, read, write, close等）来访问文件。</li></ul><hr><h2 id="设备和IO">设备和IO</h2><p>本章讨论了操作系统如何管理各种I/O设备，确保它们能够高效、有序地工作。</p><ul><li><p><strong>设备管理的功能和目标：</strong> 提高设备利用率，提供方便的用户接口，管理设备分配与回收，实现I/O数据传输。</p></li><li><p>设备的分类：</p><ul><li><strong>IO设备和存储设备：</strong> 按功能。</li><li><strong>块型设备和字符型设备：</strong> 按数据传输单位（块设备传输固定大小块，字符设备传输单个字符）。</li><li><strong>独占型设备和共享型设备：</strong> 按是否允许同时使用（独占型如打印机，共享型如磁盘）。</li></ul></li><li><p>数据传输方式：</p><ul><li><strong>程序控制查询：</strong> CPU不断查询设备状态，效率低。</li><li><strong>中断驱动：</strong> 设备完成I/O后发起中断，CPU响应并处理。</li><li><strong>内存映射：</strong> I/O设备寄存器映射到内存地址空间，CPU通过访存指令操作设备。</li><li><strong>DMA（直接存储器存取）：</strong> 设备控制器直接与内存进行数据传输，无需CPU干预。</li><li><strong>通道：</strong> 更高级的DMA，可以执行简单的I/O程序，进一步解放CPU。</li></ul></li><li><p>设备调度：</p><ul><li><p><strong>磁盘输入输出参数：</strong> 寻道时间、旋转延迟、传输时间。</p></li><li><p>磁盘引臂调度算法：</p><p>优化磁盘I/O性能。</p><ul><li><strong>先来先服务（FCFS）：</strong> 简单。</li><li><strong>最短寻道时间优先（SSTF）：</strong> 优先服务距离当前磁头最近的请求（<strong>可能导致饥饿</strong>）。</li><li><strong>扫描算法（SCAN，电梯算法）：</strong> 磁头向一个方向移动，直到该方向没有请求，再反向移动。</li><li><strong>循环扫描算法（C-SCAN）：</strong> 磁头单向移动，到达末端后快速返回起始端继续扫描。</li></ul></li></ul></li><li><p>缓冲和缓存：</p><ul><li><strong>缓冲技术的引入：</strong> 缓解CPU与I/O设备速度不匹配的矛盾，减少CPU中断次数，提高CPU与I/O的并行性。</li><li><strong>私用缓冲和公用缓冲：</strong> 进程独占的缓冲和多个进程共享的缓冲。</li><li><strong>单缓冲、双缓冲、循环缓冲：</strong> 不同缓冲实现方式。</li><li><strong>缓冲池及其管理：</strong> 操作系统管理的一组共享缓冲区。</li><li><strong>缓冲技术的实现：</strong> 通过数据拷贝实现。</li><li><strong>缓存：</strong> 一种高速存储器，用于存放经常访问的数据的副本，利用局部性原理。</li></ul></li></ul><h2 id="名词解释">名词解释</h2><p>来自 <a target="_blank" rel="noopener" href="https://www.cnblogs.com/gonghr/p/16549543.html%E3%80%82">https://www.cnblogs.com/gonghr/p/16549543.html。</a></p><ul><li><strong>Mutual exclusion（互斥）</strong>：互斥也叫间接制约关系。当一个进程进入临界区使用临界资源时，另一个进程必须等待，当占用临界资源的进程退出临界区后，另一进程才运行去访问此临界资源，阻止对共享资源同时访问。</li><li><strong>Process（进程）</strong>：<ul><li>进程是进程实体的运行过程</li><li>是程序的一次执行过程</li><li>是具有独立功能的程序在一个数据集合上运行的过程</li><li>是系统进行<strong>资源分配和调度的一个独立单位</strong>。</li></ul></li><li><strong>Thread（线程）</strong>：线程是”轻量级进程“，是进程中的一个实体，是被系统<strong>独立调度和分派的基本单位，是一个基本的 CPU 执行单元</strong>，也是程序执行流的最小单元，由<strong>线程 ID、程序计数器、寄存器集合和堆栈</strong>组成。线程自己不拥有系统资源，只拥有一点在运行中必不可少的资源，但它可与同属于一个进程的其他线程共享进程所拥有的全部资源。</li><li><strong>Operating System（操作系统）</strong>：是一种运行在内核态的软件，是控制和管理整个计算机系统的<strong>硬件与软件资源</strong>，合理地组织、调度计算机的工作与资源的分配，进而为用户和其他软件提供方便接口与环境的程序集和。操作系统是计算机系统中最基本的系统软件。</li><li><strong>Race Conditions（竞态条件）</strong>：由于两个或者多个进程竞争使用不能被同时访问的资源，使得这些进程有可能因为时间上推进的先后原因而出现问题，这叫做竞争条件。分为两类，<strong>互斥、同步</strong>。竞争条件指有两个或多个进程读写某些共享数据，而最后的结果取决于进程运行的精确时序。</li><li><strong>Deadlock（死锁）</strong>：多个进程并发执行，出现进程对资源的竞争，每个进程都持有其他进程等待的资源，导致所有进程等待，形成僵局（互相等待），若无外力作用，这些进程都将无法向前推进。</li><li><strong>System Calls（系统调用）</strong>：系统调用是指用户在程序中调用操作系统所提供的一些子功能，<strong>是操作系统提供给应用程序使用的接口</strong>，系统调用可视为特殊的公共子程序。用户程序不能直接执行对系统影响非常大的操作，<strong>必须通过系统调用的方式请求操作系统代为执行</strong>，以便保证系统的稳定性和安全性，防止用户程序随意更改或访问重要的系统资源，影响其他进程的运行。</li><li><strong>Multiprogramming（多道程序设计）</strong>：多道程序设计是指在一台处理机上<strong>同时并发运行多个程序</strong>，即在一台处理机上有多个程序同时进入主存并发运行，<strong>宏观上并行，微观上串行交替运行</strong>。</li><li><strong>Physical Address（物理地址）</strong>：物理地址是指出现在CPU外部地址总线上的寻址物理内存的地址信号，是地址变换的最终结果地址。</li><li><strong>Critical Region（临界区）</strong>：<strong>访问临界资源的代码</strong>称为临界区。</li><li><strong>Busy Waiting(忙等待)</strong>：在进程互斥访问时，当一个进程位于其临界区内时，其他试图进入临界区的进程<strong>都必须在进入区内连续空循环</strong>，占用 CPU。在实现 I/O 时，用户程序发出一个系统调用，内核将其翻译成一个对应设备驱动程序的过程调用。然后设备驱动程序启动 I/O 并在一个<strong>连续不断的循环中检查该设备</strong>，看该设备是否完成了工作。当 I/O 结束后，设备驱动程序把数据送到指定的地方，并返回。然后操作系统将控制返回给调用者，这种方式称为忙等待。</li><li><strong>Buffer（缓冲器)</strong>：分为输入缓冲器和输出缓冲器，前者将外设送来的数据暂时存放，以便处理器将它取走；后者的作用是用来暂时存放处理器送往外设的数据。<strong>用来解决外设和处理器速度不匹配的问题</strong>。</li><li><strong>I-nodes（i 结点）</strong>：UNIX 系统采用文件名和文件描述信息分开的方法，使文件描述信息单独形成一个称为索引节点的数据结构，简称 i 结点。在文件目录中每个目录项仅由文件名和指向该文件所对应的 i 结点的指针组成。</li><li><strong>Monitors（管程）</strong>：管程可以看做一个软件模块，它定义了一个<strong>数据结构，将共享的变量和对于这些共享变量的操作封装起来</strong>，形成一个具有一定接口的功能模块，进程可以调用管程来实现进程级别的并发控制。任一时刻管程中只能有一个活跃进程。</li><li><strong>Virtual Address（虚拟地址）</strong>：虚拟地址并不真实存在于计算机中。每个进程都分配有自己的虚拟空间，而且只能访问自己被分配使用的空间，进程隔离，更好的保护系统安全运行。操作系统为应用程序提供的一个统一的内存访问接口。所有的应用程序只需要面向虚拟地址进行编写，而不用考虑实际的物理地址的使用情况。当应用程序使用虚拟地址访问内存时，处理器（CPU）会通过 MMU（内存管理单元）将其转化成物理地址，方便编程。</li><li><strong>Interrupt（中断）</strong>：指处理机<strong>处理程序运行中出现的紧急事件的整个过程</strong>。程序运行过程中，系统外部、系统内部或者现行程序本身若出现紧急事件，处理机立即中止现行程序的运行，自动转入相应的处理程序（<strong>中断服务程序</strong>），待处理完后，再返回原来的程序运行，这整个过程称为程序中断。中断分为<strong>外中断和内中断</strong>。外中断是指来自 CPU 执行指令外部的事件，通常用于信息输入/输出，比如 I/O 中断，时钟中断；内中断是指来自 CPU 执行指令内部的事件，入程序的非法操作码、地址越界……一旦出现，就应立即处理，不能被屏蔽。</li><li><strong>Semaphore（信号量）</strong>：信号量（semaphore）是操作系统用来解决并发中的<strong>互斥和同步问题</strong>的一种方法。是在多线程环境下使用的一种设施，是可以用来保证两个或多个关键代码段不被并发调用。在进入一个关键代码段之前，线程必须获取一个信号量；一旦该关键代码段完成了，那么该线程必须释放信号量。其它想进入该关键代码段的线程必须等待直到第一个线程释放信号量。</li><li><strong>Device Driver（驱动程序）</strong>：是一种可以<strong>使计算机和设备通信的特殊程序</strong>，可以说相当于<strong>硬件的接口</strong>，操作系统只能通过这个接口，才能控制硬件设备的工作，假如某设备的驱动程序未能正确安装，便不能正常工作。</li><li><strong>Relocation（重定位)</strong>：重定位就是<strong>把程序的逻辑地址空间变换成内存中的实际物理地址空间</strong>的过程，也就是说在装入时对目标程序中指令和数据的修改过程。</li><li><strong>Atomic Action（原子操作)</strong>：是指<strong>不可被中断的一个或一系列操作</strong>，不会被线程调度机制打断的操作，这种操作一旦开始，就一直运行到结束。要么全部成功，要么全部失败。</li><li><strong>Device Independence（设备独立性）</strong>：设备独立性是指操作系统把所有外部设备<strong>统一当作成文件来看待</strong>，只要安装它们的驱动程序，任何用户都可以像使用文件一样，操纵、使用这些设备，而不必知道它们的具体存在形式。</li><li><strong>Avoiding Locks（避免锁）</strong>：避免锁，指对进程资源申请不加限制，但在分配之前会作安全检查，只有安全才进行分配。</li><li><strong>Read-Copy-Update（RCU）</strong>：是一种同步机制，它的优点就是可以在更新的过程中，运行多个 reader 进行读操作。支持一个写操作和多个读操作同时进行。对于被 RCU 保护的共享数据结构，读者不需要获得任何锁就可以访问它，但写者在访问它时首先拷贝一个副本，然后对副本进行修改，最后使用一个回调 (<code>callback</code>) 机制在适当的时机把指向原来数据的指针重新指向新的被修改的数据。</li></ul><h2 id="参考和注解">参考和注解</h2></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/" class="category-chain-item">课程笔记</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/OS/" class="print-no-link">#OS</a></div></div><div class="license-box my-3"><div class="license-title"><div>操作系统复习</div><div>https://blog.kisechan.space/2025/notes-os/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Kisechan</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2025年6月13日</div></div><div class="license-meta-item license-meta-date"><div>更新于</div><div>2025年6月17日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="NC - 非商业性使用"><i class="iconfont icon-nc"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="SA - 相同方式共享"><i class="iconfont icon-sa"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2025/notes-ptms/" title="notes-ptms"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">notes-ptms</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2025/notes-database-4/" title="数据库原理 课程笔记 (4) 杂项和题目整理"><span class="hidden-mobile">数据库原理 课程笔记 (4) 杂项和题目整理</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="gitalk-container"></div><script type="text/javascript">Fluid.utils.loadComments("#gitalk-container",function(){Fluid.utils.createCssLink("/css/gitalk.css"),Fluid.utils.createScript("https://lib.baomitu.com/gitalk/1.8.0/gitalk.min.js",function(){var e=Object.assign({clientID:"Ov23liWYIiu2jxReIEhB",clientSecret:"d7b44817ae2553b2175fdecfde9718b582bdc653",repo:"Comment-Kisechan",owner:"Kisechan",admin:["Kisechan"],language:"zh-CN",labels:["Gitalk"],perPage:10,pagerDirection:"last",distractionFreeMode:!1,createIssueManually:!0,proxy:"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token",enabled:!0},{id:"06f98dd63866ec33003e8abacd29cc6e"});new Gitalk(e).render("gitalk-container")})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><div><span>Frame by </span><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <span>| Theme </span><a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div style="font-size:.85rem"><span id="timeStart">本站自 2024 年 4 月 26 日 20 : 46 : 17 起</span> <span><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></span><span><span><br>本站总访问量&nbsp<span id="busuanzi_value_site_pv"></span>&nbsp次</span> <span>总访客数&nbsp<span id="busuanzi_value_site_uv"></span>&nbsp人 &nbsp<br></span></span><span>&copy; 2024 - 2025 By <a href="https://github.com/Kisechan" target="_blank" rel="nofollow noopener"><strong>Kisechan</strong></a><br></span><span>今天也很喜欢你！</span><br><a href="https://icp.gov.moe/?keyword=20251453" target="_blank">萌ICP备20251453号</a></div></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!0,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>var relativeDate=function(){var t,e,i,n,m=document.getElementById("updated-time");m&&(e=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:Z|[+-]\d{2}:\d{2})/,(i=(t=m.textContent).match(e))&&(n=moment(i[0]).fromNow(),m.textContent=t.replace(e,n)),m.style.display="")};Fluid.utils.createScript("https://lib.baomitu.com/moment.js/2.29.4/moment.min.js",function(){"zh-cn".startsWith("en")?relativeDate():Fluid.utils.createScript("https://lib.baomitu.com/moment.js/2.29.4/locale/zh-cn.min.js",function(){relativeDate()})})</script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-t},CONFIG.toc)),0<o.find(".toc-list-item").length&&o.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;0<t.find(".toc-list-item").length&&t.css("visibility","visible")}}))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/cursor.js"></script><script src="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="//cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="/js/boot.js"></script><script type="text/javascript">var originalTitle=document.title;window.onblur=function(){document.title="等你回来哦"},window.onfocus=function(){document.title=originalTitle}</script><div id="tooltip-rightmenu" class="tooltip-rightmenu">如果需要使用原始右键菜单请按下 <strong>Ctrl+右键</strong></div><div id="tooltip-clipboard" class="tooltip-rightmenu">链接复制成功！</div><div id="rightmenu-wrapper"><ul class="list-v rightmenu" id="rightmenu-content"><li class="navigation menuNavigation-Content"><a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fa fa-arrow-left rightmenu-icon"></i></a> <a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fa fa-arrow-right rightmenu-icon"></i></a> <a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fa fa-refresh rightmenu-icon"></i></a> <a aria-label="TOP" href="#" role="button"><i class="fa fa-arrow-up rightmenu-icon"></i></a></li><hr class="menuLoad-Content" style="display:block"><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><span><i class="fa fa-search rightmenu-icon"></i> 站内搜索</span></a></li><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" href="javascript:;" onclick="toggleFullScreen()"><span><i class="fa fa-arrows-alt rightmenu-icon"></i> 切换全屏</span></a></li><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" href="javascript:;" onclick="copyPageUrl()"><span><i class="fa fa-clipboard rightmenu-icon"></i> 复制链接</span></a></li><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" href="javascript:;" onclick="scrollToComments()"><span><i class="fa fa-commenting rightmenu-icon"></i> 立即评论</span></a></li><hr class="menuLoad-Content" style="display:block"><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" target="_blank" rel="noopener" href="https://www.kisechan.space/" data-group="link"><span><i class="fa fa-info-circle rightmenu-icon"></i> 关于本站</span></a></li></ul></div><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link href="/css/custom_right_menu_icons.css" type="text/css" rel="stylesheet"><script src="/js/right_menu.js" type="text/javascript"></script><link href="/css/right_menu.css" type="text/css" rel="stylesheet"><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/koharu.model.json"},display:{position:"left",width:150,height:300},mobile:{show:!1},log:!1})</script></body></html>