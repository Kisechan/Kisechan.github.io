<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><link rel="manifest" href="/manifest.json"><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://images.kisechan.space/apple-touch-icon.png"><link rel="icon" href="https://images.kisechan.space/icon.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#004e66"><meta name="author" content="Kisechan"><meta name="keywords" content=""><meta name="description" content="第1章：概论 第2章：数据通信基础 (物理层的理论基础，如傅里叶变换、编码解码) 第3章：物理层 (介质、信号、比特流) 第4章：数据链路层 (成帧、差错控制、流量控制、以太网) 第5章：网络层 (IP协议、路由算法、子网划分) —— 核心难点 第6章：传输层 (TCP&#x2F;UDP、拥塞控制、可靠传输) —— 核心难点 第7章：局域网与广域网技术 第8章：TCP&#x2F;IP 协议 (含IPv6基础) 第9"><meta property="og:type" content="article"><meta property="og:title" content="计算机网络总结归纳"><meta property="og:url" content="https://blog.kisechan.space/2025/notes-networks-summary/index.html"><meta property="og:site_name" content="Kisechan&#39;s Blog"><meta property="og:description" content="第1章：概论 第2章：数据通信基础 (物理层的理论基础，如傅里叶变换、编码解码) 第3章：物理层 (介质、信号、比特流) 第4章：数据链路层 (成帧、差错控制、流量控制、以太网) 第5章：网络层 (IP协议、路由算法、子网划分) —— 核心难点 第6章：传输层 (TCP&#x2F;UDP、拥塞控制、可靠传输) —— 核心难点 第7章：局域网与广域网技术 第8章：TCP&#x2F;IP 协议 (含IPv6基础) 第9"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://images.kisechan.space/20251221213225022.jpg"><meta property="article:published_time" content="2025-12-21T13:30:20.000Z"><meta property="article:modified_time" content="2025-12-22T14:11:33.254Z"><meta property="article:author" content="Kisechan"><meta property="article:tag" content="计算机网络"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://images.kisechan.space/20251221213225022.jpg"><meta name="referrer" content="no-referrer-when-downgrade"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><title>计算机网络总结归纳 - Kisechan&#39;s Blog</title><link rel="stylesheet" type="text/css" href="/css/loading.css"><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.16.2/katex.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4890189_m2l1f174snq.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/cursor.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var dntVal,CONFIG={hostname:"blog.kisechan.space",root:"/",version:"1.9.7",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:["home"]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:"#"},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!0,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4",collapseDepth:4},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml",include_content_in_search:!0};CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),n=new MutationObserver(e=>{for(let t of e)if("childList"===t.type){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML)+3837;break}}),i=new MutationObserver(e=>{for(let t of e)if("childList"===t.type){i.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML)+6136;break}}),r={childList:!0};n.observe(e,r),i.observe(t,r)});</script><meta name="generator" content="Hexo 7.2.0"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="alternate" href="/atom.xml" title="Kisechan's Blog" type="application/atom+xml"></head><body><div><div class="real_mask" style="background-color:rgba(0,0,0,.3);width:100%;height:100%;position:fixed;z-index:-777"></div><div id="banner_video_insert"></div><div id="vvd_banner_img"></div></div><div id="banner"></div><div id="loader-box"><div class="loader-wrapper"><div class="loader"></div><div class="loader-text"><div>L</div><div>O</div><div>A</div><div>D</div><div>I</div><div>N</div><div>G</div><div></div><div></div><div></div></div></div><script>var endLoading=function(){document.body.style.overflow="auto",document.getElementById("loader-box").remove()};window.addEventListener("load",endLoading)</script></div><header><div class="header-inner" style="height:80vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>KISECHAN</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/" target="_self"><i class="iconfont icon-Homehomepagemenu"></i> <span>博客</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-newstextarticle"></i> <span>文章</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/archives/" target="_self"><i class="iconfont icon-archive"></i> <span>归档</span> </a><a class="dropdown-item" href="/categories/" target="_self"><i class="iconfont icon-categories"></i> <span>分类</span> </a><a class="dropdown-item" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-user"></i> <span>关于</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/about/" target="_self"><i class="iconfont icon-info-fill"></i> <span>关于</span> </a><a class="dropdown-item" href="/playlist/" target="_self"><i class="iconfont icon-music"></i> <span>歌单</span> </a><a class="dropdown-item" href="https://github.com/Kisechan/Kisechan.github.io" target="_self"><i class="iconfont icon-git"></i> <span>仓库</span> </a><a class="dropdown-item" href="/atom.xml" target="_self"><i class="iconfont icon-rss"></i> <span>RSS</span></a></div></li><li class="nav-item"><a class="nav-link" href="https://www.kisechan.space/tools/" target="_self"><i class="iconfont icon-tool-fill"></i> <span>工具</span></a></li><li class="nav-item"><a class="nav-link" href="/links/" target="_self"><i class="iconfont icon-link"></i> <span>友链</span></a></li><li class="nav-item"><a class="nav-link" href="https://www.travellings.cn/go.html" target="_self"><i class="iconfont icon-train"></i> <span>开往</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://images.kisechan.space/202502042159748.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">计算机网络总结归纳</span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> Kisechan </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2025-12-21 21:30" pubdate>2025年12月21日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 27k 字 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div><div class="scroll-down-bar"><i class="iconfont icon-arrowdown"></i></div></div></div></div></div><script type="text/javascript" src="/vvd_js/jquery.js"></script><div class="banner" id="banner"><div class="full-bg-img"></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="课程笔记" id="heading-311a46cfdaa3afda544e9285644f70d7" role="tab" data-toggle="collapse" href="#collapse-311a46cfdaa3afda544e9285644f70d7" aria-expanded="true">课程笔记 <span class="list-group-count">(16)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-311a46cfdaa3afda544e9285644f70d7" role="tabpanel" aria-labelledby="heading-311a46cfdaa3afda544e9285644f70d7"><div class="category-post-list"><a href="/2024/oop/" title="面向对象程序设计课程笔记" class="list-group-item list-group-item-action"><span class="category-post">面向对象程序设计课程笔记</span> </a><a href="/2024/linux-note/" title="Linux课程笔记" class="list-group-item list-group-item-action"><span class="category-post">Linux课程笔记</span> </a><a href="/2024/ds/" title="数据结构课程板子合集 with 笔记" class="list-group-item list-group-item-action"><span class="category-post">数据结构课程板子合集 with 笔记</span> </a><a href="/2025/notes-algorithm-analysis/" title="算法设计与分析 课程笔记" class="list-group-item list-group-item-action"><span class="category-post">算法设计与分析 课程笔记</span> </a><a href="/2025/notes-database-1/" title="数据库原理 课程笔记 (1) 数据库、关系代数和 SQL" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (1) 数据库、关系代数和 SQL</span> </a><a href="/2025/notes-database-2/" title="数据库原理 课程笔记 (2) E-R 模型和关系模式" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (2) E-R 模型和关系模式</span> </a><a href="/2025/notes-database-3/" title="数据库原理 课程笔记 (3) 存储、索引、事务和并发" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (3) 存储、索引、事务和并发</span> </a><a href="/2025/notes-database-4/" title="数据库原理 课程笔记 (4) 杂项和题目整理" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (4) 杂项和题目整理</span> </a><a href="/2025/notes-os/" title="操作系统复习" class="list-group-item list-group-item-action"><span class="category-post">操作系统复习</span> </a><a href="/2025/notes-ptms/" title="概率论与数理统计" class="list-group-item list-group-item-action"><span class="category-post">概率论与数理统计</span> </a><a href="/2025/notes-java/" title="Java 程序设计" class="list-group-item list-group-item-action"><span class="category-post">Java 程序设计</span> </a><a href="/2025/notes-networks/" title="计算机网络课程笔记" class="list-group-item list-group-item-action"><span class="category-post">计算机网络课程笔记</span> </a><a href="/2025/notes-design-pattern/" title="软件设计模式 课程笔记" class="list-group-item list-group-item-action"><span class="category-post">软件设计模式 课程笔记</span> </a><a href="/2025/notes-machine-learning/" title="机器学习 课程笔记" class="list-group-item list-group-item-action"><span class="category-post">机器学习 课程笔记</span> </a><a href="/2025/notes-software-engineering-summary/" title="软件工程课程部分内容归纳" class="list-group-item list-group-item-action"><span class="category-post">软件工程课程部分内容归纳</span> </a><a href="/2025/notes-networks-summary/" title="计算机网络总结归纳" class="list-group-item list-group-item-action active"><span class="category-post">计算机网络总结归纳</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">计算机网络总结归纳</h1><p id="updated-time" class="note note-info" style="display:none">本文最后更新于 2025-12-22T22:11:33+08:00</p><div class="markdown-body"><ul><li><strong>第1章：概论</strong></li><li><strong>第2章：数据通信基础</strong> (物理层的理论基础，如傅里叶变换、编码解码)</li><li><strong>第3章：物理层</strong> (介质、信号、比特流)</li><li><strong>第4章：数据链路层</strong> (成帧、差错控制、流量控制、以太网)</li><li><strong>第5章：网络层</strong> (IP协议、路由算法、子网划分) —— <em>核心难点</em></li><li><strong>第6章：传输层</strong> (TCP/UDP、拥塞控制、可靠传输) —— <em>核心难点</em></li><li><strong>第7章：局域网与广域网技术</strong></li><li><strong>第8章：TCP/IP 协议</strong> (含IPv6基础)</li><li><strong>第9章：Internet 服务</strong> (DNS, DHCP, Email等)</li><li>(第10-12章为简讲或不讲内容：网络编程、安全、管理)</li></ul><h2 id="英文缩写-概念">英文缩写/概念</h2><table><thead><tr><th style="text-align:center">英文缩写</th><th style="text-align:center">全称</th><th style="text-align:center">中文</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center">SAP</td><td style="text-align:center">Service Access Point</td><td style="text-align:center"></td><td style="text-align:center">层间接口处<strong>提供服务的地方</strong></td></tr><tr><td style="text-align:center">SDU</td><td style="text-align:center">Service Data Unit</td><td style="text-align:center"></td><td style="text-align:center"><strong>相邻层</strong>在提供服务的过程中要传递的<strong>数据单元</strong></td></tr><tr><td style="text-align:center">PDU</td><td style="text-align:center">Protocol Data Unit</td><td style="text-align:center"></td><td style="text-align:center"><strong>对等层</strong>间交换的信息单位，N层的PDU由N层的SDU加上该层的PCI 构成</td></tr><tr><td style="text-align:center">PCI</td><td style="text-align:center">Protocol Control Information</td><td style="text-align:center"></td><td style="text-align:center">该层的协议控制信息</td></tr><tr><td style="text-align:center"></td><td style="text-align:center">request</td><td style="text-align:center"><strong>请求</strong>服务原语</td><td style="text-align:center">一个实体请求得到某种服务。由(N+1)向N层发出的,要求N层提供服务</td></tr><tr><td style="text-align:center"></td><td style="text-align:center">indication</td><td style="text-align:center"><strong>指示</strong>服务原语</td><td style="text-align:center">把关于某一事件的消息告诉某一实体。由N向(N+1)层发出，表示服务开始</td></tr><tr><td style="text-align:center"></td><td style="text-align:center">response</td><td style="text-align:center"><strong>响应</strong>服务原语</td><td style="text-align:center">一个实体愿意响应某一事件，由(N+1)向N层发出，表示对指示的响应</td></tr><tr><td style="text-align:center"></td><td style="text-align:center">confirm</td><td style="text-align:center"><strong>证实</strong>服务原语</td><td style="text-align:center">确认一个实体的服务请求。由N向(N+1)层发出，表示请求已完成</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">信源</td><td style="text-align:center">产生要发送数据的设备</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">发送设备</td><td style="text-align:center">对数据进行编码的设备</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">传输系统</td><td style="text-align:center">传输线路或网络</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">接收设备</td><td style="text-align:center">将接收的信号变成数据</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">信宿</td><td style="text-align:center">目的系统</td></tr><tr><td style="text-align:center">ASK</td><td style="text-align:center">Amplitude shift key</td><td style="text-align:center">幅移键控</td><td style="text-align:center">用载波的不同幅度代替数字1，0</td></tr><tr><td style="text-align:center">FSK</td><td style="text-align:center">Frequency shift key</td><td style="text-align:center">频移键控</td><td style="text-align:center">用载波的不同频率代替数字1，0</td></tr><tr><td style="text-align:center">PSK</td><td style="text-align:center">Phase shift key</td><td style="text-align:center">相移键控</td><td style="text-align:center">用载波的不同相位代替数字1，0</td></tr><tr><td style="text-align:center">QAM</td><td style="text-align:center">Quadrature amplitude modulation</td><td style="text-align:center">正交调幅</td><td style="text-align:center">ASK和PSK结合起来的编码方法</td></tr><tr><td style="text-align:center">FDM</td><td style="text-align:center">Frequency-Division Multiplexing</td><td style="text-align:center">频分多路复用</td><td style="text-align:center">通过分割线路的带宽来实现，适用于模拟信号</td></tr><tr><td style="text-align:center">TDM</td><td style="text-align:center">Time-Division Multiplexing</td><td style="text-align:center">时分多路复用</td><td style="text-align:center">通过分割时间片来划分信道，每个时间片由一个复用信号占用，适用于数字信号</td></tr><tr><td style="text-align:center">WDM</td><td style="text-align:center">Wavelength-Division Multiplexing</td><td style="text-align:center">波分多路复用</td><td style="text-align:center">利用多个激光器在单条光纤上同时发送多束不同波长激光，就是光的 FDM</td></tr><tr><td style="text-align:center">CDMA</td><td style="text-align:center">Code-Division Multiple Access</td><td style="text-align:center">码分多路复用</td><td style="text-align:center">根据码型结构的不同来实现信号的分割的多路复用</td></tr><tr><td style="text-align:center">CRC</td><td style="text-align:center"></td><td style="text-align:center">循环校验码</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">DTE</td><td style="text-align:center">Data Terminal Equipment</td><td style="text-align:center"></td><td style="text-align:center">具有数据处理能力及发送和接收数据信息能力的设备</td></tr><tr><td style="text-align:center">DCE</td><td style="text-align:center">Data Circuit-Terminating Equipment</td><td style="text-align:center"></td><td style="text-align:center">是能够通过网络发送和接收模拟或数字信号形式数据的设备</td></tr><tr><td style="text-align:center">ENQ</td><td style="text-align:center">EQuiry</td><td style="text-align:center">询问帧</td><td style="text-align:center">在询问/确认 (ENQ/ACK) 模式下，如果两个设备之间存在一条专用链路，启动方会首先发送一个询问帧 (ENQ) 来询问接收方是否可以接收数据</td></tr><tr><td style="text-align:center">ACK</td><td style="text-align:center">ACKnowledge</td><td style="text-align:center">确认帧</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">NAK</td><td style="text-align:center">Negative AcKnkowledge</td><td style="text-align:center">否认帧</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">ARQ</td><td style="text-align:center">Automatic Repeat reQuest</td><td style="text-align:center">自动重复请求</td><td style="text-align:center">数据帧在传输中出现错误，接收方就返回一个 NAK，出错的帧就会被发送方重新传送</td></tr><tr><td style="text-align:center">RIP</td><td style="text-align:center">Routing Information Protocol</td><td style="text-align:center">路由信息协议</td><td style="text-align:center">距离向量路由算法使用的协议</td></tr><tr><td style="text-align:center">OSPF</td><td style="text-align:center">Open Short Path First</td><td style="text-align:center">开放式最短路径优先协议</td><td style="text-align:center">链路状态路由算法使用的协议<br>同时也是内部网关路由选择的路由协议</td></tr><tr><td style="text-align:center">BGP</td><td style="text-align:center">Border Gateway Protocol</td><td style="text-align:center">边界网关协议</td><td style="text-align:center">外部网关协议，完成自治系统间的路由选择问题</td></tr><tr><td style="text-align:center">IGP</td><td style="text-align:center">Interior Gateway Protocol</td><td style="text-align:center">内部网关协议</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">EGP</td><td style="text-align:center">Exterior GatewayProtocol</td><td style="text-align:center">外部网关协议</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">AS</td><td style="text-align:center"></td><td style="text-align:center">自治系统</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">SPF</td><td style="text-align:center">Shortest Path First</td><td style="text-align:center">SPF 算法</td><td style="text-align:center">就是 Dijkstra 算法</td></tr><tr><td style="text-align:center">TSAP</td><td style="text-align:center">Transport Service Access Point</td><td style="text-align:center"></td><td style="text-align:center">传输服务点的地址，称为端口号</td></tr><tr><td style="text-align:center">NSAP</td><td style="text-align:center">Network Service Access Point</td><td style="text-align:center"></td><td style="text-align:center">网络服务访问点</td></tr><tr><td style="text-align:center">LLC</td><td style="text-align:center"></td><td style="text-align:center">逻辑链路控制子层</td><td style="text-align:center">IEEE 802数据链路层的上子层，它对于所有的LAN协议来说都是相同的</td></tr><tr><td style="text-align:center">MAC</td><td style="text-align:center"></td><td style="text-align:center">媒体访问控制子层</td><td style="text-align:center">解决共享介质的竞争使用问题</td></tr></tbody></table><h2 id="协议汇总">协议汇总</h2><h3 id="EIA-232-接口标准">EIA-232 接口标准</h3><p>EIA-232 接口标准是一种重要的物理层协议，用于规范<strong>数据终端设备 (DTE)</strong> 和 <strong>数据电路终接设备 (DCE)</strong> 之间的连接，确保不同设备能够方便地相互连接。</p><ul><li><strong>制定机构和历史：</strong> EIA-232 接口标准是由<strong>电子工业协会 (EIA)</strong> 在 1962 年制定的，早期被称为 <strong>RS-232</strong> 标准。</li><li><strong>物理层协议功能：</strong> 作为物理层协议，它定义了 <strong>DTE-DCE 接口</strong>的标准化，包括机械、电气、功能和规程四个方面的特性。</li><li><strong>典型应用场景：</strong> 它是一种 DTE-DCE 接口标准，主要用于 DTE（如计算机或终端）通过 DCE（如调制解调器）连接到通信网络的情境。</li><li><strong>通信距离限制：</strong> EIA-232 接口对电缆长度有限制，<strong>不能超过 25 米</strong>。</li></ul><h4 id="机械特性">机械特性</h4><ul><li><strong>连接器：</strong> EIA-232 接口使用 <strong>DB25 连接器</strong>（DB25 连接头），该连接器定义了插头的尺寸和各管脚的位置等。</li><li><strong>引脚数量：</strong> 使用 <strong>25 根引脚</strong>进行物理连接。</li></ul><h4 id="电气特性">电气特性</h4><p><strong>编码方式：</strong> 采用<strong>非归零电平编码 (NRZ-L)</strong> 进行数据传输。</p><ul><li><strong>逻辑电平定义：</strong> 逻辑 <strong>0</strong> 对应<strong>正电平</strong>，逻辑 <strong>1</strong> 对应<strong>负电平</strong>。</li><li><strong>电压范围：</strong> 传输线上的电压范围在 <strong>-15V 到 +15V</strong> 之间，其中有效区域通常为 +3V 到 +15V（逻辑 0）和 -3V 到 -15V（逻辑 1），-3V 到 +3V 是无效区域（或过渡区域）。</li></ul><h4 id="功能特性（主要功能线）">功能特性（主要功能线）</h4><p>EIA-232 定义了多条线路来区分数据线和控制线，每条线上的特定电平代表特定的意义。</p><p><img src="https://images.kisechan.space/20251222141330703.png" srcset="/img/loading.gif" lazyload alt=""></p><h4 id="规程特性">规程特性</h4><p>规程特性说明了数据交换的<strong>控制步骤</strong>，即各种可能事件（如准备、就绪、建立、数据传输和清除连接）发生的<strong>先后顺序</strong>。源设备和目的设备之间的物理连接建立和释放涉及多个引脚（如 20、6、4、5、8、2、24、3、17 号引脚）信号的激活与撤销。</p><h4 id="其它相关协议">其它相关协议</h4><h5 id="空调制解调器-Null-Modem">空调制解调器 (Null Modem)</h5><ul><li><strong>概念：</strong> 是一种基于 <strong>EIA-232</strong> 标准的连接方案。当需要连接的两台 <strong>DTE</strong> 设备（如两台计算机）相距很近，<strong>不需要调制解调器 (DCE)</strong> 时，可以直接相连。</li><li><strong>作用：</strong> 空调制解调器在没有 DCE 设备的环境下，提供了 <strong>DTE-DCE/DCE-DTE</strong> 的接口功能。</li></ul><h5 id="EIA-232-的子集">EIA-232 的子集</h5><p>实际的 <strong>DTE-DCE</strong> 接口通常只使用 <strong>EIA-232</strong> 标准的一部分引脚（如 8 或 9 针连接器），因为大多数用户并不需要所有功能，例如在异步串行通信中不需要同步时钟信号线。计算机的串行口就是 EIA-232 标准接口的一个子集。</p><h5 id="X-21-标准">X.21 标准</h5><p>它使用 DB-15 连接头 (15 针)，<strong>撤销了大多数控制线路</strong>，将控制信息导向数据线路进行传输。针对数字通信设计，接口简化，效率更高。</p><h3 id="PDU、SDU-和-PCI">PDU、SDU 和 PCI</h3><p>我给你的东西，是你的 SDU；你在外面包的壳，是你的 PCI；包完之后的整体，是你的 PDU。</p><p>SDU 如果很大，则可以进行分段。</p><p><img src="https://images.kisechan.space/20251222134542653.png" srcset="/img/loading.gif" lazyload alt=""></p><table><thead><tr><th style="text-align:center">OSI 层</th><th style="text-align:center">本层 SDU</th><th style="text-align:center">本层 PCI</th><th style="text-align:center">得到的本层 PDU</th></tr></thead><tbody><tr><td style="text-align:center">应用层</td><td style="text-align:center">应用数据</td><td style="text-align:center">应用协议头</td><td style="text-align:center">报文</td></tr><tr><td style="text-align:center">传输层</td><td style="text-align:center">应用层报文</td><td style="text-align:center">TCP/UDP 头</td><td style="text-align:center">报文段</td></tr><tr><td style="text-align:center">网络层</td><td style="text-align:center">TCP/UDP 段</td><td style="text-align:center">IP 头</td><td style="text-align:center">分组 / IP 数据报</td></tr><tr><td style="text-align:center">数据链路层</td><td style="text-align:center">IP 分组</td><td style="text-align:center">MAC 头 + FCS</td><td style="text-align:center">帧</td></tr><tr><td style="text-align:center">物理层</td><td style="text-align:center">帧</td><td style="text-align:center">—</td><td style="text-align:center">比特流</td></tr></tbody></table><h3 id="服务">服务</h3><p><img src="https://images.kisechan.space/20251222135140981.png" srcset="/img/loading.gif" lazyload alt=""></p><p><img src="https://images.kisechan.space/20251222135154815.png" srcset="/img/loading.gif" lazyload alt=""></p><h3 id="信息">信息</h3><table><thead><tr><th style="text-align:center">名词</th><th style="text-align:center">本质</th><th style="text-align:center">是否抽象</th><th style="text-align:center">作用</th><th style="text-align:center">度量方式</th></tr></thead><tbody><tr><td style="text-align:center"><strong>信息</strong></td><td style="text-align:center">意义 / 不确定性减少</td><td style="text-align:center">✅</td><td style="text-align:center">表达内容</td><td style="text-align:center">bit（信息量、熵）</td></tr><tr><td style="text-align:center"><strong>数据</strong></td><td style="text-align:center">信息的表示</td><td style="text-align:center">半抽象</td><td style="text-align:center">存储/处理</td><td style="text-align:center">bit / byte</td></tr><tr><td style="text-align:center"><strong>信号</strong></td><td style="text-align:center">数据的物理形式</td><td style="text-align:center">❌</td><td style="text-align:center">传输</td><td style="text-align:center">幅度、频率、功率</td></tr><tr><td style="text-align:center"><strong>信道</strong></td><td style="text-align:center">传输通路</td><td style="text-align:center">❌</td><td style="text-align:center">限制能力</td><td style="text-align:center">带宽、容量</td></tr></tbody></table><h3 id="ENQ、ACK-和-NAK">ENQ、ACK 和 NAK</h3><h4 id="ENQ">ENQ</h4><p><strong>ENQ</strong> 的全称是 <strong>EQuiry</strong>，意为<strong>询问帧</strong>。它在数据链路层的<strong>线路规程</strong>中用于启动一个通信会话或查询对方状态。</p><p><strong>出现的场景有</strong>：</p><ul><li><strong>线路规程（数据链路层）：</strong><ul><li>在<strong>询问/确认 (ENQ/ACK) 模式</strong>下，如果两个设备之间存在一条专用链路（即点对点方式），<strong>启动方</strong>会首先发送一个<strong>询问帧 (ENQ)</strong> 来询问接收方是否可以接收数据,。</li></ul></li></ul><h4 id="ACK">ACK</h4><p><strong>ACK</strong> 的全称是 <strong>ACKnowledge</strong>，意为<strong>确认</strong>。它是一种积极的响应信号或控制帧，用于表示数据或请求已被成功接收或同意。</p><p><strong>出现的场景有</strong>：</p><ul><li>线路规程（<strong>数据链路层</strong>）：<ul><li>在<strong>询问/确认 (ENQ/ACK) 模式</strong>下，<strong>接收方</strong>如果已准备好接收数据，会回答一个<strong>确认帧 (ACK)</strong>,。</li><li>在<strong>轮询/选择 (Poll/Select) 模式</strong>下的<strong>选择 (Select)</strong> 阶段，当主设备希望发送数据时，从设备会使用 <strong>ACK</strong> 帧来<strong>同意接收</strong>数据,。</li></ul></li><li><strong>流量与差错控制协议</strong>（<strong>数据链路层</strong>）：<ul><li>在<strong>停止等待协议</strong>中，发送方每发送一帧后，就等待 <strong>ACK</strong> 确认信号，只有收到一个 <strong>ACK</strong> 后，才发送下一个帧,。</li><li>在<strong>滑动窗口协议</strong>中，接收方可以使用一个 <strong>ACK 帧</strong>来对<strong>多个数据帧</strong>的接收进行确认,。接收方发送的 <strong>ACK 编号</strong>是<strong>期望收到的下一帧</strong>的编号,。</li></ul></li><li><strong>传输控制协议 (TCP)（传输层）：</strong><ul><li>在 <strong>TCP 报头</strong>中，<strong>ACK</strong> 是一个<strong>标志字段</strong>（占 1 位），当 <strong>ACK = 1</strong> 时，表示报文段中的<strong>确认号字段有效</strong>，该确认号是发送方期望收到对方的<strong>下一个</strong>报文段的数据的第一个字节的序号,。</li><li>在 **TCP 连接建立（三次握手）**过程中，第二次握手时，目的主机发送的 <strong>SYN+ACK</strong> 报文段和第三次握手时，源主机发送的 <strong>ACK</strong> 报文段都带有 <strong>ACK</strong> 标志位，用于确认收到了对方的序号,。</li><li>在 **TCP 连接释放（四次挥手）**过程中，同样使用 <strong>ACK</strong> 标志位来进行确认和应答,。</li><li>在 <strong>TCP 拥塞控制</strong>的<strong>快速重传</strong>算法中，<strong>三个重复 ACK</strong> 的到达是数据段已经丢失的标志，会触发发送端不等重传定时器超时就重传疑似丢失的数据段,。</li></ul></li></ul><h4 id="NAK">NAK</h4><p><strong>NAK</strong> 的全称是 <strong>Negative Acknowledge</strong>，意为<strong>否定应答</strong>或<strong>拒绝</strong>。它是一种响应信号或控制帧，用于表示数据或请求中存在错误或无法处理。</p><p><strong>出现的场景有</strong>：</p><ul><li><strong>线路规程（数据链路层）：</strong><ul><li>在<strong>询问/确认 (ENQ/ACK) 模式</strong>下，如果接收方<strong>没有准备好接收</strong>数据，则会回答一个<strong>否认帧 (NAK)</strong>,。</li><li>在<strong>轮询/选择 (Poll/Select) 模式</strong>下的<strong>选择 (Select)</strong> 阶段，从设备会使用 <strong>NAK</strong> 帧来<strong>拒绝接收</strong>数据,。</li><li>在<strong>轮询 (Poll)</strong> 阶段，当主设备询问从设备是否有数据发送时，如果从设备没有数据发送，<strong>必须回答否定应答帧 (NAK)</strong>,。</li></ul></li><li><strong>流量与差错控制协议（数据链路层）：</strong><ul><li>在<strong>自动重复请求 (ARQ, Automatic Repeat reQuest)</strong> 机制中，如果数据帧在传输中出现错误，接收方会返回一个<strong>否定应答帧 (NAK)</strong>，通知发送方重新传送出错的帧,。</li><li>在<strong>滑动窗口协议</strong>中，接收方可以发送 <strong>否认帧 (NAK)</strong> 来告知发送方重新发送一个损坏的帧,。</li><li>在<strong>回退N自动重复请求 (Go-back-N, GBN)</strong> 协议中，<strong>NAK</strong> 用于通知发送方重传从被损坏帧开始的所有帧,。</li><li>在<strong>选择拒绝自动重复请求 (Select-Rej, SR)</strong> 协议中，<strong>NAK 帧的编号</strong>指的是<strong>错误或丢失的帧</strong>的编号,。</li></ul></li></ul><h3 id="网关路由协议">网关路由协议</h3><p>互连网中提供两级路由协议：</p><ul><li>内部网关协议 <strong>IGP</strong>(Interior Gateway Protocol)</li><li>外部网关协议 <strong>EGP</strong>(Exterior Gateway Protocol)</li></ul><p><img src="https://images.kisechan.space/20251222163525875.png" srcset="/img/loading.gif" lazyload alt=""></p><h3 id="LLC-和-MAC">LLC 和 MAC</h3><p><img src="https://images.kisechan.space/20251222164648344.png" srcset="/img/loading.gif" lazyload alt=""></p><h3 id="IP-地址">IP 地址</h3><table><thead><tr><th style="text-align:center">类别</th><th style="text-align:center">首字节范围</th><th style="text-align:center">默认掩码</th><th style="text-align:center">网络位</th><th style="text-align:center">主机位</th><th style="text-align:center">规模</th></tr></thead><tbody><tr><td style="text-align:center">A</td><td style="text-align:center">1–126</td><td style="text-align:center">/8</td><td style="text-align:center">8</td><td style="text-align:center">24</td><td style="text-align:center">极大</td></tr><tr><td style="text-align:center">B</td><td style="text-align:center">128–191</td><td style="text-align:center">/16</td><td style="text-align:center">16</td><td style="text-align:center">16</td><td style="text-align:center">中</td></tr><tr><td style="text-align:center">C</td><td style="text-align:center">192–223</td><td style="text-align:center">/24</td><td style="text-align:center">24</td><td style="text-align:center">8</td><td style="text-align:center">小</td></tr><tr><td style="text-align:center">D</td><td style="text-align:center">224–239</td><td style="text-align:center">—</td><td style="text-align:center">—</td><td style="text-align:center">—</td><td style="text-align:center">组播</td></tr><tr><td style="text-align:center">E</td><td style="text-align:center">240–255</td><td style="text-align:center">—</td><td style="text-align:center">—</td><td style="text-align:center">—</td><td style="text-align:center">实验</td></tr></tbody></table><p>聚合的 C 类网数量：当前的主机号数除以 C 类网的主机位数</p><h2 id="计算题">计算题</h2><h3 id="传播时延">传播时延</h3><p><img src="https://images.kisechan.space/20251221210117909.png" srcset="/img/loading.gif" lazyload alt=""></p><table><thead><tr><th style="text-align:center">交换方式</th><th style="text-align:center">是否分组</th><th style="text-align:center">是否存储转发</th><th style="text-align:center">是否流水线</th><th style="text-align:center">是否需建立</th><th>端到端时延通用公式</th></tr></thead><tbody><tr><td style="text-align:center"><strong>电路交换</strong></td><td style="text-align:center">否</td><td style="text-align:center">否</td><td style="text-align:center">否</td><td style="text-align:center">是</td><td>T = T_{\text{setup}} + \frac{L}{R} + k\cdot d_p$</td></tr><tr><td style="text-align:center"><strong>报文交换</strong></td><td style="text-align:center">否（整报文）</td><td style="text-align:center">是</td><td style="text-align:center">否</td><td style="text-align:center">否</td><td>T = k\left(\frac{L+h}{R} + d_p\right)$</td></tr><tr><td style="text-align:center"><strong>虚电路交换</strong></td><td style="text-align:center">否</td><td style="text-align:center">是</td><td style="text-align:center">是</td><td style="text-align:center">是</td><td>T = T_{\text{setup}} + (k+n-1)\frac{L}{R} + k\cdot d_p$</td></tr><tr><td style="text-align:center"><strong>数据报交换</strong></td><td style="text-align:center">是</td><td style="text-align:center">是</td><td style="text-align:center">是</td><td style="text-align:center">否</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mo stretchy="false">(</mo><mi>k</mi><mo>+</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mfrac><msub><mi>L</mi><mi>p</mi></msub><mi>R</mi></mfrac><mo>+</mo><mi>k</mi><mo>⋅</mo><msub><mi>d</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">T = (k+n-1)\frac{L_p}{R} + k\cdot d_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1.3307em;vertical-align:-.345em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.9857em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.00773em">R</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.5073em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1645em"><span style="top:-2.357em;margin-left:0;margin-right:.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2819em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.9805em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span></td></tr></tbody></table><table><thead><tr><th style="text-align:center">符号</th><th style="text-align:center">含义</th><th style="text-align:center">单位</th><th style="text-align:center">说明</th></tr></thead><tbody><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.13889em">T</span></span></span></span></td><td style="text-align:center">端到端总时延</td><td style="text-align:center">s</td><td style="text-align:center">最终所求</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mtext>setup</mtext></msub></mrow><annotation encoding="application/x-tex">T_{\text{setup}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9694em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2806em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">setup</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">呼叫 / 虚电路建立时间</td><td style="text-align:center">s</td><td style="text-align:center"><strong>仅电路 / 虚电路有</strong></td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal">L</span></span></span></span></td><td style="text-align:center">报文净数据长度</td><td style="text-align:center">bit</td><td style="text-align:center">不含报头</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal">h</span></span></span></span></td><td style="text-align:center">报头长度</td><td style="text-align:center">bit</td><td style="text-align:center">报文交换中只加一次</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span></span></span></span></td><td style="text-align:center">链路传输速率</td><td style="text-align:center">bps</td><td style="text-align:center">假设各段相同</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal" style="margin-right:.03148em">k</span></span></span></span></td><td style="text-align:center">链路段数</td><td style="text-align:center">—</td><td style="text-align:center">源到目的经过的物理链路数</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">d_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9805em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">单段传播时延</td><td style="text-align:center">s</td><td style="text-align:center">与数据量无关</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span></td><td style="text-align:center">分组个数</td><td style="text-align:center">—</td><td style="text-align:center">$$n=\lceil L/\text{payload}\rceil$$</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">L_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9694em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center"><strong>最大分组长度</strong>（<strong>含报头</strong>）</td><td style="text-align:center">bit</td><td style="text-align:center">决定流水线节拍</td></tr></tbody></table><h3 id="奈奎斯特准则和香农公式">奈奎斯特准则和香农公式</h3><blockquote><p><strong>奈奎斯特准则</strong>和<strong>香农公式</strong>回答的是同一个大问题的不同侧面：“一条物理信道，最多能传多快？”</p><table><thead><tr><th>定理</th><th>核心限制因素</th><th>关注点</th></tr></thead><tbody><tr><td><strong>奈奎斯特准则</strong></td><td><strong>带宽有限（无噪声）</strong></td><td>采样 / 码元速率上限</td></tr><tr><td><strong>香农公式</strong></td><td><strong>噪声存在（随机干扰）</strong></td><td>信息速率理论极限</td></tr></tbody></table></blockquote><h4 id="相关概念">相关概念</h4><ol><li><strong>带宽</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.08125em">H</span></span></span></span><ul><li>单位：Hz</li><li>含义：信道能通过的频率范围</li><li>本质：<strong>信号变化快慢的物理限制</strong></li></ul></li><li><strong>码元</strong><ul><li>一次信号变化所能表达的“状态”</li><li>一个码元 ≠ 一个比特</li><li>一个码元可表示多个比特</li></ul></li><li><strong>码元速率</strong>（波特率）<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span><ul><li>单位：Baud</li><li>含义：<strong>每秒发送多少个码元</strong></li><li>受带宽直接限制</li></ul></li><li><strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span> 进制信号</strong><ul><li>每个码元有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span> 种不同状态</li><li>每个码元携带 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi></mrow><annotation encoding="application/x-tex">\log_2 N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9386em;vertical-align:-.2441em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span> 比特</li></ul></li><li>例如：<ul><li>两相调制(单个调制状态对应1个二进制位)的比特率等于波特率；</li><li>四相调制(单个调制状态对应2个二进制位)的比特率为波特率的两倍；</li><li>八相调制(单个调制状态对应3个二进制位)的比特率为波特率的三倍。</li></ul></li></ol><h4 id="奈奎斯特准则">奈奎斯特准则</h4><p>在<strong>无噪声的理想低通信道</strong>中，带宽有限，会不会限制数据传输速率？</p><p>最大码元速率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 和最大比特率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span></span></span></span> 满足：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>B</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>2</mn><mi>H</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mi>C</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>2</mn><mi>H</mi><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*} B &amp;= 2H\\ C &amp;= 2H\log_2N \end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em"><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">C</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em"><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:.08125em">H</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:.08125em">H</span><span class="mspace" style="margin-right:.1667em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em"><span></span></span></span></span></span></span></span></span></span></span></span></p><table><thead><tr><th style="text-align:center">符号</th><th style="text-align:center">含义</th><th style="text-align:center">单位</th></tr></thead><tbody><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.08125em">H</span></span></span></span></td><td style="text-align:center">信道带宽，也就是信道能够通过的最低频率到最⾼频率之间的差值</td><td style="text-align:center">Hz</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span></td><td style="text-align:center">码元速率</td><td style="text-align:center">Baud</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span></span></span></span></td><td style="text-align:center">比特率</td><td style="text-align:center">bps</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span></td><td style="text-align:center">每个码元的离散状态数</td><td style="text-align:center">—</td></tr></tbody></table><p>从奈奎斯特准则可以看出来：</p><ul><li>带宽是<strong>硬物理限制</strong></li><li>提高速率的两种方式：<ol><li>增加带宽 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span></li><li>提高调制阶数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span></span></span></span></li></ol></li></ul><p>但：<strong>提高 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">M</span></span></span></span> 会降低抗噪声能力</strong>，而 这正是奈奎斯特忽略的问题。</p><h4 id="香农公式">香农公式</h4><p>在有噪声的真实信道中， 即使带宽固定，数据速率仍然<strong>有极限，而且是信息论极限</strong>。</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mo>=</mo><mi>H</mi><mo>×</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>S</mi><mi mathvariant="normal">/</mi><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C=H\times\log_2(1+S/N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.08125em">H</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mclose">)</span></span></span></span></span></p><table><thead><tr><th style="text-align:center">符号</th><th style="text-align:center">含义</th><th style="text-align:center">单位</th></tr></thead><tbody><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span></span></span></span></td><td style="text-align:center">信道的最⼤数据传输速率</td><td style="text-align:center">bps</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.08125em">H</span></span></span></span></td><td style="text-align:center">信道带宽</td><td style="text-align:center">Hz</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi mathvariant="normal">/</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">S/N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span></td><td style="text-align:center">信噪比（线性值），<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span> 是平均信号功率， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span> 是平均噪声功率</td><td style="text-align:center">—</td></tr></tbody></table><p><strong>信噪比常用分贝（dB）表示</strong>：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>S</mi><mi mathvariant="normal">/</mi><mi>N</mi><msub><mo stretchy="false">)</mo><mtext>dB</mtext></msub><mo>=</mo><mn>10</mn><mo>×</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>10</mn></msub><mo stretchy="false">(</mo><mi>S</mi><mi mathvariant="normal">/</mi><mi>N</mi><mo stretchy="false">)</mo><mspace width="1em"></mspace><mtext>(dB)</mtext></mrow><annotation encoding="application/x-tex">(S/N)_\text{dB}=10\times\log_{10}(S/N) \quad\text{(dB)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">dB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">10</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mclose">)</span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord">(dB)</span></span></span></span></span></span></p><hr><p><img src="https://images.kisechan.space/20251221183637139.png" srcset="/img/loading.gif" lazyload alt=""></p><h2 id="编码">编码</h2><h3 id="数字-数字编码">数字-数字编码</h3><p>用数字信号来表示数字信息。在这种编码形式下，由计算机产⽣的0、1⽐特序列被转换成⼀串可以在导线上传输的脉冲电压（有两种电压值）。</p><h4 id="单极性编码">单极性编码</h4><p>电压是单极性,高电平表示1、低电平表示0。缺点是有直流电平容易损伤电容，要求带宽高，无法同步<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="同步问题指的是接收端如何在连续的物理信号中判断每一个比特（或码元）从哪里开始、到哪里结束的问题。
![](https://images.kisechan.space/20251221184414941.png)">[1]</span></a></sup> (需依赖附加线)。</p><h4 id="极化编码">极化编码</h4><p>使⽤两个不同的电压⽔平，⼀个正电压和⼀个负电压来表⽰逻辑“1”和逻辑“0”。</p><p>优点：相⽐单极性编码，极化编码减少了直流分量，有助于降低信号失真。</p><p>类型：</p><ul><li>⾮归零编码（NRZ）</li><li>归零编码（RZ）</li><li>双相位编码（曼彻斯特编码和差分曼彻斯特编码）</li></ul><h5 id="非归零编码">非归零编码</h5><p>在信号的持续时间内，电平保持不变，逻辑“1”⽤⼀种电压表⽰，逻辑“0”⽤另⼀种电压表⽰，但信号在每个⽐特的中间不会回到零电平。</p><p><img src="https://images.kisechan.space/20251221184729801.png" srcset="/img/loading.gif" lazyload alt=""></p><p>⾮归零电平编码解决了直流分量问题，⾮归零反相编码既解决了直流分量问题，也基本解决了同步问题（但是如果⼀直发送0，就没有沿，那么同步问题并没有得到解决）【⽐如：发⽣跳变就是整秒的位置。每碰到⼀个沿就调整⼀下】</p><h5 id="双相位编码（曼彻斯特编码和差分曼彻斯特编码）">双相位编码（曼彻斯特编码和差分曼彻斯特编码）</h5><p>信号在每个⽐特的中间都会发⽣电平跳变，这种跳变可以⽤来进⾏时钟同步。（信号在每⽐特间隙的中间发⽣改变但并不归零，⽽是转为相反的⼀极。）</p><ul><li><strong>曼彻斯特编码</strong>：每个⽐特的中间都有跳变，跳变的⽅向表⽰⽐特值，从⾼到低表⽰“1”，从低到⾼表⽰“0”。</li><li><strong>差分曼彻斯特编码</strong>：跳变的位置表⽰⽐特值，跳变在⽐特的开始表⽰“0”，没有跳变表⽰“1”。</li></ul><p><img src="https://images.kisechan.space/20251221190146055.png" srcset="/img/loading.gif" lazyload alt=""></p><ul><li>每个bit⽆论0和1，都存在正向充电，反向放电的过程，直流分量问题解决</li><li>1个bit⾄少跳变⼀回，同步问题解决。</li><li>差分曼彻斯特编码如果⽐特间隙开始时刻发⽣跳变代表0</li><li>【曼彻斯特编码的波特率是数据速率的2倍，当数据传输速率为100Mbps时，需要200MHz的脉冲】</li><li>【曼切斯特编码波特率是⽐特率的⼆倍】</li></ul><h3 id="码分多路复用-CDMA">码分多路复用 CDMA</h3><p><img src="https://images.kisechan.space/20251221191319855.png" srcset="/img/loading.gif" lazyload alt=""></p><p>基本约定：</p><ol><li><strong>比特映射</strong></li></ol><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>发送比特：</mtext><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mtext>  </mtext><mo>→</mo><mtext>  </mtext><mo>+</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mtext>  </mtext><mo>→</mo><mtext>  </mtext><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\text{发送比特：} \begin{cases} 1 \;\rightarrow\; +1 \\ 0 \;\rightarrow\; -1 \end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em"></span><span class="mord text"><span class="mord cjk_fallback">发送比特：</span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em"><span style="top:-3.69em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:.2778em"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2778em"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mord">+</span><span class="mord">1</span></span></span><span style="top:-2.25em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:.2778em"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">→</span><span class="mspace" style="margin-right:.2778em"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ol start="2"><li><p><strong>码片序列</strong></p><ul><li><p><strong>每个用户一个码片序列</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></p></li><li><p>码片取值：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>±</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\pm1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">±</span><span class="mord">1</span></span></span></span></p></li><li><p>长度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span>（扩频因子）</p></li></ul></li><li><p><strong>正交性条件</strong></p></li></ol><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mspace width="1em"></mspace><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>A</mi><mi>i</mi></msub><mo>⋅</mo><msub><mi>A</mi><mi>j</mi></msub><mo>=</mo><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>i</mi><mo mathvariant="normal">≠</mo><mi>j</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>A</mi><mi>i</mi></msub><mo>⋅</mo><msub><mi>A</mi><mi>i</mi></msub><mo mathvariant="normal">≠</mo><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\forall i, j,\quad\begin{cases}A_i\cdot A_j=0,&amp;i\neq j\\A_i\cdot A_i\ne 0&amp;&amp;\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em"></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.05724em">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em"></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em"><span style="top:-3.69em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord">0</span><span class="mpunct">,</span></span></span><span style="top:-2.25em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:.8889em;vertical-align:-.1944em"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em"><span style="top:-3.69em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:.8889em;vertical-align:-.1944em"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mord mathnormal" style="margin-right:.05724em">j</span></span></span><span style="top:-2.25em"><span class="pstrut" style="height:3.008em"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em"><span></span></span></span></span></span><span class="arraycolsep" style="width:.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.25em"><span style="top:-2.25em"><span class="pstrut" style="height:3.008em"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h4 id="CDMA-编码（发送端计算方法）">CDMA 编码（发送端计算方法）</h4><ul><li>用户 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 的发送比特：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub><mo>∈</mo><mrow><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mo>−</mo><mn>1</mn></mrow></mrow><annotation encoding="application/x-tex">b_i \in {+1,-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8444em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8389em;vertical-align:-.1944em"></span><span class="mord"><span class="mord">+</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">−</span><span class="mord">1</span></span></span></span></span></li><li>用户 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 的码片序列：</li></ul><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub><mo>=</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>a</mi><mrow><mi>i</mi><mi>m</mi></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A_i = (a_{i1},a_{i2},\dots,a_{im})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:.1667em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">im</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><ul><li>发送到信道中的码片序列：</li></ul><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><msub><mi>b</mi><mi>i</mi></msub><mo>⋅</mo><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i=b_i\cdot A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8444em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p>即：</p><ul><li>发 1 → 码片不变</li><li>发 0 → 码片整体取反</li></ul><hr><p>若有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 个用户同时发送，则信道中的信息</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>S</mi><mi>i</mi></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>b</mi><mi>i</mi></msub><mo>⋅</mo><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">{ S = \sum_{i=1}^{n} S_i = \sum_{i=1}^{n} b_i\cdot A_i }</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em"><span style="top:-1.8723em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:-.0576em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em"><span style="top:-1.8723em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>是所有用户码片的代数和。</p><h4 id="CDMA-解码">CDMA 解码</h4><p>对用户 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal" style="margin-right:.03148em">k</span></span></span></span> 发来的信息解码：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>R</mi><mi>k</mi></msub><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><mi>S</mi><mo>⋅</mo><msub><mi>A</mi><mi>k</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><mrow><mo fence="true">(</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>b</mi><mi>i</mi></msub><msub><mi>A</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow><mo>⋅</mo><msub><mi>A</mi><mi>k</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><mrow><mo fence="true">[</mo><msub><mi>b</mi><mi>k</mi></msub><mo stretchy="false">(</mo><msub><mi>A</mi><mi>k</mi></msub><mo>⋅</mo><msub><mi>A</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo>+</mo><munder><mo>∑</mo><mrow><mi>i</mi><mo mathvariant="normal">≠</mo><mi>k</mi></mrow></munder><msub><mi>b</mi><mi>i</mi></msub><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo>⋅</mo><msub><mi>A</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><munder><munder><mrow><msub><mi>b</mi><mi>k</mi></msub><mo>⋅</mo><msubsup><mi>A</mi><mi>k</mi><mn>2</mn></msubsup></mrow><mo stretchy="true">⏟</mo></munder><mrow><mstyle scriptlevel="0" displaystyle="false"><msub><mi>a</mi><mi>i</mi></msub><mo>=</mo><mo>±</mo><mn>1</mn></mstyle><mtext>&nbsp;，所以&nbsp;</mtext><mstyle scriptlevel="0" displaystyle="false"><msubsup><mi>A</mi><mi>k</mi><mn>2</mn></msubsup><mo>=</mo><mi mathvariant="normal">∣</mi><msub><mi>A</mi><mi>k</mi></msub><mi mathvariant="normal">∣</mi><mo>=</mo><mi>m</mi></mstyle></mrow></munder></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo>±</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} R_k = \frac{1}{m}S \cdot A_k &amp;= \frac{1}{m}\left(\sum_{i=1}^{n} b_i A_i\right)\cdot A_k \\ &amp;= \frac{1}{m}\left[b_k (A_k\cdot A_k) + \sum_{i\neq k} b_i (A_i\cdot A_k)\right]\\ &amp;= \frac{1}{m}\underbrace{b_k\cdot A_k^2}_\text{$a_i=\pm1$ ，所以 $A_k^2=|A_k|=m$}\\ &amp;= \pm1 \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:12.5413em;vertical-align:-6.0207em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.5207em"><span style="top:-8.8206em"><span class="pstrut" style="height:4.05em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:-.0077em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-5.193em"><span class="pstrut" style="height:4.05em"></span><span class="mord"></span></span><span style="top:-2.0215em"><span class="pstrut" style="height:4.05em"></span><span class="mord"></span></span><span style="top:1.3107em"><span class="pstrut" style="height:4.05em"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.0207em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:6.5207em"><span style="top:-8.8206em"><span class="pstrut" style="height:4.05em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size4">(</span></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em"><span style="top:-1.8723em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size4">)</span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-5.193em"><span class="pstrut" style="height:4.05em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.05em"><span class="pstrut" style="height:5.6em"></span><span style="width:.667em;height:3.6em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.8479em;margin-left:0"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight"><span class="mrel mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height:.8889em;vertical-align:-.1944em"></span><span class="inner"><span class="mord mtight"><span class="mrel mtight"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel mtight">=</span></span><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4382em"><span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.05em"><span class="pstrut" style="height:5.6em"></span><span style="width:.667em;height:3.6em"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewBox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v0 v1759 h84z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span></span></span><span style="top:-2.0215em"><span class="pstrut" style="height:4.05em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8641em"><span style="top:-1.0909em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord sizing reset-size3 size6"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:.3253em"></span><span class="mrel sizing reset-size3 size6">=</span><span class="mspace mtight" style="margin-right:.3253em"></span><span class="mord sizing reset-size3 size6">±</span><span class="mord sizing reset-size3 size6">1</span><span class="mord mtight">&nbsp;</span><span class="mord cjk_fallback mtight">，所以</span><span class="mord mtight">&nbsp;</span><span class="mord sizing reset-size3 size6"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8141em"><span style="top:-2.4169em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2831em"><span></span></span></span></span></span></span><span class="mspace mtight" style="margin-right:.3253em"></span><span class="mrel sizing reset-size3 size6">=</span><span class="mspace mtight" style="margin-right:.3253em"></span><span class="mord sizing reset-size3 size6">∣</span><span class="mord sizing reset-size3 size6"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord sizing reset-size3 size6">∣</span><span class="mspace mtight" style="margin-right:.3253em"></span><span class="mrel sizing reset-size3 size6">=</span><span class="mspace mtight" style="margin-right:.3253em"></span><span class="mord mathnormal sizing reset-size3 size6">m</span></span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8641em"><span class="svg-align" style="top:-2.105em"><span class="pstrut" style="height:3em"></span><span class="stretchy" style="height:.548em;min-width:1.6em"><span class="brace-left" style="height:.548em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMinYMin slice"><path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"></path></svg></span><span class="brace-center" style="height:.548em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMidYMin slice"><path d="M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"></path></svg></span><span class="brace-right" style="height:.548em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="0.548em" viewBox="0 0 400000 548" preserveAspectRatio="xMaxYMin slice"><path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"></path></svg></span></span></span><span style="top:-3em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8641em"><span style="top:-2.453em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span><span style="top:-3.113em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.247em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.895em"><span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1922em"><span></span></span></span></span></span></span></span><span style="top:1.3107em"><span class="pstrut" style="height:4.05em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord">±</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.0207em"><span></span></span></span></span></span></span></span></span></span></span></span></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span>：码片长度</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">R_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:-.0077em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>：解码结果</li></ul><p><strong>判决规则</strong>：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>R</mi><mi>k</mi></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>+</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>⇒</mo><mtext>发送的是&nbsp;1</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>−</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>⇒</mo><mtext>发送的是&nbsp;0</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">R_k = \begin{cases} +1 &amp; \Rightarrow \text{发送的是 1} \\ -1 &amp; \Rightarrow \text{发送的是 0} \end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:-.0077em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em"><span style="top:-3.69em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mord">+</span><span class="mord">1</span></span></span><span style="top:-2.25em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em"><span style="top:-3.69em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mrel">⇒</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord text"><span class="mord cjk_fallback">发送的是</span><span class="mord">&nbsp;1</span></span></span></span><span style="top:-2.25em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mrel">⇒</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord text"><span class="mord cjk_fallback">发送的是</span><span class="mord">&nbsp;0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h3 id="奇偶校验码">奇偶校验码</h3><table><thead><tr><th style="text-align:center">方式</th><th style="text-align:center">校验维度</th><th style="text-align:center">能否纠错</th></tr></thead><tbody><tr><td style="text-align:center">水平奇偶</td><td style="text-align:center">行，每个部分的第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 个比特</td><td style="text-align:center">❌</td></tr><tr><td style="text-align:center">垂直奇偶</td><td style="text-align:center">列，每个部分的所有比特</td><td style="text-align:center">❌</td></tr><tr><td style="text-align:center">纵横奇偶</td><td style="text-align:center">行 + 列</td><td style="text-align:center">✅（1 位）</td></tr></tbody></table><h3 id="CRC-编码">CRC 编码</h3><p>假设⽣成多项式 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>x</mi><mn>4</mn></msup><mo>+</mo><msup><mi>x</mi><mn>3</mn></msup><mo>+</mo><mn>1</mn><mo>=</mo><mn>11001</mn></mrow><annotation encoding="application/x-tex">G(x)=x^4+x^3+1=11001</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8974em;vertical-align:-.0833em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.8974em;vertical-align:-.0833em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">11001</span></span></span></span>，待发送的信息 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1101011</mn></mrow><annotation encoding="application/x-tex">U(x)=1101011</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">U</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1101011</span></span></span></span>。</p><ol><li>在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">U(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">U</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> 后⾯添加4个零： <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1101011000</mn></mrow><annotation encoding="application/x-tex">1101011000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1101011000</span></span></span></span>。</li><li>使⽤⼆进制除法【没有借位】，将扩展后的信息除以 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>，得到余数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>。</li><li>将余数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> 附加到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">U(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.10903em">U</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> 后⾯，得到循环校验码。</li></ol><p><img src="https://images.kisechan.space/20251221193731349.png" srcset="/img/loading.gif" lazyload alt=""></p><p>接收⽅收到数据后，会⽤相同的⽣成多项式对收到的数据进⾏除法运算。如果结果为零，则说明传输过程中没有发⽣错误；如果结果⾮零，则说明传输过程中数据出现了错误。</p><h3 id="校验和">校验和</h3><p><img src="https://images.kisechan.space/20251221194023834.png" srcset="/img/loading.gif" lazyload alt=""></p><h3 id="停止等待协议">停止等待协议</h3><p><img src="https://images.kisechan.space/20251221194605362.png" srcset="/img/loading.gif" lazyload alt=""></p><h4 id="发送一帧所需的最短总时间-W-T（或-t-W）">发送一帧所需的最短总时间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub></mrow><annotation encoding="application/x-tex">W_T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>（或 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>W</mi></msub></mrow><annotation encoding="application/x-tex">t_W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">W</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>）</h4><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>=</mo><msub><mi>t</mi><mi>I</mi></msub><mo>+</mo><mn>2</mn><msub><mi>t</mi><mi>p</mi></msub><mo>+</mo><mn>2</mn><msub><mi>t</mi><mtext>proc</mtext></msub><mo>+</mo><msub><mi>t</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">W_T = t_I + 2t_p + 2t_\text{proc} + t_S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.9305em;vertical-align:-.2861em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.9305em;vertical-align:-.2861em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">proc</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>I</mi></msub></mrow><annotation encoding="application/x-tex">t_I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>：<strong>发送数据帧的时间</strong>，计算公式为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>I</mi></msub><mo>=</mo><mfrac><mtext>帧长</mtext><mtext>接口速率</mtext></mfrac></mrow><annotation encoding="application/x-tex">t_I = \frac{\text{帧长}}{\text{接口速率}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8723em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">接口速率</span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">帧长</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">t_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9012em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span>：<strong>信号传播时延</strong>，计算公式为 $t_p = \frac{\text{距离}}{\text{传播速度（一般是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.7</mn></mrow><annotation encoding="application/x-tex">0.7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0.7</span></span></span></span> 倍光速）}}$。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mtext>proc</mtext></msub></mrow><annotation encoding="application/x-tex">t_\text{proc}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9012em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">proc</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span>：<strong>节点处理数据的时间</strong>，一般忽略。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">t_S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>：<strong>发送确认帧（ACK）的时间</strong>，计算公式为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>S</mi></msub><mo>=</mo><mfrac><mtext>确认帧长</mtext><mtext>接口速率</mtext></mfrac></mrow><annotation encoding="application/x-tex">t_S = \frac{\text{确认帧长}}{\text{接口速率}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8723em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">接口速率</span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">确认帧长</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>。</li></ul><h4 id="信道利用率-F">信道利用率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.13889em">F</span></span></span></span></h4><p>信道被有效占用的时间与总时间之比。也可以记为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.13889em">P</span></span></span></span>。</p><ul><li><strong>新版定义：</strong> $$F = \frac{t_I}{W_T}$$</li><li>旧版定义（包含传播时延）： $$F = \frac{t_I + t_p}{W_T}$$</li></ul><h4 id="有效数据传输率-S">有效数据传输率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span></h4><p>单位时间内传输的有效数据位数。</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mo>=</mo><mfrac><msub><mi>D</mi><mn>1</mn></msub><msub><mi>W</mi><mi>T</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">S = \frac{D_1}{W_T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.1963em;vertical-align:-.836em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:-.0278em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.836em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">D_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:-.0278em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>：一帧中的<strong>有效数据位数</strong>（不含首部和尾部开销）。</li></ul><hr><h4 id="存在差错时的平均传输时间-t-V">存在差错时的平均传输时间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>V</mi></msub></mrow><annotation encoding="application/x-tex">t_V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.22222em">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></h4><p>当考虑帧的出错率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.1944em"></span><span class="mord mathnormal">p</span></span></span></span> 时，正确发送一帧所需的平均时间间隔为：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>t</mi><mi>V</mi></msub><mo>=</mo><mfrac><msub><mi>t</mi><mi>W</mi></msub><mrow><mn>1</mn><mo>−</mo><mi>p</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">t_V = \frac{t_W}{1 - p}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.22222em">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.1725em;vertical-align:-.8804em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2921em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord mathnormal">p</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">W</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.8804em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h4 id="系统吞吐量与传输效率">系统吞吐量与传输效率</h4><ul><li><strong>最大吞吐量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>λ</mi><mi>max</mi><mo>⁡</mo></msub></mrow><annotation encoding="application/x-tex">\lambda_{\max}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8444em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">a</span><span class="mtight">x</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></strong>：每秒成功发送的帧数。 $$\lambda_{\max} = \frac{1}{t_V} = \frac{1 - p}{t_W}$$</li><li><strong>极限吞吐量</strong> $$M = \frac{1}{t_I}$$</li><li><strong>系统的传输效率</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>ρ</mi></mrow><annotation encoding="application/x-tex">\rho</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.1944em"></span><span class="mord mathnormal">ρ</span></span></span></span>：最大吞吐量与极限吞吐量之比。<ul><li><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>ρ</mi><mo>=</mo><mfrac><mrow><mn>1</mn><mo>−</mo><mi>p</mi></mrow><mi>a</mi></mfrac><mo>=</mo><mfrac><msub><mi>t</mi><mi>I</mi></msub><msub><mi>t</mi><mi>W</mi></msub></mfrac><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\rho = \frac{1 - p}{a}=\frac{t_I}{t_W}(1-p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.1944em"></span><span class="mord mathnormal">ρ</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord mathnormal">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.1281em;vertical-align:-.836em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2921em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">W</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.836em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">p</span><span class="mclose">)</span></span></span></span></span></p></li><li>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">a</span></span></span></span> 为总时间与发送时间之比：<strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mfrac><msub><mi>t</mi><mi>W</mi></msub><msub><mi>t</mi><mi>I</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">a = \frac{t_W}{t_I}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1.2862em;vertical-align:-.4453em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.8409em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3567em;margin-left:0;margin-right:.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.1433em"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.4103em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3448em"><span style="top:-2.3567em;margin-left:0;margin-right:.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">W</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.1433em"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4453em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></strong> (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">a &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>)。</li></ul></li></ul><h3 id="滑动窗口协议">滑动窗口协议</h3><h4 id="窗口大小的选择">窗口大小的选择</h4><p>为了使发送方能够不间断地发送数据（即达到极限吞吐量），窗口的大小 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 必须足够大，以覆盖信号在往返时间内能够传输的帧数。</p><ul><li><strong>基本条件</strong>： $$nt_I &gt; 2(t_I + t_p)$$</li><li>考虑确认帧发送时间时： $$nt_I &gt; t_I + 2t_p + t_s$$</li></ul><p>其中，</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>I</mi></msub></mrow><annotation encoding="application/x-tex">t_I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>：发送一个数据帧的时间。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">t_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9012em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span></span></span></span>：信号传播时延。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">t_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>：发送一个确认帧（ACK）的时间。</li></ul><hr><h4 id="回退-N-协议的效率分析">回退 N 协议的效率分析</h4><p>在回退 N 协议中，若某一帧损坏或丢失，发送方必须重传该帧及其后续所有已发送但未确认的帧。</p><ul><li><strong>正确传送一帧所需的平均时间</strong> $$t_V = t_I + \frac{pt_W}{1 - p}$$</li><li><strong>系统最大吞吐量</strong> $$\lambda_{\max} = \frac{1}{t_V} = \frac{1 - p}{t_I(1 + p(a - 1))}$$</li><li><strong>系统传输效率</strong> $$\rho = \frac{1 - p}{1 + p(a - 1)}$$</li></ul><p>其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.625em;vertical-align:-.1944em"></span><span class="mord mathnormal">p</span></span></span></span>：<strong>数据帧的出错率</strong>。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">a</span></span></span></span>：<strong>总时间与发送时间之比</strong>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>&gt;</mo><mn>1</mn><mo separator="true">,</mo><mi>a</mi><mo>=</mo><msub><mi>t</mi><mi>W</mi></msub><mi mathvariant="normal">/</mi><msub><mi>t</mi><mi>I</mi></msub></mrow><annotation encoding="application/x-tex">a &gt; 1, a = t_W / t_I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8389em;vertical-align:-.1944em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">W</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>）。</li></ul><h4 id="窗口尺寸与编号范围的关系">窗口尺寸与编号范围的关系</h4><p>为了区分新帧和重复帧，协议对窗口尺寸有严格限制：</p><ul><li><strong>回退 N 协议：</strong> 若帧的编号范围是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>（模 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 编号），则<strong>发送窗口最大为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></strong>。</li><li><strong>选择拒绝协议：</strong><ul><li>若帧的编号范围是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>，则发送窗口尺寸 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">W_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2806em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 和接收窗口尺寸 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">W_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 必须满足： $$W_t + W_r \le n$$</li><li>若要求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>t</mi></msub><mo>=</mo><msub><mi>W</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">W_t = W_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2806em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，则窗口尺寸最大为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">n/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">n</span><span class="mord">/2</span></span></span></span>。</li></ul></li></ul><h3 id="距离向量路由算法">距离向量路由算法</h3><p>路由表中的每⼀项通常具有以下格式： <code>NetID : Distance : Nexthop</code></p><ul><li><code>NetID</code>：<strong>⽹络标识符</strong></li><li><code>Distance</code>：<strong>到⽬标⽹络的距离</strong></li><li><code>Nexthop</code>：<strong>下⼀跳路由器</strong></li></ul><h3 id="TCP-拥塞控制算法">TCP 拥塞控制算法</h3><pre><code class="mermaid">graph TD
    Start --&gt; SlowStart
    SlowStart --&gt;|ACK| SlowStart
    SlowStart --&gt;|Timeout| SlowStart
    SlowStart --&gt;|3 Duplicate ACKs| FastRecovery
    SlowStart --&gt;|Cwnd &gt;= ssthresh| CongestionAvoidance
    
    CongestionAvoidance --&gt;|ACK| CongestionAvoidance
    CongestionAvoidance --&gt;|Timeout| SlowStart
    CongestionAvoidance --&gt;|3 Duplicate ACKs| FastRecovery
    
    FastRecovery --&gt;|ACK| CongestionAvoidance
    FastRecovery --&gt;|Timeout| SlowStart
    
    classDef default fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
</code></pre><table><thead><tr><th style="text-align:center">变量</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Cwnd</mtext></mrow><annotation encoding="application/x-tex">\text{Cwnd}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord text"><span class="mord">Cwnd</span></span></span></span></span></td><td style="text-align:center">拥塞窗口（发送端控制，单位：SMSS）</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Rwnd</mtext></mrow><annotation encoding="application/x-tex">\text{Rwnd}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord text"><span class="mord">Rwnd</span></span></span></span></span></td><td style="text-align:center">接收窗口（接收端通告）</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>ssthresh</mtext></mrow><annotation encoding="application/x-tex">\text{ssthresh}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord text"><span class="mord">ssthresh</span></span></span></span></span></td><td style="text-align:center"><strong>慢启动阈值</strong></td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>SMSS</mtext></mrow><annotation encoding="application/x-tex">\text{SMSS}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord text"><span class="mord">SMSS</span></span></span></span></span></td><td style="text-align:center">发送端最大报文段长度</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>RTT</mtext></mrow><annotation encoding="application/x-tex">\text{RTT}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord text"><span class="mord">RTT</span></span></span></span></span></td><td style="text-align:center">往返时延</td></tr></tbody></table><h4 id="慢启动">慢启动</h4><p><strong>进入条件</strong></p><ul><li>新连接建立</li><li>或发生 <strong>超时</strong></li></ul><p><strong>初始值</strong>：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Cwnd</mtext><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\text{Cwnd} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord text"><span class="mord">Cwnd</span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></span></p><p><strong>增长规则</strong>（指数增长）：</p><ul><li>每收到 <strong>1 个 ACK</strong>：</li></ul><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Cwnd</mtext><mo>←</mo><mtext>Cwnd</mtext><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\text{Cwnd} \leftarrow \text{Cwnd} + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord text"><span class="mord">Cwnd</span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">←</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7778em;vertical-align:-.0833em"></span><span class="mord text"><span class="mord">Cwnd</span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></span></p><ul><li>等价地，每经过 <strong>1 个 RTT</strong>：</li></ul><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mtext>Cwnd</mtext><mrow><mi>k</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>2</mn><mo>⋅</mo><msub><mtext>Cwnd</mtext><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">\text{Cwnd}_{k+1} = 2 \cdot \text{Cwnd}_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.9028em;vertical-align:-.2083em"></span><span class="mord"><span class="mord text"><span class="mord">Cwnd</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2083em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">2</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.8444em;vertical-align:-.15em"></span><span class="mord"><span class="mord text"><span class="mord">Cwnd</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.03148em">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span></span></p><p><strong>退出条件</strong></p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Cwnd</mtext><mo>≥</mo><mtext>ssthresh</mtext><mspace width="1em"></mspace><mo>⇒</mo><mspace width="1em"></mspace><mtext>进入拥塞避免阶段</mtext></mrow><annotation encoding="application/x-tex">\text{Cwnd} \ge \text{ssthresh} \quad \Rightarrow \quad \text{进入拥塞避免阶段}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8304em;vertical-align:-.136em"></span><span class="mord text"><span class="mord">Cwnd</span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord text"><span class="mord">ssthresh</span></span><span class="mspace" style="margin-right:1em"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:1em"></span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord text"><span class="mord cjk_fallback">进入拥塞避免阶段</span></span></span></span></span></span></p><h4 id="拥塞避免">拥塞避免</h4><p><strong>进入条件</strong></p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Cwnd</mtext><mo>≥</mo><mtext>ssthresh</mtext></mrow><annotation encoding="application/x-tex">\text{Cwnd} \ge \text{ssthresh}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8304em;vertical-align:-.136em"></span><span class="mord text"><span class="mord">Cwnd</span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord text"><span class="mord">ssthresh</span></span></span></span></span></span></p><p><strong>增长规则（线性增长 / 加法增大）</strong></p><ul><li>每经过 <strong>1 个 RTT</strong>：</li></ul><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>Cwnd</mtext><mo>←</mo><mtext>Cwnd</mtext><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\text{Cwnd} \leftarrow \text{Cwnd} + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord text"><span class="mord">Cwnd</span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">←</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7778em;vertical-align:-.0833em"></span><span class="mord text"><span class="mord">Cwnd</span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></span></p><p><strong>增长特性</strong></p><ul><li><strong>慢</strong></li><li><strong>稳定</strong></li><li>用于试探网络可承受上限</li></ul><h4 id="超时处理">超时处理</h4><p><strong>触发条件</strong></p><ul><li>重传定时器超时（Timeout）</li></ul><p><strong>处理规则</strong>（乘法减小 + 慢启动）：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>ssthresh</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>←</mo><mfrac><mtext>Cwnd</mtext><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>Cwnd</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>←</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} \text{ssthresh} &amp;\leftarrow \frac{\text{Cwnd}}{2} \\ \text{Cwnd} &amp;\leftarrow 1 \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.8574em;vertical-align:-1.6787em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.1787em"><span style="top:-4.1787em"><span class="pstrut" style="height:3.3714em"></span><span class="mord"><span class="mord text"><span class="mord">ssthresh</span></span></span></span><span style="top:-2.3527em"><span class="pstrut" style="height:3.3714em"></span><span class="mord"><span class="mord text"><span class="mord">Cwnd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6787em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.1787em"><span style="top:-4.1787em"><span class="pstrut" style="height:3.3714em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">←</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord">Cwnd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3527em"><span class="pstrut" style="height:3.3714em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">←</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6787em"><span></span></span></span></span></span></span></span></span></span></span></span></p><p><strong>后续状态</strong></p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>重新进入慢启动</mtext></mrow><annotation encoding="application/x-tex">\text{重新进入慢启动}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord text"><span class="mord cjk_fallback">重新进入慢启动</span></span></span></span></span></span></p><h4 id="快速重传和快速恢复">快速重传和快速恢复</h4><p><strong>触发条件</strong></p><ul><li>连续收到 <strong>3 个重复 ACK</strong></li></ul><ol><li><p><strong>快速重传</strong></p><ul><li><strong>立即重传</strong>丢失报文段</li><li><strong>不等待 Timeout</strong></li></ul></li><li><p><strong>快速恢复</strong>：窗口调整</p></li></ol><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>ssthresh</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>←</mo><mfrac><mtext>Cwnd</mtext><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>Cwnd</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>←</mo><mtext>ssthresh</mtext><mo>+</mo><mn>3</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} \text{ssthresh} &amp;\leftarrow \frac{\text{Cwnd}}{2} \\ \text{Cwnd} &amp;\leftarrow \text{ssthresh} + 3 \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.8574em;vertical-align:-1.6787em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.1787em"><span style="top:-4.1787em"><span class="pstrut" style="height:3.3714em"></span><span class="mord"><span class="mord text"><span class="mord">ssthresh</span></span></span></span><span style="top:-2.3527em"><span class="pstrut" style="height:3.3714em"></span><span class="mord"><span class="mord text"><span class="mord">Cwnd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6787em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.1787em"><span style="top:-4.1787em"><span class="pstrut" style="height:3.3714em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">←</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord text"><span class="mord">Cwnd</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3527em"><span class="pstrut" style="height:3.3714em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">←</span><span class="mspace" style="margin-right:.2778em"></span><span class="mord text"><span class="mord">ssthresh</span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.6787em"><span></span></span></span></span></span></span></span></span></span></span></span></p><blockquote><p>其中， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">+3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">+</span><span class="mord">3</span></span></span></span> 是为了补偿这 <strong>3 个重复 ACK</strong> 所对应的“已离开网络的数据”。</p></blockquote><p><strong>后续状态</strong></p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>直接进入拥塞避免（不回慢启动）</mtext></mrow><annotation encoding="application/x-tex">\text{直接进入拥塞避免（不回慢启动）}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord text"><span class="mord cjk_fallback">直接进入拥塞避免（不回慢启动）</span></span></span></span></span></span></p><h3 id="CSMA-CD">CSMA/CD</h3><p>最短帧长计算：</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>L</mi><mi>min</mi><mo>⁡</mo></msub><mo>=</mo><mfrac><mrow><mn>2</mn><mi>R</mi><mo>×</mo><mi>S</mi></mrow><mi>V</mi></mfrac></mrow><annotation encoding="application/x-tex">L_{\min}=\frac{2R\times S}{V}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3175em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.22222em">V</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>其中，</p><ul><li><span class="katex-error" title="ParseError: KaTeX parse error: Got function '\min' with no arguments as subscript at position 3: L_\̲m̲i̲n̲">L_\min</span>：最短数据帧⻓（bit）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span> ：任意两站点间的最⼤距离（m）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span></span></span></span> ：数据传输速率（Mbps）</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.22222em">V</span></span></span></span>：电⼦传播速度（200m/μs）</li></ul><h2 id="计算机网络概论">计算机网络概论</h2><h3 id="计算机网络的定义与组成">计算机网络的定义与组成</h3><h4 id="计算机网络">计算机网络</h4><p>计算机网络由若干<strong>结点 (node)</strong> 和连接这些结点的<strong>链路 (link)</strong> 组成。连接在网络上的计算机称为<strong>主机 (host)</strong>。建立计算机网络的目的是为了实现彼此交换信息和共享资源的目的。</p><h4 id="计算机网络的组成部分">计算机网络的组成部分</h4><ul><li><strong>通信子网：</strong> 负责信息的传递，完成数据传输及转发。包括节点转发设备、通信设备等。</li><li><strong>资源子网：</strong> 负责信息处理，向网络用户提供各种网络资源与服务。包括计算机系统、外设、软件资源等。</li></ul><h4 id="计算机网络的功能">计算机网络的功能</h4><p>计算机网络的主要功能包括：</p><ul><li>数据通信</li><li>资源共享</li><li>并行和分布式处理</li><li>可靠性</li><li>以及可扩充性</li></ul><h4 id="计算机网络的演变阶段">计算机网络的演变阶段</h4><p>计算机网络经历了四个主要演变阶段：</p><ol><li>具有通信功能的联机系统（终端-线路-计算机）</li><li>具有通信功能的分时系统（终端-集中器-计算机）</li><li>独立的计算机互连的计算机网络</li><li>以及国际标准化网络（开放式标准计算机网络）</li></ol><h3 id="计算机网络的拓扑结构">计算机网络的拓扑结构</h3><p>计算机网络的拓扑结构定义了网络中结点与链路的几何排列关系。</p><ul><li><strong>网状拓扑 (Mesh Topology)：</strong> 特点包括能避免拥塞问题、具有较好的健壮性和安全性、便于管理，但安装费用高。</li><li><strong>星状拓扑 (Star Topology)：</strong> 结构简单、健壮性好、便于管理，但中央控制器是网络的瓶颈。</li><li><strong>树状拓扑 (Tree Topology)：</strong> 扩展了网络距离，并允许网络隔离不同计算机的通信。</li><li><strong>总线型拓扑 (Bus Topology)：</strong> 易安装，但总线长度有限，且故障隔离困难。</li><li><strong>环状拓扑 (Ring Topology)：</strong> 易安装、维护管理方便，传输时延可控，但整体传输延迟大。</li><li><strong>混合型拓扑 (Hybrid Topology)：</strong> 结合了多种拓扑结构。</li></ul><h3 id="计算机网络的分类">计算机网络的分类</h3><h4 id="按作用范围分类">按作用范围分类</h4><ul><li><strong>局域网 (LAN, Local Area Network)：</strong> 覆盖范围通常在一个房间、一层楼或整个楼宇内。</li><li><strong>城域网 (MAN, Metropolitan Area Network)</strong>。</li><li><strong>广域网 (WAN, Wide Area Network)</strong>。</li><li><strong>个域网 (PAN, Personal Area Network)：</strong> 能够在便携式消费电器与通信设备之间进行短距离通信的网络，覆盖范围一般在 10 米半径以内，例如蓝牙耳机。</li></ul><h4 id="按其他方式分类">按其他方式分类</h4><ul><li><strong>按通信介质分类：</strong> 包括有线（如同轴电缆、双绞线、光纤）和无线（如卫星、微波）传输。</li><li><strong>按传播方式分类：</strong> 包括点对点和广播。</li><li><strong>按通信速率分类：</strong> 包括低速（kbps—1.4 Mbps）、中速（1.4 Mbps—45 Mbps）和高速（50 Mbps—1000 Mbps，甚至 10-100 Gbps）。</li><li><strong>按使用范围分类：</strong> 公用网 (public) 和专用网 (private)。</li><li><strong>按网络控制方式分类：</strong> 集中式和分布式。</li></ul><h3 id="网络分层体系结构">网络分层体系结构</h3><h4 id="网络协议">网络协议</h4><p>网络协议是通信双方必须遵守的规则、标准和约定，用于实现同层间的通信。</p><ul><li><strong>协议三要素：</strong><ul><li><strong>语法：</strong> 数据与控制信息的结构或格式（如数据的格式、电平）。</li><li><strong>语义：</strong> 控制信息的功能及动作。</li><li><strong>时序：</strong> 信息的同步、速度匹配和顺序。</li></ul></li></ul><h4 id="体系结构">体系结构</h4><p>计算机网络的各个层次及其协议的集合称为<strong>体系结构</strong>。网络体系结构是抽象的，是对功能的精确描述。分层的优点包括独立、灵活、模块化、易于维护和标准化。</p><h4 id="OSI-Open-System-Interconnection-模型">OSI (Open System Interconnection) 模型</h4><ul><li>由国际标准化组织 (<strong>ISO, International Organization for Standardization</strong>) 于 1984 年制定。</li><li>模型作用是解决网络之间不能兼容和通信的问题。</li><li>OSI 模型分为 7 个层次：物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。<ul><li><strong>物理层 (Physical)：</strong> 规定了<strong>机械的、电气的、功能的、规程的</strong> 4 个特性，负责将计算机连接到通信媒体上，数据传输的单位是<strong>比特 (Bit)</strong>。</li><li><strong>数据链路层 (Data-Link)：</strong> 提供相邻网络节点间的可靠通信，传输的信息单位是<strong>帧 (Frame)</strong>。主要工作包括可靠<strong>传输数据、差错控制、流量控制和链路管理</strong>。</li><li><strong>网络层 (Network)：</strong> 处理任意节点的数据传输，传输的信息单位是<strong>分组 (Packet)</strong>。任务包括<strong>路由选择、阻塞控制、和网际互连</strong>。</li><li><strong>传输层 (Transport)：</strong> 提供<strong>端到端</strong>的通信，将数据可靠地从一端用户进程送到另一端用户进程，传输的信息单元是<strong>报文 (Message)</strong>。</li><li><strong>会话层 (Session)：</strong> 两个计算机上的用户进程建立连接，双方互相确认身份，协商会话连接的细节。</li><li><strong>表示层 (Presentation)：</strong> 解决用户信息<strong>语法问题</strong>，对用户数据进行翻译、编码和交换。</li><li><strong>应用层 (Application)：</strong> <strong>处理用户的数据和信息</strong>，完成用户所希望的实际任务。</li></ul></li></ul><h4 id="TCP-IP-模型-Transmission-Control-Protocol-Internet-Protocol">TCP/IP 模型 (Transmission Control Protocol/Internet Protocol)</h4><ul><li>是世界上最大的计算机网络 <strong>Internet</strong> 运行的基础，也是目前应用最广泛的网络通信协议簇。</li><li>TCP/IP 通常被认为由四层（或五层）构成：<strong>应用层、传输层、网络层和网络接口层</strong>（包含<strong>数据链路层和物理层</strong>）。</li><li><strong>RFC (Request for Comment)</strong>：所有关于 Internet 网络的正式标准都以 RFC 文档的形式出版。</li></ul><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">所在层</th><th>英文</th><th style="text-align:center">含义</th><th style="text-align:center">作用范围</th><th style="text-align:center">是否逐跳变化</th><th style="text-align:center">是否有结构</th><th style="text-align:center">典型内容 / 字段</th></tr></thead><tbody><tr><td style="text-align:center"><strong>比特</strong></td><td style="text-align:center">物理层</td><td>Bit</td><td style="text-align:center">物理信号表示的 0 / 1</td><td style="text-align:center">一段物理介质</td><td style="text-align:center">✅</td><td style="text-align:center">❌</td><td style="text-align:center">电压、电流、光脉冲</td></tr><tr><td style="text-align:center"><strong>帧</strong></td><td style="text-align:center">数据链路层</td><td>Frame</td><td style="text-align:center">在一条链路上传输的数据单元</td><td style="text-align:center"><strong>一跳 / 一个局域网</strong></td><td style="text-align:center">✅</td><td style="text-align:center">✅</td><td style="text-align:center">源 MAC、目的 MAC、类型、CRC</td></tr><tr><td style="text-align:center"><strong>分组</strong></td><td style="text-align:center">网络层</td><td>Packet</td><td style="text-align:center">用于跨网络路由的数据单元</td><td style="text-align:center"><strong>端到端</strong></td><td style="text-align:center">❌（内容不变）</td><td style="text-align:center">✅</td><td style="text-align:center">源 IP、目的 IP、TTL</td></tr><tr><td style="text-align:center"><strong>报文</strong></td><td style="text-align:center">应用层（或传输层视角）</td><td>Message</td><td style="text-align:center">应用产生的完整数据</td><td style="text-align:center">端到端</td><td style="text-align:center">❌</td><td style="text-align:center">✅</td><td style="text-align:center">HTTP 请求、DNS 查询等</td></tr></tbody></table><h3 id="实体间通信与服务">实体间通信与服务</h3><h4 id="层间通信与对等层间通信">层间通信与对等层间通信</h4><ul><li><strong>层间通信：</strong> 同一节点上相邻层次的通信。</li><li><strong>对等层间通信 (虚通信)：</strong> 不同的网络节点上对等层间的通信（除物理层之外）。</li><li><strong>实通信：</strong> 层间通信和物理层之间的通信。</li><li><strong>协议是“水平的”：</strong> 协议是控制对等实体之间通信的规则。</li><li><strong>服务是“垂直的”：</strong> 服务是由下层向上层通过层间接口提供的。</li></ul><h4 id="服务与数据单元">服务与数据单元</h4><ul><li><strong>服务访问点 (SAP, Service Access Point)：</strong> 层间接口处提供服务的地方。</li><li><strong>服务数据单元 (SDU, Service Data Unit)：</strong> 相邻层在提供服务的过程中传递的信息。</li><li><strong>协议数据单元 (PDU, Protocol Data Unit)：</strong> 对等层间交换的信息单位。</li><li><strong>PDU 与 SDU 的关系：</strong> N 层的 PDU 由 N 层的 SDU 加上该层的<strong>协议控制信息 (PCI, Protocol Control Information)</strong> 构成。</li></ul><h4 id="服务的类型">服务的类型</h4><p>下层能为上层提供两种主要服务：</p><ul><li><strong>面向连接的服务：</strong> 需要经过<strong>建立连接、数据交换和释放连接</strong>三个阶段。</li><li><strong>面向无连接的服务：</strong> 以<strong>数据报</strong>形式传输，包括数据报、证实交付和请求/响应。</li></ul><table><thead><tr><th style="text-align:center">层次</th><th style="text-align:center">协议</th><th style="text-align:center">可靠性</th><th style="text-align:center">是否连接</th></tr></thead><tbody><tr><td style="text-align:center">应用层</td><td style="text-align:center">HTTP/1.1</td><td style="text-align:center">依赖 TCP</td><td style="text-align:center">有连接</td></tr><tr><td style="text-align:center">应用层</td><td style="text-align:center">DNS</td><td style="text-align:center">不可靠</td><td style="text-align:center">无连接</td></tr><tr><td style="text-align:center">传输层</td><td style="text-align:center"><strong>TCP</strong></td><td style="text-align:center">可靠</td><td style="text-align:center">有连接</td></tr><tr><td style="text-align:center">传输层</td><td style="text-align:center"><strong>UDP</strong></td><td style="text-align:center">不可靠</td><td style="text-align:center">无连接</td></tr><tr><td style="text-align:center">网络层</td><td style="text-align:center"><strong>IP</strong></td><td style="text-align:center">不可靠</td><td style="text-align:center">无连接</td></tr><tr><td style="text-align:center">链路层</td><td style="text-align:center">Ethernet</td><td style="text-align:center">不可靠</td><td style="text-align:center">无连接</td></tr></tbody></table><h3 id="网络互连与性能">网络互连与性能</h3><h4 id="网络互连">网络互连</h4><ul><li><strong>互连目的：</strong> 扩大资源的共享范围。</li><li><strong>互连设备（按OSI层次划分）：</strong><ul><li><strong>物理层：</strong> <strong>重发器</strong> (Repeater)。</li><li><strong>数据链路层：</strong> <strong>网桥</strong> (Bridge)。</li><li><strong>网络层：</strong> <strong>路由器</strong> (Router)。</li><li><strong>网络层以上：</strong> <strong>网关</strong> (Gateway)。</li></ul></li></ul><h4 id="计算机网络的性能指标">计算机网络的性能指标</h4><ul><li><strong>吞吐量 (throughput)：</strong> 在单位时间内通过某个网络（或信道、接口）的数据量。受网络的带宽或额定速率的限制。</li><li><strong>信道利用率：</strong> 信道被有效占用的时间与总时间之比。</li><li><strong>延迟时间：</strong><ul><li><strong>排队时延：</strong> 在发送队列中的等待时间。</li><li><strong>访问延时：</strong> 等待信道空闲的时间。</li><li><strong>发送时延：</strong> 发送数据帧所需的时间 (数据块长度 / 发送速率)。</li><li><strong>传播时延：</strong> 信号在信道中传播的时间 (信道长度 / 信号在信道上的传播速率)。</li></ul></li><li><strong>总时延：</strong> 等于发送时延 + 传播时延 + 排队时延 + 访问时延。</li></ul><h2 id="数据通信基础">数据通信基础</h2><h3 id="数据通信系统基本概念">数据通信系统基本概念</h3><h4 id="数据通信系统组成">数据通信系统组成</h4><ul><li><strong>信源：</strong> 产生要发送数据的设备。</li><li><strong>发送设备：</strong> 对数据进行编码的设备。</li><li><strong>传输系统：</strong> 传输线路或网络。</li><li><strong>接收设备：</strong> 将接收的信号变成数据的设备。</li><li><strong>信宿：</strong> 数据的目的系统。</li></ul><h4 id="数据通信系统应解决的主要问题">数据通信系统应解决的主要问题</h4><p>这些问题涵盖了通信系统的核心挑战，包括提高效率和控制数据的完整性：</p><ul><li>提高传输系统的<strong>效率/利用率</strong>。</li><li><strong>接口、编码、同步</strong>。</li><li><strong>交换管理</strong>。</li><li><strong>差错控制</strong>。</li><li><strong>流量控制</strong>。</li><li><strong>寻址和路由</strong>。</li><li><strong>故障恢复</strong>。</li><li><strong>报文格式</strong>。</li></ul><h3 id="信号和数据编码">信号和数据编码</h3><h4 id="信号的分类与度量">信号的分类与度量</h4><ul><li><strong>模拟信号：</strong> 随时间连续变化的信号，可分为<strong>简单模拟信号</strong>（如正弦波，具有振幅、频率、相位三个参数）和<strong>复杂模拟信号</strong>（可分解为多个正弦波的叠加）。<ul><li><strong>傅里叶级数/变换：</strong> 用于将复杂信号分解为不同频率的正弦波分量。</li></ul></li><li><strong>数字信号：</strong> 离散的，值的变化是瞬时发生的信号。</li></ul><h4 id="数据传输速率指标">数据传输速率指标</h4><ul><li><strong>比特率 (Bit Rate, S)：</strong> 每秒钟发送的比特数，单位是 bit/s（bps）。</li><li><strong>码元 (Baud)：</strong> 承载信息量的基本信号单位。当码元的离散状态大于两个时（M进制码元），信息量增大。</li><li><strong>码元速率 (Baud Rate, B)：</strong> 每秒钟传送码元的数目，单位是波特 (Baud)。<ul><li><strong>比特率与波特率的关系：</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>=</mo><mi>B</mi><mo>×</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi></mrow><annotation encoding="application/x-tex">S = B \times \log_2 N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.9386em;vertical-align:-.2441em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span> 是码元状态数。</li></ul></li><li><strong>载波信号：</strong> 发送设备产生的高频基波，用于承载信息信号，信息承载过程称为<strong>调制</strong>。</li><li><strong>有效带宽：</strong> 允许信号传输且能以合理精度恢复信号的上限频率。</li><li><strong>信道容量 ©：</strong> 传输介质可以传输的<strong>最大比特率</strong>。</li></ul><h4 id="信道容量定理与限制">信道容量定理与限制</h4><ul><li><strong>奈奎斯特准则 (Nyquist)：</strong> 描述了<strong>无噪声</strong>情况下码元速率和信道带宽的关系。<ul><li><strong>码元速率限制：</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>=</mo><mn>2</mn><mo>×</mo><mi>H</mi></mrow><annotation encoding="application/x-tex">B = 2 \times H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">2</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.08125em">H</span></span></span></span>（其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi></mrow><annotation encoding="application/x-tex">H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.08125em">H</span></span></span></span> 是信道带宽）。</li><li><strong>最大数据传输率：</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mn>2</mn><mo>×</mo><mi>H</mi><mo>×</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>N</mi></mrow><annotation encoding="application/x-tex">C = 2 \times H \times \log_2 N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">2</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.08125em">H</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.9386em;vertical-align:-.2441em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span>。</li></ul></li><li><strong>香农定理 (Shannon)：</strong> 描述了<strong>有限带宽有随机热噪声</strong>信道下的最大传输速率。<ul><li><strong>最大传输速率：</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo>=</mo><mi>H</mi><mo>×</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>S</mi><mi mathvariant="normal">/</mi><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C = H \times \log_2 (1 + S/N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.08125em">H</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mclose">)</span></span></span></span>（其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span> 是平均信号功率， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span> 是平均噪声功率， <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi mathvariant="normal">/</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">S/N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span> 为信噪比）。</li></ul></li><li><strong>码间串扰：</strong> 由于系统传输特性不理想，导致前后码元波形畸变、展宽，对当前码元判决造成干扰。</li></ul><h4 id="信号编码方式">信号编码方式</h4><p>编码是将信息用信号表示的方法，主要有四种转换方式：</p><ul><li><strong>数字 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.3669em"></span><span class="mrel">→</span></span></span></span> 数字编码：</strong> 用数字信号表示数字信息（脉冲电压序列）。<ul><li><strong>单极性编码：</strong> 高电平表示 1，低电平表示 0。<strong>缺点：</strong> 有直流电平，需高带宽，难同步。</li><li><strong>极化编码：</strong> 采用正电压和负电压，减轻了直流分量问题。<ul><li><strong>非归零编码 (NRZ)：</strong> 非归零电平编码和非归零反相编码。</li><li><strong>归零编码 (RZ)</strong>。</li><li><strong>双相位码：</strong> 信号在每比特间隙中间发生改变但不归零，用于同步。包括<strong>曼彻斯特编码</strong>和<strong>差分曼彻斯特编码</strong>。<ul><li><em>曼彻斯特编码</em>：负到正跳变代表 1，正到负跳变代表 0。</li><li><em>差分曼彻斯特编码</em>：比特间隙开始位置的跳变用于同步，有跳变代表 0，无跳变代表 1。</li></ul></li></ul></li></ul></li><li><strong>数字 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.3669em"></span><span class="mrel">→</span></span></span></span> 模拟编码（调制技术）：</strong> 利用模拟信号的幅值、频率、相位来代替数字 1 和 0，主要用于利用有限带宽系统传输数字数据。<ul><li><strong>幅移键控 (ASK, Amplitude Shift Keying)：</strong> 用载波的不同幅度表示数字信息。</li><li><strong>频移键控 (FSK, Frequency Shift Keying)：</strong> 用载波的不同频率表示数字信息。</li><li><strong>相移键控 (PSK, Phase Shift Keying)：</strong> 用载波的不同相位表示数字信息。</li><li><strong>正交调幅 (QAM)：</strong> ASK 和 PSK 结合的编码方法。</li></ul></li><li><strong>模拟 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.3669em"></span><span class="mrel">→</span></span></span></span> 数字编码 (PCM, Pulse Code Modulation)：</strong> 通常需要三步：<strong>采样</strong>（将连续信号离散化）、<strong>量化</strong>（离散值用二进制量化）和<strong>编码</strong>（二进制编码）。<ul><li><strong>采样定理 (Shannon/Nyquist)：</strong> 采样频率必须大于信号最高频率的 2 倍。</li></ul></li></ul><h3 id="线路配置与传输方式">线路配置与传输方式</h3><h4 id="线路配置-Line-Configuration">线路配置 (Line Configuration)</h4><ul><li><strong>点对点 (Point-to-Point)：</strong> 两个设备之间存在专用链路。</li><li><strong>多点连接 (Multi-Point)：</strong> 一条线路上连接多个设备。</li></ul><h4 id="传输模式-Transmission-Mode">传输模式 (Transmission Mode)</h4><ul><li><strong>单工/半双工/双工通信</strong>。</li><li><strong>串行和并行传输</strong>。<ul><li><em>并行：</em> 一次 8 位传输，速度快，线路昂贵，距离短。</li><li><em>串行：</em> 一次一位传输，速度慢，价格便宜。</li></ul></li><li><strong>同步和异步传输</strong>。<ul><li><em>异步传输：</em> 用于低速设备，一次传输一个字节，每个字节用<strong>开始位</strong>和<strong>停止位</strong>进行同步。</li><li><em>同步传输：</em> 用于高速传输，对时钟要求高，使用<strong>数据帧</strong>包含同步/控制/数据/错误/结束等信息。</li></ul></li></ul><h3 id="多路复用技术-Multiplexing">多路复用技术 (Multiplexing)</h3><p>多路复用技术允许一条链路同时传输多路信号，以最大限度地利用传输能力。</p><ul><li><strong>频分多路复用 (FDM, Frequency-Division Multiplexing)：</strong> 通过<strong>分割线路带宽</strong>，让每路信号占用不同的频率带，适用于<strong>模拟信号</strong>。</li><li><strong>时分多路复用 (TDM, Time-Division Multiplexing)：</strong> 通过<strong>分割时间片</strong>，让每路信号占用不同的时间片，适用于<strong>数字信号</strong>。<ul><li><strong>同步时分多路复用：</strong> 帧大小固定，控制简单，实时性好，但可能造成<strong>线路资源浪费</strong>（信道效率差）。</li><li><strong>异步（统计）时分多路复用 (STDM)：</strong> 提高了系统的利用率，但需要额外代价（如信息单元需附带地址、复用器需有存储容量）。</li></ul></li><li><strong>波分多路复用 (WDM, Wavelength Division Multiplexing)：</strong> 本质上是<strong>光的频分复用</strong>。利用多个激光器在单条光纤上同时发送多束<strong>不同波长</strong>激光。</li><li><strong>码分多路复用 (CDMA, Code-Division Multiple Access)：</strong> 根据<strong>码型结构的不同</strong>来分割信号，所有用户使用<strong>同一频率</strong>，占用相同的带宽。<ul><li><em>基本原理：</em> 每个比特被分为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 个<strong>码片</strong>，每个站点有唯一的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 位码片序列（码字）。不同站点码字相互正交。</li><li><em>特点：</em> 通过码字正交支持多用户，提高频带利用率。</li></ul></li></ul><h3 id="数据交换技术">数据交换技术</h3><p>数据交换解决的是多个设备间通信的连接问题。</p><h4 id="传统交换方式">传统交换方式</h4><ul><li><strong>电路交换 (Circuit Switch)：</strong> 在通信开始前，在两个设备间建立一条<strong>完全被通信双方占用的临时物理连接</strong>。过程包括：电路建立、数据传输、电路拆除。<ul><li><em>特点：</em> 独占物理通路，一旦建立延迟小，但信道利用率低。</li></ul></li><li><strong>报文交换 (Message Switch)：</strong> 又称<strong>存储转发</strong>。网络的中间节点将<strong>整个报文</strong>暂时存储，检查完整性后再转发。<ul><li><em>缺点：</em> 报文较长，传输延迟大。</li></ul></li><li><strong>分组交换 (Packet Switch)：</strong> 较长的报文被分割成较短的<strong>信息包 (packet/分组)</strong>，以包为单位发送、存储和转发。中间节点只需短时间存储分组，减少了传输延迟。<ul><li><em>优点：</em> 共享传输链路，提高使用效率；支持多种通信设备互连；提供灵活的流控/拥塞控制；可工作于广播/多播方式。</li><li><em>分组交换类型：</em><ul><li><strong>数据报 (Datagram)：</strong> 每个包独立处理，可能<strong>失序到达</strong>目的地（排序由传输层完成）。</li><li><strong>虚电路 (Virtual Circuit, VC)：</strong> 属于同一次通信的所有包之间的关系得以维持，路径在数据传输开始前选定，包<strong>按顺序沿着固定路径传输</strong>。虚电路可以同时为多个设备提供服务，与电路交换不同。<ul><li><em>虚电路类型：</em> <strong>交换虚电路 (SVC)</strong>（临时创建）和<strong>永久虚电路 (PVC)</strong>（长期固定，类似于租用线路）。</li></ul></li></ul></li></ul></li></ul><h4 id="新型交换技术">新型交换技术</h4><ul><li><strong>异步传输模式 (ATM, Asynchronous Transfer Mode)：</strong> 信元中继协议，使用固定长度的<strong>信元 (cell)</strong> 进行传输。</li><li><strong>帧中继 (Frame Relay)：</strong> 在数据链路层<strong>不提供差错检测</strong>和流量控制（留给网络层和传输层），以提高效率。</li></ul><h3 id="错误检测和控制">错误检测和控制</h3><p>错误检测和控制通过给信息加上冗余位来实现。</p><h4 id="检错-纠错能力">检错/纠错能力</h4><ul><li><strong>码距 (d)：</strong> 影响检错和纠错能力。<ul><li><strong>检错能力 (D)：</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>≥</mo><mi>D</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">d \ge D + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8304em;vertical-align:-.136em"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.02778em">D</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>。</li><li><strong>纠错能力 ©：</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>≥</mo><mi>C</mi><mo>+</mo><mi>C</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">d \ge C + C + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8304em;vertical-align:-.136em"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.07153em">C</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>。</li></ul></li><li><strong>编码效率：</strong> 数据信息在整个发送信息中的比重。</li><li><strong>错误类型：</strong> 随机错误、突发性错误。</li></ul><h4 id="检错方法">检错方法</h4><ul><li><strong>奇偶校验码 (Parity Check)：</strong> 通过添加一个校验位，使数据单元中 1 的个数为奇数或偶数。可分为垂直、水平和水平垂直校验。</li><li><strong>循环冗余校验 (CRC, Cyclic Redundancy Check)：</strong> 数据链路层常用的差错检测技术。通过通信双方约定的生成多项式 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> 来计算余数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> 作为校验码。</li><li><strong>校验和 (Checksum)：</strong> 发送方将数据分成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 比特长的段，采用<strong>反码加法</strong>算法求和，结果取反得到检查和作为冗余位。接收方重新计算总和，如果结果为全 1，则传输正确。</li></ul><h2 id="物理层">物理层</h2><h3 id="物理层概述与特性">物理层概述与特性</h3><h4 id="物理层功能">物理层功能</h4><p>物理层在开放系统互连参考模型 (<strong>OSI</strong>) 中位于最底层，负责将计算机连接到通信媒体上。物理层数据传输的单位是<strong>比特 (Bit)</strong>。</p><h4 id="物理层协议的四个特性">物理层协议的四个特性</h4><p>物理层协议是为了对<strong>数据终端设备—数据电路终接设备 (DTE—DCE)</strong> 接口进行标准化而定义的。它规定了以下四个特性:</p><ul><li><strong>机械特性：</strong> 定义接口的插头尺寸、插头各管脚的位置等。</li><li><strong>电气特性：</strong> 说明传输线上出现的电压范围、信号电平等。</li><li><strong>功能特性：</strong> 说明传输线上特定电平所代表的意义，如数据发送、数据接收、控制线等。</li><li><strong>规程特性：</strong> 说明数据交换的控制步骤，即各种可能事件发生的先后顺序。</li></ul><h3 id="传输介质">传输介质</h3><p>传输介质用于承载信号，分为有线（导引）和无线（非导引）介质。</p><h4 id="有线介质">有线介质</h4><ul><li><strong>双绞线：</strong> 包括<strong>非屏蔽双绞线 (UTP, Unshielded Twisted Pair)</strong> 和<strong>屏蔽双绞线 (STP, Shielded Twisted Pair)</strong>。<ul><li><strong>实现特点：</strong> 成本较低，最大电缆长度通常为 100m。UTP 按类别划分速率（如 Cat 5 为 100 Mbps，Cat 6 为 1 Gbps）。</li><li><strong>连线标准：</strong> <strong>EIA/TIA</strong> 规定了 <strong>568A</strong> 和 <strong>568B</strong> 两种线序。<ul><li><strong>直通线：</strong> 用于连接网络中<strong>不同类型设备</strong>。</li><li><strong>交叉线：</strong> 用于连接网络中<strong>相同类型设备</strong>。</li></ul></li></ul></li><li><strong>同轴电缆：</strong> 有粗缆和细缆，用于总线网络的拓扑结构。</li><li><strong>光纤：</strong><ul><li><strong>原理：</strong> 通过光线在<strong>纤芯</strong>中不断地<strong>全反射</strong>进行传输。</li><li><strong>特点：</strong> 具有抗干扰、传输速率高、距离长。但价格贵，安装维护费用高。</li><li><strong>规格：</strong> 包括单模和多模光纤。</li></ul></li></ul><h4 id="无线介质">无线介质</h4><ul><li><strong>信号类型：</strong> 主要包括无线电波（频段）、红外线、声波等。</li><li><strong>无线网络：</strong> 如 <strong>WiFi</strong>，使用 2.4 GHz 和 5 GHz 频段（无需授权的 <strong>ISM 频段</strong>）。</li><li><strong>传播方法：</strong> 分为定向和全向两种。</li></ul><h3 id="物理连接接口标准">物理连接接口标准</h3><h4 id="数据终端设备（DTE）与数据电路终接设备（DCE）">数据终端设备（DTE）与数据电路终接设备（DCE）</h4><ul><li><strong>数据终端设备 (DTE, Data Terminal Equipment)：</strong> 具有数据处理及发送/接收数据信息能力的设备。</li><li><strong>数据电路终接设备 (DCE, Data Circuit-Terminating Equipment)：</strong> 能够通过网络发送和接收模拟或数字信号形式数据的设备。</li><li><strong>DTE—DCE 接口：</strong> DTE 通过 DCE 连接到通信网络。</li></ul><h4 id="接口标准（EIA-232-与-X-21）">接口标准（EIA-232 与 X.21）</h4><ul><li><strong>EIA-232 接口标准 (原 RS-232 标准)：</strong> 由 <strong>EIA</strong> 制定。<ul><li><strong>机械特性：</strong> 使用 <strong>DB25 连接器</strong>，电缆长度不能超过 25 米。</li><li><strong>电气特性：</strong> 采用<strong>非归零电平编码 (NRZ-L)</strong>，逻辑 0 对应正电平，逻辑 1 对应负电平。</li><li><strong>功能线举例：</strong> 主要功能线包括 <strong>TD</strong> (发送数据，Pin 2)，<strong>RD</strong> (接收数据，Pin 3)，<strong>RTS</strong> (请求发送，Pin 4)，<strong>CTS</strong> (清除待发送，Pin 5)，<strong>DSR</strong> (DCE 设备就绪，Pin 6)，<strong>DTR</strong> (DTE 准备好，Pin 20)。</li><li><strong>空调制解调器 (Null Modem)：</strong> 一种连接方案，用于不需要调制解调器时，直接连接两台相距很近的 DTE 设备。</li></ul></li><li><strong>X.21 接口标准：</strong> 由<strong>国际电信联盟电信标准分局 (ITU-T, International Telecommunication Union - Telecommunication Standardization Sector)</strong> 制定。<ul><li><strong>实现特点：</strong> 撤销了 EIA-232 中大多数控制线路，将控制信息导向数据线路。使用 <strong>DB-15</strong> 连接头。</li></ul></li></ul><h3 id="物理层互连设备">物理层互连设备</h3><h4 id="中继器">中继器</h4><ul><li><strong>工作层次：</strong> 物理层设备。</li><li><strong>功能/特点：</strong> 通过<strong>重新产生信号</strong>来扩展局域网覆盖的地理范围。要求所连接的局域网具有<strong>相同的物理层和媒体访问控制协议</strong>。使用中继器会增加更多的流量和<strong>冲突/碰撞</strong>，可能导致性能下降。<ul><li><strong>以太网 5-4-3-2-1 中继规则：</strong> 规定了中继器串联使用的限制，以保证 <strong>MAC</strong> 协议正常工作。</li></ul></li><li><strong>集线器 (Hub)：</strong><ul><li><strong>工作层次：</strong> 物理层设备。</li><li><strong>功能/特点：</strong> 可看作<strong>多端口的中继器</strong>，对接收到的信号进行<strong>再生、整形、放大</strong>，并将所有节点集中在以它为中心的节点上。</li><li><strong>冲突域：</strong> 集线器连接的网络位于<strong>同一个冲突域</strong> 中。</li></ul></li></ul><hr><table><thead><tr><th style="text-align:center">概念</th><th style="text-align:center">所属 OSI 层次</th><th style="text-align:center">核心功能/目的</th><th style="text-align:center">设备举例</th></tr></thead><tbody><tr><td style="text-align:center">**冲突域 **</td><td style="text-align:center"><strong>物理层</strong> (OSI Layer 1)</td><td style="text-align:center">相互竞争物理信道进行通信的节点集合。同一冲突域内一次只有一个设备能发送信息。</td><td style="text-align:center">集线器 (Hub)，中继器 (Repeater)</td></tr><tr><td style="text-align:center">**广播域 **</td><td style="text-align:center"><strong>数据链路层</strong> (OSI Layer 2)</td><td style="text-align:center">所有会接收到同样的链路层广播信息的计算机组。</td><td style="text-align:center">网桥 (Bridge)，二层交换机 (Layer 2 Switch)</td></tr><tr><td style="text-align:center">**中继器 **</td><td style="text-align:center"><strong>物理层</strong> (OSI Layer 1)</td><td style="text-align:center">信号再生、整形、放大，扩展网络距离。</td><td style="text-align:center">中继器</td></tr><tr><td style="text-align:center"><strong>网桥 (Bridge)</strong></td><td style="text-align:center"><strong>数据链路层</strong> (OSI Layer 2)</td><td style="text-align:center">根据 <strong>MAC 地址</strong>进行存储/转发，连接局域网。可以<strong>隔离冲突域</strong>，但<strong>不能隔离广播域</strong>。</td><td style="text-align:center">网桥</td></tr><tr><td style="text-align:center"><strong>路由器 (Router)</strong></td><td style="text-align:center"><strong>网络层</strong> (OSI Layer 3)</td><td style="text-align:center">基于 <strong>网络层地址 (IP 地址)</strong> 确定传输路径并转发数据包，连接不同网络。可以<strong>隔离广播域</strong>。</td><td style="text-align:center">路由器</td></tr></tbody></table><h2 id="数据链路层">数据链路层</h2><p>数据链路层位于开放系统互连参考模型 (<strong>OSI</strong>) 的第二层，其核心功能是在两个<strong>相邻的网络节点</strong>之间提供<strong>可靠的通信</strong>，并将不可靠的物理链路转变为可靠的数据链路。传输的信息单元是<strong>帧 (Frame)</strong>。</p><h3 id="数据链路层的主要工作">数据链路层的主要工作</h3><p>数据链路层的主要工作包括<strong>线路规程</strong>、<strong>差错控制</strong>和<strong>流量控制</strong>，以及<strong>链路管理</strong>（链路的建立、维持、拆除）。</p><h4 id="流量控制">流量控制</h4><p>流量控制是用来告诉发送方在等待接收方的确认信号之前最多可以传送多少数据的一组过程。</p><ul><li><strong>流量控制要点：</strong> 数据流不能使接收方过载；接收方需对数据进行确认。</li></ul><h4 id="差错控制">差错控制</h4><p>差错控制主要指错误检测和重传方法。</p><ul><li><strong>自动重复请求 (ARQ, Automatic Repeat reQuest)：</strong> 当数据帧在传输中出现错误时，接收方返回一个否定应答帧 (<strong>NAK</strong>)，出错的帧会被发送方重新传送。</li><li><strong>数据重传情况：</strong> 数据可能因<strong>帧破坏</strong>、<strong>帧丢失</strong>和<strong>应答帧丢失</strong>而需要重传。</li></ul><h3 id="流量与差错控制协议">流量与差错控制协议</h3><p>流量控制和差错控制通常结合在一起实现，主要有<strong>停止等待协议</strong>和<strong>滑动窗口协议</strong>两种技术。</p><h4 id="停止等待协议-Stop-and-Wait-Protocol">停止等待协议 (Stop-and-Wait Protocol)</h4><ul><li><strong>协议特点：</strong> 发送方每发送一帧后就等待应答 (<strong>ACK</strong>)；只有收到一个应答后，才发送下一个帧。</li><li><strong>优点：</strong> 协议简单。</li><li><strong>缺点：</strong> 效率低，尤其在设备之间距离很长（传播时延长）的情况下。</li></ul><h4 id="滑动窗口协议-Sliding-Window-Protocol">滑动窗口协议 (Sliding Window Protocol)</h4><ul><li><strong>协议动机：</strong> 为了达到极限吞吐量，发送方在收到应答消息前可以发送若干帧。接收方使用一个 <strong>ACK</strong> 帧对多个数据帧的接收进行确认。</li><li><strong>窗口作用：</strong> <strong>发送方窗口</strong>用于存放已发送但未收到应答的数据帧，以及在收到应答前可以发送的数据帧；<strong>接收方窗口</strong>用于存放已被接收但未发送应答的数据帧。</li><li><strong>帧编号：</strong> 数据帧以<strong>模 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span></strong> 方式编号（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0, 1, \dots, n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8389em;vertical-align:-.1944em"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:.1667em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>），发送窗口的最大尺寸通常是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>。接收方发送的 <strong>ACK</strong> 编号是期望收到的<strong>下一帧</strong>的编号。</li><li><strong>窗口大小选择条件：</strong> 窗口大小 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 应满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><msub><mi>t</mi><mi>I</mi></msub><mo>&gt;</mo><mn>2</mn><mo stretchy="false">(</mo><msub><mi>t</mi><mi>I</mi></msub><mo>+</mo><msub><mi>t</mi><mi>P</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n \times t_I &gt; 2(t_I + t_P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">2</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 或 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><msub><mi>t</mi><mi>I</mi></msub><mo>&gt;</mo><msub><mi>t</mi><mi>I</mi></msub><mo>+</mo><mn>2</mn><msub><mi>t</mi><mi>P</mi></msub><mo>+</mo><msub><mi>t</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">n \times t_I &gt; t_I + 2t_P + t_S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7944em;vertical-align:-.15em"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>I</mi></msub></mrow><annotation encoding="application/x-tex">t_I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.07847em">I</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 为发送帧时间，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>P</mi></msub></mrow><annotation encoding="application/x-tex">t_P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.13889em">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 为传播时间，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>S</mi></msub></mrow><annotation encoding="application/x-tex">t_S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7651em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3283em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05764em">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 为发送确认帧时间）。</li></ul><h5 id="滑动窗口的自动重复请求-ARQ-技术">滑动窗口的自动重复请求 (ARQ) 技术</h5><p>滑动窗口协议中有两种实现 <strong>ARQ</strong> 的技术：</p><ol><li><strong>回退N自动重复请求 (Go-back-N, GBN)：</strong><ul><li><strong>实现特点：</strong> 如果一帧丢失或损坏，<strong>从最近一次得到应答的数据帧开始</strong>，所有未被应答的帧都进行重传。接收方一旦发现接收到的帧不是期望的序号，会丢弃后续所有帧。</li><li><strong>窗口限制：</strong> 若帧的编号范围是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>（模 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 编号），则<strong>发送窗口最大为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></strong>。</li></ul></li><li><strong>选择拒绝自动重复请求 (Select-Rej, SR)：</strong><ul><li><strong>实现特点：</strong> 只有<strong>特定的丢失或损坏帧</strong>会被重发。接收方收到的数据帧可以<strong>不按顺序到达</strong>，接收方必须具有<strong>排序功能</strong>并存储已收到的所有帧，直到损坏的帧被重新收到为止。</li><li><strong>窗口限制：</strong> 如果帧的编号范围是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0 \sim n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>（模 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 编号），则发送窗口尺寸 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">W_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2806em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>) 和接收窗口尺寸 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">W_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>) 之和应小于或等于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span>。若要求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>t</mi></msub><mo>=</mo><msub><mi>W</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">W_t = W_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2806em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，则窗口尺寸应小于或等于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">n/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">n</span><span class="mord">/2</span></span></span></span>。</li></ul></li></ol><h3 id="线路规程与介质访问控制-MAC">线路规程与介质访问控制 (MAC)</h3><h4 id="线路规程">线路规程</h4><p>线路规程是监视链路的建立，以及在给定时刻分配一个具体设备进行数据传送的权利。</p><ul><li><strong>询问/应答 (ENQ/ACK, EQuiry / ACKnowledge) 模式：</strong><ul><li><strong>适用场合：</strong> 两个设备之间存在专用链路时（点对点方式）。</li><li><strong>工作方式：</strong> 启动方发送<strong>询问帧 (ENQ)</strong>，接收方以<strong>确认帧 (ACK)</strong> 或<strong>否认帧 (NAK)</strong> 回答。</li></ul></li><li><strong>轮询 (Poll)/选择 (Select) 模式：</strong><ul><li><strong>适用场合：</strong> 多点连接系统，需要确定哪个站点有权使用信道。</li><li><strong>工作方式：</strong> <strong>主设备</strong>控制链路，<strong>从设备</strong>响应。<ul><li><strong>选择 (Select)：</strong> 主设备希望发送数据，用 <strong>SeL</strong> 告知从设备准备接收。</li><li><strong>轮询 (Poll)：</strong> 主设备希望接收数据，逐个询问从设备是否有数据发送。</li></ul></li></ul></li></ul><h4 id="媒体访问控制-MAC-Medium-Access-Control">媒体访问控制 (MAC, Medium Access Control)</h4><p>MAC 子层是 IEEE 802 数据链路层的下子层，它解决<strong>共享介质的竞争使用问题</strong>，包括同步、流量和差错控制的规范，以及下一个站点的<strong>物理地址</strong>（即 MAC 地址）。</p><ul><li><strong>以太网的 MAC 协议：</strong> <strong>带有冲突检测的载波侦听多路访问 (CSMA/CD, Carrier Sense Multiple Access with Collision Detection)</strong>。<ul><li><strong>CSMA/CD 算法特点：</strong> “边听边说”。如果链路空闲，则发送并同时检测冲突；若检测到冲突，则停止发送，发送阻塞信号，等待一段随机时间后重传。</li><li><strong>最短帧长：</strong> 为了确保在最远距离发生的冲突能够被检测到，存在最短帧长限制。最短帧长 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>min</mi><mo>⁡</mo></msub></mrow><annotation encoding="application/x-tex">L_{\min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3175em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 的计算公式为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>min</mi><mo>⁡</mo></msub><mo>=</mo><mi>R</mi><mo>×</mo><mn>2</mn><mi>S</mi><mi mathvariant="normal">/</mi><mi>V</mi></mrow><annotation encoding="application/x-tex">L_{\min} = R \times 2S / V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3175em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:.05764em">S</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:.22222em">V</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span></span></span></span> 为传输速率，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05764em">S</span></span></span></span> 为最大距离，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.22222em">V</span></span></span></span> 为传播速度）。以太网规定最短帧长为 64 字节。</li></ul></li><li><strong>无线局域网 MAC 协议：</strong> <strong>带有冲突避免的载波侦听多路访问 (CSMA/CA, Carrier Sense Multiple Access with Collision Avoidance)</strong>。<ul><li><strong>CSMA/CA 动机：</strong> 克服无线网络中<strong>冲突检测困难</strong>、<strong>隐藏终端问题</strong>和<strong>暴露终端问题</strong>。</li><li><strong>实现特点：</strong> 采用<strong>帧间间隔 (IFS, Inter-Frame Space)</strong> 和<strong>随机退后过程 (Backoff Counter)</strong> 来延迟发送，避免多个站点同时传输引起的冲突。</li><li><strong>可选机制：</strong> <strong>发送请求-清除发送 (RTS-CTS)</strong> 机制，通过信道预约来避免长帧冲突，其中 <strong>RTS</strong> 和 <strong>CTS</strong> 中的<strong>持续时间</strong> (<strong>Duration</strong>) 字段用于通知其他站点维护 <strong>网络分配向量 (NAV, Network Allocation Vector)</strong>，实现虚拟载波侦听。</li></ul></li></ul><h3 id="高级数据链路控制协议-HDLC">高级数据链路控制协议 (HDLC)</h3><p>HDLC 是国际标准化组织 (<strong>ISO</strong>) 于 1979 年提出的面向比特的高级数据链路控制协议。</p><ul><li><strong>协议特点：</strong> 面向比特协议，帧被看作一系列比特，控制信息可以由较短的比特位表示，且不受任何编码系统制约。</li><li><strong>HDLC 支持的帧类型：</strong><ol><li><strong>信息帧 (I-帧, Information Frame)：</strong> 携带用户数据信息，用于数据传输。</li><li><strong>监管帧 (S-帧, Supervisory Frame)：</strong> 用于应答和流量控制，例如<strong>接收就绪 (RR)</strong>、<strong>拒绝 (REJ)</strong>、<strong>选择拒绝 (SREJ)</strong> 等。</li><li><strong>无编号帧 (U-帧, Unnumbered Frame)：</strong> 用于在互连设备间交换会话管理信息和控制信息（如设置连接模式、断开连接）。</li></ol></li><li><strong>帧格式控制：</strong> 采用特殊的<strong>标志字段</strong>（<code>01111110</code>）来表示帧的开始和结束，并使用<strong>位填充法</strong>（发送方在五个连续的 1 后面插入一个冗余的 0）来避免数据字段与标志字段混淆。</li><li><strong>控制字段：</strong> 用于流量管理，包含<strong>发送帧编号</strong>（N(S)）、<strong>期望收到帧编号</strong>（N®，用于确认/应答）和 <strong>P/F 位</strong>（Poll/Final，用于请求/响应）。</li><li><strong>捎带确认：</strong> 将发送信息和控制信息结合到一帧中的技术。</li></ul><h3 id="数据链路层互连设备">数据链路层互连设备</h3><h4 id="网桥-Bridge">网桥 (Bridge)</h4><ul><li><strong>工作层次：</strong> 数据链路层设备 (OSI Layer 2)，同时作用于物理层和数据链路层。</li><li><strong>核心功能：</strong> 根据帧的<strong>目的地址 (MAC 地址)</strong> 决定是否接收（隔离）和转发数据帧。<ul><li>网桥在数据链路层上进行数据帧的<strong>存储和转发</strong>。</li><li>网桥可以连接不同帧格式的局域网，并进行<strong>帧格式转换</strong>。</li><li>网桥具有<strong>隔离通信</strong>（隔离冲突域）的功能。</li></ul></li><li><strong>路由算法：</strong><ul><li><strong>固定路由网桥：</strong> 路由表由手工配置，配置后不变。</li><li><strong>透明网桥 (Transparent Bridge)：</strong> 能够根据网络信息自动生成和修改路由表，这种能力称为<strong>路由学习</strong>或<strong>地址学习</strong>。透明网桥通过<strong>生成树算法 (Spanning Tree)</strong> 来淘汰互连局域网中的回路，防止<strong>帧循环传递问题</strong>。</li></ul></li><li><strong>源路由网桥：</strong> 由发送帧的<strong>源站点</strong>决定转发路由，并将路由信息存储在帧中。</li></ul><h4 id="第二层交换机-Layer-2-Switch">第二层交换机 (Layer 2 Switch)</h4><ul><li><strong>工作层次：</strong> 数据链路层设备，可看作<strong>多端口的网桥</strong>。</li><li><strong>功能/特点：</strong> 可识别数据帧中的 <strong>MAC 地址</strong>信息，并依据地址进行转发。每个端口有自己的带宽，各端口之间并行工作，大大提高了网络吞吐量。</li><li><strong>交换技术：</strong> 主要有<strong>直通式 (Cut Through)</strong>（延迟小但不能检查错误）和<strong>存储转发 (Store &amp; Forward)</strong>（延迟大但能进行错误检测，并支持不同速率端口间转换）。</li><li><strong>虚拟局域网 (VLAN, Virtual Local Area Network)：</strong><ul><li>是一种技术，能将同一物理局域网内的不同设备<strong>逻辑地划分成不同的广播域</strong>，每个 VLAN 都是一个独立的广播域。</li><li><strong>优点：</strong> 端口分隔、网络安全、管理灵活（更改软件配置即可）。</li></ul></li></ul><hr><table><thead><tr><th>概念</th><th>所属 OSI 层次</th><th>传输单位</th><th>核心功能/目的</th></tr></thead><tbody><tr><td><strong>数据链路层</strong> (Data Link)</td><td>OSI 第 2 层</td><td>帧 (Frame)</td><td>提供相邻节点间的<strong>可靠通信</strong>（差错控制、流量控制）。</td></tr><tr><td><strong>MAC 子层</strong> (Medium Access Control)</td><td>数据链路层子层</td><td>帧 (Frame)</td><td>解决<strong>共享介质的竞争使用</strong>（如 CSMA/CD, CSMA/CA），包含物理地址。</td></tr><tr><td><strong>LLC 子层</strong> (Logical Link Control)</td><td>数据链路层子层</td><td>LLC-PDU</td><td>对于所有局域网协议来说都是相同的，用于提供统一的逻辑链路服务。</td></tr><tr><td><strong>网桥 (Bridge)</strong></td><td>数据链路层 (L2)</td><td>帧</td><td>根据 <strong>MAC 地址</strong>存储和转发帧，连接局域网，<strong>隔离冲突域</strong>，但<strong>不能隔离广播域</strong>。</td></tr><tr><td><strong>二层交换机 (L2 Switch)</strong></td><td>数据链路层 (L2)</td><td>帧</td><td>多端口的网桥，可识别 MAC 地址，支持端口间并行交换，用于构建局域网。</td></tr><tr><td><strong>冲突域 (Collision Domain)</strong></td><td>物理层 (L1)</td><td>比特流</td><td>所有相互竞争物理信道的节点集合。<strong>集线器</strong>连接在同一冲突域内。</td></tr><tr><td><strong>广播域 (Broadcast Domain)</strong></td><td>数据链路层 (L2)</td><td>帧</td><td>所有会收到相同链路层广播信息的节点集合。<strong>路由器</strong>可以隔离广播域。</td></tr><tr><td><strong>VLAN</strong></td><td>数据链路层 (L2)</td><td>帧</td><td>逻辑地划分广播域，将一个物理交换机当作多个逻辑交换机使用。</td></tr></tbody></table><h2 id="网络层">网络层</h2><p>网络层在开放系统互连参考模型 (<strong>OSI</strong>) 中位于第三层，负责<strong>任意两个网络节点间</strong>的通信，其传输的信息单位是<strong>分组 (Packet)</strong>。</p><h3 id="网络层的功能与服务">网络层的功能与服务</h3><h4 id="网络层的主要功能">网络层的主要功能</h4><p>网络层为实现信源到信宿的信息传递，提供了以下主要功能：</p><ul><li><strong>信源到信宿的传输：</strong> 将多条物理链路连接成一条传输路径。</li><li><strong>逻辑寻址：</strong> 在数据包的头部加入源地址和目的地址。网络层地址是<strong>信源和信宿</strong>的地址。</li><li><strong>路由选择 (Routing)：</strong> 选择从一点到另一点发送数据包的<strong>最佳路经</strong>。</li><li><strong>地址转换：</strong> 将网络层地址翻译成对应的物理地址。</li><li><strong>流量和拥塞控制</strong>。</li></ul><h4 id="面向连接的网络服务-虚电路服务">面向连接的网络服务 (虚电路服务)</h4><ul><li><strong>服务类型：</strong> 建立一条<strong>虚电路 (Virtual Circuit)</strong>，在整个数据传输过程中都有效。属于同一次数据传输过程的所有包都将<strong>按顺序沿着这条电路传输</strong>。</li><li><strong>过程：</strong> <strong>建立连接、数据交换和释放连接</strong>三个阶段。</li><li><strong>优点：</strong> 协议可包含<strong>全面的顺序、差错和流量控制</strong>；允许在流量控制上使用<strong>滑动窗口</strong>；数据包中使用了较少的协议控制信息，<strong>减少了额外开销</strong>。</li><li><strong>缺点：</strong> 一旦连接建立，<strong>路由灵活性就不存在了</strong>；<strong>速度比面向无连接服务低</strong>。</li><li><strong>虚电路的建立和编号：</strong> 虚电路的建立依赖于<strong>虚电路路由表</strong>，每个节点对虚电路进行独立编号。在虚电路传输中，每个包不需要携带完整的目的地址，只需携带<strong>虚电路的号码标志</strong>，减少了包的控制信息开销。</li></ul><h4 id="面向无连接的网络服务-数据报服务">面向无连接的网络服务 (数据报服务)</h4><ul><li><strong>服务类型：</strong> 每个包被当作一个<strong>独立的单元</strong>传输。<strong>无连接协议不提供逻辑连接</strong>，发送者直接发送数据。</li><li><strong>实现特点：</strong> 中间节点根据路由信息和报头地址选择路径。数据报可能<strong>不按顺序到达</strong>目的地。</li><li><strong>优点：</strong> <strong>具有速度和开销方面的优势</strong>；如果某条路径发生阻塞或中断，包可以<strong>选择另一条路经</strong>。</li><li><strong>缺点：</strong> <strong>不可靠</strong>，无法保证数据包顺序到达；每个包必须携带<strong>完整的地址信息</strong>，开销较大。</li></ul><h4 id="服务与操作方式辨析">服务与操作方式辨析</h4><p>通信子网向端系统提供虚电路或数据报服务，而通信子网内部也可以采用虚电路或数据报方式工作。提供虚电路服务的通信子网内部的操作可以是虚电路方式，也可以是数据报方式。以数据报方式工作的网络，也可以通过端系统的排序、重发等工作，向用户提供虚电路服务。</p><h3 id="网络互连设备与原理">网络互连设备与原理</h3><p>网络层互连设备主要是<strong>路由器</strong>，路由器能够理解网络层和数据链路层的协议。</p><h4 id="路由器-Router">路由器 (Router)</h4><ul><li><strong>工作层次：</strong> 通常工作在<strong>网络层 (OSI Layer 3)</strong>。</li><li><strong>功能：</strong> 在多个互连设备之间<strong>中继分组</strong>。对来自某个网络的包确定传输路径，发送到互连网络中任何可能的目的网络中。路由器基于<strong>网络层地址 (IP 地址)</strong> 对数据报文确定传输路径。</li><li><strong>特点：</strong> 路由器能够<strong>隔离广播域</strong>。每个路由器接口应具有不同的 <strong>MAC 地址</strong>和 <strong>IP 地址</strong>。</li></ul><h4 id="三层交换机-Layer-3-Switch">三层交换机 (Layer 3 Switch)</h4><ul><li><strong>工作层次：</strong> 具有<strong>完全交换功能</strong>和<strong>部分路由功能</strong>。</li><li><strong>功能/特点：</strong> 能够完成基于<strong>第三层地址 (IP 地址)</strong> 的业务流转发。主要用于 <strong>Intranet</strong> 内部转发分组，能够直接完成不同 <strong>VLAN (Virtual Local Area Network)</strong> 之间的通信，速度快，避免了通过外部路由器的转发。<ul><li><em>数据转发流程：</em> 三层交换机接收数据帧后，通过<strong>MAC 地址</strong>查找转到<strong>路由模块</strong>，路由模块根据<strong>IP 地址</strong>进行路由处理，然后转发回<strong>交换模块</strong>，再发送出去。</li></ul></li></ul><h4 id="网关-Gateway">网关 (Gateway)</h4><ul><li><strong>工作层次：</strong> 在<strong>网络层以上</strong>实现网络互连。</li><li><strong>功能：</strong> 又称网间连接器或协议转换器，<strong>仅用于互连高层协议不同的网络</strong>。网关通常是安装在<strong>路由器内部的软件</strong>。</li></ul><h3 id="路由选择策略与算法">路由选择策略与算法</h3><h4 id="路由选择的基本要求">路由选择的基本要求</h4><p>路由算法应满足：<strong>正确性</strong>、<strong>简单性</strong>、<strong>坚定性</strong>（长时间运行不会出现系统故障）、<strong>稳定性</strong>（算法收敛）、<strong>公平性</strong>和<strong>最佳性</strong>。</p><h4 id="路由选择策略分类">路由选择策略分类</h4><ul><li><strong>非适应性路由选择算法：</strong> 路由算法<strong>不能随网络的通信量变化而变化</strong>。<ul><li><em>方法：</em> <strong>洪泛法 (flooding)</strong>、<strong>有选择的洪泛法</strong>、<strong>固定路由法</strong>、<strong>随机走动 (random walk) 法</strong>、<strong>分散通信量法</strong>。</li></ul></li><li><strong>适应性路由选择算法：</strong> 路由算法能随网络的通信量或拓扑结构变化而调整。<ul><li><em>策略：</em> <strong>孤立的路由选择策略</strong>、<strong>分布式路由选择策略</strong>（典型算法有 <strong>RIP</strong> 和 <strong>OSPF</strong> 协议）和<strong>集中式路由选择策略</strong>。</li></ul></li></ul><h4 id="基本路由算法">基本路由算法</h4><p>计算最短路径的两种常用方法：</p><ol><li><strong>距离向量路由</strong>:<ul><li><strong>实现特点：</strong> 每个路由器周期性地（一般每 30 秒）将<strong>自己关于整个网络的信息</strong>发送给<strong>它的邻居</strong>。</li><li><strong>算法特点：</strong> 适用于小规模网络，但网络规模伸展性差，对链路状态变化响应慢。其理论基础是 <strong>Bellman-Ford 算法</strong>。</li><li><strong>典型协议：</strong> <strong>路由信息协议 (RIP, Routing Information Protocol)</strong>。</li></ul></li><li><strong>链路状态路由</strong>:<ul><li><strong>实现特点：</strong> 每个路由器共享<strong>关于它邻居的信息</strong>给<strong>互连网络中的所有其它路由器</strong>。通过向所有路由器发送<strong>链路状态包 (LSP)</strong> 扩散邻居信息。</li><li><strong>算法特点：</strong> 链路状态路由算法的基础是 <strong>Dijkstra 算法</strong>或 <strong>SPF (Shortest Path First) 算法</strong>。路由器基于收集的全局网络信息计算最短路径树，构建路由表。</li><li><strong>典型协议：</strong> <strong>开放最短路径优先 (OSPF, Open Shortest Path First)</strong>。OSPF 是互连网应用最广的路由协议。</li></ul></li></ol><h3 id="拥塞控制和流量控制">拥塞控制和流量控制</h3><ul><li><strong>拥塞：</strong> 网络或其一部分出现<strong>过多</strong>的分组，导致网络性能（如吞吐量）下降或延迟增大的现象。原因可能是节点的处理速度和链路的传输速度不够高。</li><li><strong>拥塞控制目的：</strong> <strong>防止整个网络或网络的一部分出现过多的数据包</strong>。<ul><li><em>控制方法：</em> <strong>预分配缓冲区</strong>、<strong>丢弃包</strong>、<strong>限制网内包数量</strong>、<strong>流量控制</strong>和发送<strong>阻塞包</strong>。</li></ul></li><li><strong>流量控制目的：</strong> <strong>保证发送方发送的信息量不会超过接收方的接收能力</strong>。</li></ul><h4 id="流量控制的层次">流量控制的层次</h4><p>流量控制可以在以下层次进行：主机-主机间、源节点-目的节点间、主机-源节点间、相邻节点间。</p><ul><li><strong>主机和源节点间的流量控制：</strong> <strong>通过控制进入通信子网的信息量</strong>，防止网内缓冲区产生拥塞。方法包括：停止等待流量控制、缓冲区预约、许可证方案。</li><li><strong>源节点和目的节点间的流量控制：</strong> 当通信子网采用数据报方式工作时，可能产生<strong>存储转发死锁</strong>和<strong>重装死锁</strong>。</li></ul><h3 id="路由寻址相关协议与机制">路由寻址相关协议与机制</h3><h4 id="网际协议-IP-Internet-Protocol">网际协议 (IP, Internet Protocol)</h4><ul><li><strong>协议特点：</strong> <strong>TCP/IP</strong> 协议族中的核心协议。为高层提供<strong>不可靠、无连接</strong>的<strong>数据报通信</strong>。</li><li><strong>不可靠服务：</strong> 不保证 IP 数据报能成功到达目的地，可靠性由上层提供。</li><li><strong>无连接服务：</strong> 每个数据报的处理相互独立，不维护后续数据报的状态信息。</li></ul><h4 id="IPv4-数据报格式-IP-Header-Format">IPv4 数据报格式 (IP Header Format)</h4><p>IPv4 报头固定长度至少为 20 字节。</p><ul><li><strong>版本号 (Version)：</strong> 占 4 位，目前为 4。</li><li><strong>报头长度 (Header Length)：</strong> 占 4 位，报头占 32 位字的数量。</li><li><strong>服务类型 (TOS, Type of Service)：</strong> 占 8 位，包含最小延迟、最大吞吐量、最高可靠性和最小费用等信息。</li><li><strong>总长度 (Total Length)：</strong> 占 16 位，以字节为单位定义 IP 数据报的总长度 (首部+数据)。</li><li><strong>标识 (Identification)：</strong> 占 16 位，唯一标识主机发送的每个数据报。</li><li><strong>标志 (Flags)：</strong> 占 3 位，包括 <strong>DF (Don’t Fragment, 不分片)</strong> 和 <strong>MF (More Fragments, 还有分片)</strong> 位。</li><li><strong>偏移量 (Fragment Offset)：</strong> 占 13 位，指明该分片在当前数据报中的位置，以 <strong>8 字节</strong>为单位。</li><li><strong>生存时间 (TTL, Time To Live)：</strong> 占 8 位，设置数据报可以经过的最多路由器数量，经过一个路由器减 1，为 0 时被丢弃。</li><li><strong>协议标识 (Protocol Identifier)：</strong> 占 8 位，指示 IP 数据报上层携带的协议（如 TCP 为 6，UDP 为 17）。</li><li><strong>首部检验和 (Header Checksum)：</strong> 占 16 位，根据 IP 报头计算的校验和。</li></ul><h4 id="IPv4-地址与子网划分">IPv4 地址与子网划分</h4><ul><li><strong>IP 地址长度：</strong> 32 位，指向一个网络接口。</li><li><strong>表示方法：</strong> 二进制、点分十进制（如 129.14.6.31）和十六进制表示方法。</li><li><strong>IP 地址分类：</strong> 分为 A、B、C、D、E 五类。</li><li><strong>子网编址：</strong> 把主机号进一步划分成子网号和主机号。</li><li><strong>子网掩码：</strong> 32 比特的数值，值为 1 的比特用于网络号和子网号，为 0 的比特留给主机号。</li><li><strong>可变长子网掩码 (VLSM, Variable Length Subnet Mask)：</strong> 打破传统以类为标准的地址划分方法，允许一个网络中的不同部分使用不同的子网掩码，以提高 IP 地址利用率。</li><li><strong>无类别域间路由 (CIDR, Classless Inter-Domain Routing)：</strong> 取消 IP 地址的分类结构，将多个地址块聚合在一起生成更大的网络，支持<strong>路由聚合</strong>，减少路由表大小。采用<strong>斜线记法</strong>，即在 IP 地址后加上网络前缀所占位数（例如：202.198.16.0/22）。</li><li><strong>最长前缀匹配 (Longest Prefix Match)：</strong> 在 <strong>CIDR</strong> 环境下，路由器转发数据包时，总是选取<strong>子网掩码最长</strong>的匹配项。</li></ul><h4 id="地址解析协议-ARP-Address-Resolution-Protocol">地址解析协议 (ARP, Address Resolution Protocol)</h4><ul><li><strong>协议功能：</strong> 将主机的 <strong>IP 地址</strong>映射为<strong>硬件地址 (MAC 地址)</strong>。用于在局域网中，通过目的设备的 IP 地址，查询目标设备的 MAC 地址。</li><li><strong>工作原理：</strong> ARP 请求包是以<strong>广播方式</strong>发送的，目标主机收到后会作出 <strong>ARP 应答</strong>，将其 MAC 地址发送给源端。</li><li><strong>ARP 高速缓存：</strong> 每个主机上都有一个 ARP 高速缓存，存放最近 Internet 地址到硬件地址之间的映射，以提高效率。</li><li><strong>ARP 代理 (ARP Proxy)：</strong> 如果 ARP 请求是从一个网络的主机发往另一个网络的主机，连接这两个网络的路由器可以回答该请求。</li></ul><h4 id="动态主机配置协议-DHCP-Dynamic-Host-Configuration-Protocol">动态主机配置协议 (DHCP, Dynamic Host Configuration Protocol)</h4><ul><li><strong>协议功能：</strong> 提供了一种<strong>动态指定 IP 地址和配置参数</strong>的机制。</li><li><strong>工作原理：</strong> 采用<strong>客户端/服务器模型</strong>。过程包括：<strong>发现</strong> (Discover，广播寻找服务器) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.3669em"></span><span class="mrel">→</span></span></span></span> <strong>提供</strong> (Offer，服务器发送 IP 地址提供报文) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.3669em"></span><span class="mrel">→</span></span></span></span> <strong>选择</strong> (Request，客户端选择一个服务器并广播请求报文) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.3669em"></span><span class="mrel">→</span></span></span></span> <strong>确认</strong> (ACK，服务器发送确认报文)。</li></ul><h4 id="网际控制报文协议-ICMP-Internet-Control-Message-Protocol">网际控制报文协议 (ICMP, Internet Control Message Protocol)</h4><ul><li><strong>协议功能：</strong> <strong>IP</strong> 协议的子协议，用于处理 IP 数据报传输中可能出现的错误、拥塞和丢失等问题。</li><li><strong>报文封装：</strong> <strong>ICMP 数据报封装在 IP 数据报中传输</strong>。</li><li><strong>报文类型：</strong><ul><li><strong>差错报文：</strong> 包括<strong>终点不可达</strong>、<strong>源点抑制</strong>（拥塞控制）和<strong>超时</strong>等。</li><li><strong>查询报文：</strong> 包括<strong>回送请求和回答</strong>（如 <strong>Ping</strong> 程序，利用类型 8/0 完成）、<strong>时间戳请求和回答</strong>、<strong>地址掩码请求和回答</strong>、以及<strong>路由器询问和通告</strong>。</li></ul></li><li><strong>Tracert 程序：</strong> 利用 ICMP 协议的回显请求，并巧妙利用 <strong>TTL (Time To Live) 值</strong>来获得目的主机的所有连接路由器。</li></ul><h2 id="传输层">传输层</h2><h3 id="传输层服务与功能">传输层服务与功能</h3><h4 id="传输层概述">传输层概述</h4><p>传输层在开放系统互连参考模型 (<strong>OSI</strong>) 中位于通信子网和资源子网之间，是整个协议层次中<strong>最核心的一层</strong>，起着承上启下的作用。传输层为源主机上的<strong>进程</strong>和目的主机上的<strong>进程</strong>之间提供可靠的透明数据传送。传输层传输的信息单元被称为<strong>报文 (Message)</strong>。</p><h4 id="传输层功能">传输层功能</h4><p>传输层的具体功能包括：</p><ul><li><strong>端到端的报文传递</strong>。</li><li><strong>服务点的寻址</strong>。</li><li><strong>拆分和组装</strong>（报文分段与重组）。</li><li><strong>连接控制</strong>。</li></ul><h4 id="传输层服务类型">传输层服务类型</h4><p>传输层向上层提供两种服务类型：<strong>面向连接的传输服务</strong>和<strong>面向无连接的传输服务</strong>。</p><h4 id="传输层地址">传输层地址</h4><ul><li><strong>传输服务访问点 (TSAP, Transport Service Access Point)</strong>：应用进程在主机中通过 <strong>TSAP 地址</strong>（即<strong>端口号</strong>）与远程应用进程进行通信。也就是端口号。</li><li>在通信中，一个应用程序需要知道两个地址：TSAP 地址（端口号）和 <strong>网络服务访问点 (NSAP, Network Service Access Point)</strong> 地址。</li></ul><h3 id="用户数据报协议-UDP-User-Datagram-Protocol">用户数据报协议 (UDP, User Datagram Protocol)</h3><h4 id="UDP-特点和封装">UDP 特点和封装</h4><ul><li><strong>实现特点：</strong> 采用<strong>非连接</strong>的方式提供服务。</li><li><strong>服务质量：</strong> <strong>不可靠协议</strong>，它不提供端到端的确认和重传功能，不保证数据包一定能到达目的地。</li><li><strong>协议栈：</strong> UDP 协议直接利用 <strong>Internet Protocol (IP)</strong> 协议进行 UDP 数据报的传输。</li><li><strong>封装格式：</strong> <strong>UDP 数据报</strong>（包括 8 字节的 UDP 首部和 UDP 数据）封装在 <strong>IP 数据报</strong>中传输。</li></ul><h4 id="UDP-报头内容">UDP 报头内容</h4><p>UDP 报头总长度为 <strong>8 字节</strong>，内容包括：</p><ul><li><strong>源端口号 (16位)</strong>：作为接收进程返回数据时的目的端口。</li><li><strong>目的端口号 (16位)</strong>：作为接收主机内与特定应用进程相关联的地址的意义。</li><li><strong>UDP 长度 (16位)</strong>：UDP 首部和 UDP 数据的字节长度，最小值为 8。</li><li><strong>UDP 检验和 (16位)</strong>：用于检验传输中是否出现错误，覆盖 UDP 首部、UDP 数据和 <strong>12 字节的伪报头</strong>。</li></ul><h3 id="传输控制协议-TCP-Transmission-Control-Protocol">传输控制协议 (TCP, Transmission Control Protocol)</h3><h4 id="TCP-提供的服务与特点">TCP 提供的服务与特点</h4><ul><li><strong>核心特点：</strong> 提供一种<strong>可靠的、面向连接的字节流</strong>传输层服务。</li><li><strong>控制功能：</strong> 提供<strong>端到端的流量控制</strong>，并计算和验证一个强制性的<strong>端到端检查和</strong>。</li><li><strong>封装格式：</strong> TCP 在 IP 数据报中传输，TCP 报文段的<strong>固定首部</strong>长度为 <strong>20 字节</strong>。</li></ul><h4 id="TCP-报头内容">TCP 报头内容</h4><p>TCP 报文段的首部至少包含 20 字节的固定部分，主要内容包括：</p><ul><li><strong>源端口和目的端口 (Source Port / Destination Port, 各16位)</strong>：用于实现运输层的复用和分用功能。</li><li><strong>序号 (Sequence Number, 32位)</strong>：指本报文段所发送数据的<strong>第一个字节的序号</strong>。</li><li><strong>确认号 (Acknowledgment Number, 32位)</strong>：期望收到对方<strong>下一个</strong>报文段的数据的第一个字节的序号。</li><li><strong>数据偏移 (Data Offset, 4位)</strong>：指明 TCP 报文段的数据起始处距离 TCP 报文段的起始处有多远，单位是 32 位字（4 字节）。</li><li><strong>窗口 (Window, 16位)</strong>：用作流量控制，让对方设置发送窗口的依据，单位为字节。</li><li><strong>检验和 (Checksum, 16位)</strong>：覆盖首部和数据，计算时需在 TCP 报文段前加上 <strong>12 字节的伪首部</strong>。</li><li><strong>标志字段 (Flags, 6个)</strong>：<ul><li><strong>URG</strong>：紧急指针有效。</li><li><strong>ACK</strong>：确认号有效。</li><li><strong>PSH (PuSH)</strong>：推送标志，要求接收方尽快交付数据。</li><li><strong>RST (ReSeT)</strong>：复位连接，必须释放连接。</li><li><strong>SYN (Synchronize)</strong>：同步序号，用于连接请求或连接接受报文。</li><li><strong>FIN (FINish)</strong>：终止连接，要求释放运输连接。</li></ul></li><li><strong>选项字段 (Options)</strong>：长度可变，TCP 最初规定的选项是<strong>最大报文段长度 (MSS, Maximum Segment Size)</strong>。</li></ul><h4 id="TCP-连接建立与释放">TCP 连接建立与释放</h4><ul><li><strong>连接建立（三次握手）</strong>：<ol><li>源主机发送 <strong>SYN</strong> 报文段 (seq=x)。</li><li>目的主机回复 <strong>SYN+ACK</strong> 报文段 (seq=y, ack=x+1)。</li><li>源主机回复 <strong>ACK</strong> 报文段 (ack=y+1)，双方进入 <strong>ESTABLISHED</strong> 状态。</li></ol></li><li><strong>连接释放（四次挥手）</strong>：建立一个 TCP 连接需要三次握手，而释放一个 TCP 连接需要经过<strong>四次握手</strong>。</li></ul><h3 id="传输层可靠性与控制机制">传输层可靠性与控制机制</h3><h4 id="流量控制-2">流量控制</h4><ul><li><strong>实现特点：</strong> 传输层流量控制是作用在<strong>端到端</strong>上的，而非作用在单条链路上（如数据链路层）。</li><li><strong>机制：</strong> 传输层也使用<strong>滑动窗口协议</strong>，但其窗口大小是<strong>可变</strong>的，以适应可使用的缓冲区变化情况。</li></ul><h4 id="拥塞控制算法">拥塞控制算法</h4><p>拥塞控制的基本目的是<strong>防止整个网络或网络的一部分出现过多的数据包</strong>。TCP 拥塞控制有四种算法：</p><ol><li><strong>慢启动 (Slow Start)</strong>：在没有丢失报文的情况下，<strong>拥塞窗口 (Cwnd, Congestion Window)</strong> 从 1 个 <strong>最大报文段长度 (SMSS, Sender Maximum Segment Size)</strong> 开始，按<strong>指数方式增长</strong>，直到达到<strong>慢启动阀值 (Ssthresh)</strong>。</li><li><strong>拥塞避免 (Congestion Avoidance)</strong>：当 Cwnd 超过 Ssthresh 后，<strong>Cwnd 按线性方式增长</strong>。</li><li><strong>快速重传 (Fast Retransmit)</strong>：当 TCP 接收端收到<strong>三个重复 ACK</strong> 时，不等重传定时器超时就重传疑似丢失的数据段。</li><li><strong>快速恢复 (Fast Recovery)</strong>：与快速重传一起实现，收到第三个重复 ACK 时，将 Ssthresh 设置为当前 Cwnd 的一半，并重传丢失数据段，然后设置 Cwnd = Ssthresh + 3 * SMSS。</li></ol><p><strong>发送窗口</strong>的大小由 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mtext>Cwnd</mtext><mo separator="true">,</mo><mtext>Rwnd</mtext><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min(\text{Cwnd}, \text{Rwnd})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord text"><span class="mord">Cwnd</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord text"><span class="mord">Rwnd</span></span><span class="mclose">)</span></span></span></span> 决定，其中 <strong>Rwnd</strong> (Receiver Window) 是接收端窗口大小。</p><h2 id="局域网和广域网技术">局域网和广域网技术</h2><p>第七章涵盖了局域网和广域网的核心概念、协议及其实现细节。</p><h3 id="局域网标准与结构">局域网标准与结构</h3><h4 id="局域网-LAN-Local-Area-Network">局域网 (LAN, Local Area Network)</h4><p>局域网是在有限的地理范围内连接许多独立设备，使它们相互之间直接进行通信的系统。</p><h4 id="IEEE-局域网标准">IEEE 局域网标准</h4><p><strong>IEEE 802 标准</strong>是为了解决局域网标准化问题而制定的，旨在实现用户设备和局域网之间的互连。</p><ul><li><strong>802.1：</strong> 一组协议的集合，包括体系结构、网际互连、<strong>生成树协议 (STP, Spanning Tree Protocol)</strong> 和 <strong>虚拟局域网 (VLAN, Virtual Local Area Network)</strong> 等。</li><li><strong>802.2：</strong> <strong>逻辑链路控制协议标准 (LLC, Logical Link Control)</strong>。</li><li><strong>802.3：</strong> <strong>以太网载波侦听多路访问/冲突检测 (CSMA/CD, Carrier Sense Multiple Access with Collision Detection)</strong> 媒体访问方法。</li><li><strong>802.4：</strong> <strong>令牌总线访问方法</strong>。</li><li><strong>802.5：</strong> <strong>令牌环访问方法</strong>。</li><li><strong>802.6：</strong> <strong>分布式队列双总线 (DQDB, Distributed Queue Dual Bus)</strong>，用于城域网 (<strong>MAN, Metropolitan Area Network</strong>)。</li><li><strong>802.11：</strong> <strong>无线局域网协议 (WLAN, Wireless Local Area Network)</strong>。</li></ul><h4 id="IEEE-局域网参考模型">IEEE 局域网参考模型</h4><p>IEEE 标准将数据链路层分为两个子层：</p><ul><li><strong>逻辑链路控制子层 (LLC, Logical Link Control)：</strong> 位于数据链路层的上子层，对于所有局域网协议来说都是相同的。<ul><li><strong>LLC-PDU</strong>（协议数据单元）包含四个域：<strong>目的服务访问点 (DSAP)</strong>、<strong>源服务访问点 (SSAP)</strong>、<strong>控制域</strong>和<strong>信息域</strong>。</li><li><strong>LLC 帧类型：</strong> 分为<strong>信息帧 (I-帧)</strong>、<strong>监控帧 (S-帧)</strong>（包括<strong>接收就绪帧 (RR)</strong>、<strong>拒绝帧 (REJ)</strong>、<strong>接收未就绪帧 (RNR)</strong>）和<strong>无编号帧 (U-帧)</strong>。</li></ul></li><li><strong>媒体访问控制子层 (MAC, Medium Access Control)：</strong> 位于数据链路层的下子层，用于解决<strong>共享介质的竞争使用问题</strong>，包括同步、标记、流量和差错控制的规范，以及下一个站点的<strong>物理地址</strong>。</li></ul><h3 id="以太网协议与实现">以太网协议与实现</h3><h4 id="媒体访问控制-MAC-协议：CSMA-CD">媒体访问控制 (MAC) 协议：CSMA/CD</h4><ul><li><strong>协议全称：</strong> 带有冲突检测的载波侦听多路访问 (CSMA/CD, Carrier Sense Multiple Access with Collision Detection)。</li><li><strong>算法特点：</strong> “<strong>边听边说</strong>”。如果链路空闲，则发送并同时检测冲突。如果在发送中检测到冲突，则停止发送，发送阻塞信号，等待一段选定的时间后重传。</li><li><strong>退避算法：</strong> 采用<strong>二进制指数退后算法</strong>，冲突次数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.07153em">K</span></span></span></span> 决定了等待间隔 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span></span></span></span> 的范围（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span></span></span></span> 是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><msup><mn>2</mn><mrow><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>K</mi><mo separator="true">,</mo><mn>10</mn><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">0 \sim 2^{\min(K, 10)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.888em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.888em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:.07153em">K</span><span class="mpunct mtight">,</span><span class="mord mtight">10</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span> 之间的随机数）。最大重传次数为 16。</li><li><strong>最短帧长：</strong> 存在最短帧长 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>min</mi><mo>⁡</mo></msub></mrow><annotation encoding="application/x-tex">L_{\min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3175em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 限制，以确保在最远距离发生的冲突能够被检测到。以太网规定最短帧长为 <strong>64 字节</strong>。</li></ul><h4 id="以太网-MAC-帧格式">以太网 MAC 帧格式</h4><p>常用的以太网 MAC 帧格式有两种标准：<strong>数字设备公司/英特尔公司/施乐公司 (DIX, Digital Equipment Corporation/Intel/Xerox) 以太网版本 2 (Ethernet V2)</strong> 标准（最常用）和 <strong>IEEE 802.3</strong> 标准。</p><ul><li><strong>组成字段（DIX V2）：</strong><ul><li><strong>前导码 (Preamble)：</strong> 7 字节，1 和 0 交替出现，用于警告系统并调整同步输入时钟。</li><li><strong>帧起始分界符 (SFD, Start-of-Frame Delimiter)：</strong> 1 字节 (<code>10101011</code>)，标记帧的开始。</li><li><strong>目的地址 (DA, Destination Address)</strong> 和 <strong>源地址 (SA, Source Address)</strong>：各 6 字节，是站点的<strong>物理地址 (MAC 地址)</strong>。</li><li><strong>长度/类型字段 (Type)：</strong> 2 字节。如果值大于 1500 (0x5DC)，表示<strong>类型</strong>（指明上层协议，如 IP 协议为 0800）。</li><li><strong>数据 (Data)/LLC-PDU：</strong> 长度从 <strong>46 到 1500 字节</strong>不等。</li><li><strong>帧校验序列 (FCS, Frame Check Sequence)/循环冗余校验 (CRC, Cyclic Redundancy Check)：</strong> 4 字节，用于差错检测。</li></ul></li></ul><h4 id="以太网种类和发展">以太网种类和发展</h4><ul><li><strong>经典以太网：</strong> 最高速率 10 Mbps，使用<strong>曼彻斯特编码</strong>。<ul><li><strong>10base5 (粗缆)</strong>：每个网段最大 500m。</li><li><strong>10base2 (细缆)</strong>：最大长度 185m。</li><li><strong>10base-T (双绞线)</strong>：使用集线器 Hub，采用 <strong>RJ-45</strong> 插孔。</li><li><strong>5-4-3-2-1 中继规则：</strong> 任意两个收发器之间经过的中继器不能超过 4 个，以保证 MAC 协议正常工作。</li></ul></li><li><strong>快速以太网 (100Base-T)：</strong> 速率 100 Mbps，<strong>MAC</strong> 协议和帧格式与 10Base-T 相同，但改用 <strong>4B/5B 编码</strong>。</li><li><strong>千兆以太网 (Gigabit Ethernet, 1000Base-X/T)：</strong> 速率 1 Gbps。支持<strong>全双工</strong>（不使用 <strong>CSMA/CD</strong>）和<strong>半双工</strong>（需使用 <strong>CSMA/CD</strong>，加入了<strong>载波扩充</strong>和<strong>帧突发</strong>）。</li><li><strong>万兆以太网 (10-Gigabit Ethernet, 10GE)：</strong> 速率 10 Gbps，<strong>只支持全双工</strong>，<strong>不再使用 CSMA/CD 协议</strong>。</li><li><strong>超高速以太网 (40GbE/100GbE)：</strong> 速率可达 40 Gbps 和 100 Gbps，只支持<strong>全双工</strong>，保留以太网帧格式和 <strong>MAC</strong> 方法，保留最小帧和最大帧大小。</li></ul><h3 id="无线局域网-WLAN-技术">无线局域网 (WLAN) 技术</h3><h4 id="无线局域网-MAC-协议：CSMA-CA">无线局域网 MAC 协议：CSMA/CA</h4><ul><li><strong>协议全称：</strong> 带有冲突避免的载波侦听多路访问 (<strong>CSMA/CA</strong>, Carrier Sense Multiple Access with Collision Avoidance)。</li><li><strong>协议动机：</strong> 克服在无线网络中的<strong>冲突检测困难</strong>、<strong>隐藏终端问题</strong>（站点无法检测到竞争对手）和<strong>暴露终端问题</strong>（站点误以为信道忙）。</li><li><strong>实现特点：</strong><ol><li>使用<strong>帧间间隔 (IFS, Inter-Frame Space)</strong>：包括 <strong>SIFS</strong> (Short IFS，优先级最高)、<strong>PIFS</strong> (PCF IFS，中等优先级) 和 <strong>DIFS</strong> (DCF IFS，最低优先级)。</li><li>采用<strong>随机退后过程 (Backoff Counter)</strong>：延迟发送，避免多站点同时传输引起的冲突。退后计数器从 <strong>CWindow</strong>（竞争窗口）中随机选择，CWindow 随着冲突次数的增加而指数性增加。</li><li><strong>发送请求-清除发送 (RTS-CTS)</strong> 机制（可选）：通过发送短的 <strong>RTS</strong> 帧和接收方回送短的 <strong>CTS</strong> 帧来<strong>预约信道</strong>，避免长帧冲突。</li><li><strong>虚拟载波侦听：</strong> <strong>RTS</strong> 和 <strong>CTS</strong> 帧中的<strong>持续时间 (Duration)</strong> 字段用于通知其他站点设置 <strong>网络分配向量 (NAV, Network Allocation Vector)</strong>，从而在虚拟上避免冲突。</li><li><strong>差错检测和确认重传：</strong> 采用 32 位 <strong>CRC</strong> 校验和<strong>停等机制</strong>进行确认重传。</li></ol></li></ul><h4 id="802-11-物理层技术">802.11 物理层技术</h4><ul><li><strong>频段：</strong> 使用 2.4 GHz 和 5 GHz 频段（<strong>ISM 频段</strong>），无需授权。</li><li><strong>调制技术：</strong> 包括 <strong>差分相移键控 (DPSK, Differential Phase Shift Keying)</strong>、<strong>正交相移键控 (QPSK, Quadrature Phase Shift Keying)</strong> 到高阶 <strong>正交幅度调制 (QAM, Quadrature Amplitude Modulation)</strong> (如 1024-QAM)。</li><li><strong>多址技术：</strong> 从<strong>直接序列扩频 (DSSS, Direct Sequence Spread Spectrum)</strong> 发展到<strong>正交频分复用 (OFDM, Orthogonal Frequency-Division Multiplexing)</strong>，再到<strong>正交频分多址 (OFDMA, Orthogonal Frequency-Division Multiple Access)</strong>。</li><li><strong>天线技术：</strong> 从<strong>单天线-单用户多入多出 (SU-MIMO, Single-User Multiple-Input Multiple-Output)</strong> 发展到<strong>多用户多入多出 (MU-MIMO, Multi-User Multiple-Input Multiple-Output)</strong>。</li><li><strong>体系结构：</strong> 无线局域网将物理层分为<strong>物理层汇聚协议 (PLCP, Physical Layer Convergence Protocol)</strong> 层和<strong>物理介质相关子层 (PMD, Physical Medium Dependent)</strong> 层。</li></ul><h3 id="其它局域网技术">其它局域网技术</h3><h4 id="令牌环网-Token-Ring">令牌环网 (Token Ring)</h4><ul><li><strong>访问模式：</strong> <strong>令牌传递</strong>。站点必须捕获令牌（一个简单的 3 字节帧）后才能发送一帧数据。</li><li><strong>物理层编码：</strong> 采用<strong>差分曼切斯特编码</strong>。</li><li><strong>数据帧格式：</strong> 包含 <strong>SD</strong> (起始分界符)、<strong>AC</strong> (访问控制域，包含优先级 P 和令牌/数据 T 标志位)、<strong>FC</strong> (帧控制域)、<strong>DA</strong> (目的地址)、<strong>SA</strong> (源地址)、<strong>LLC-PDU</strong>、<strong>CRC</strong>、<strong>ED</strong> (结束分界符) 和 <strong>FS</strong> (帧状态域)。</li><li><strong>特点：</strong> 是一种<strong>循环式访问模式</strong>，传输时延可控。</li></ul><h4 id="令牌总线网-Token-Bus-802-4">令牌总线网 (Token Bus, 802.4)</h4><ul><li><strong>特点：</strong> 在逻辑上形成一个<strong>环形结构</strong>，站点按顺序将令牌传递给下一个站点 (<strong>后继站 S</strong>)。物理上是总线拓扑，但逻辑上是环形。</li></ul><h4 id="光纤分布式数据接口-FDDI-Fiber-Distributed-Data-Interface">光纤分布式数据接口 (FDDI, Fiber Distributed Data Interface)</h4><ul><li><strong>标准：</strong> 由 <strong>美国国家标准协会 (ANSI, American National Standards Institute)</strong> 和 <strong>国际电信联盟电信标准分局 (ITU-T)</strong> 制定。</li><li><strong>速率与结构：</strong> 支持 100 Mbps 数据速率，采用<strong>环形拓扑结构</strong>。</li><li><strong>编码机制：</strong> 使用 <strong>4 比特/5 比特 (4B/5B) 编码</strong>，以确保数据单元中不会出现长串的 0 导致同步丢失，然后采用 <strong>非归零反相 (NRZ-I)</strong> 编码成信号。</li><li><strong>访问模式：</strong> 基于时间分配，区分<strong>同步帧 (S-帧)</strong>（对时间敏感）和<strong>异步帧 (A-帧)</strong>（对时间不敏感）。</li><li><strong>时间寄存器：</strong><ul><li><strong>同步分配寄存器 (SA)</strong>：允许站点发送同步帧的时间。</li><li><strong>目标令牌循环时间寄存器 (TTRT)</strong>：令牌绕环一周的平均时间，所有站点相同。</li><li><strong>令牌持有计时器 (THT)</strong>：控制站点发送异步帧的时间。</li></ul></li></ul><h3 id="广域网-WAN-技术">广域网 (WAN) 技术</h3><h4 id="异步传输模式-ATM-Asynchronous-Transfer-Mode">异步传输模式 (ATM, Asynchronous Transfer Mode)</h4><ul><li><strong>协议类型：</strong> <strong>信元中继协议</strong>，由 <strong>ATM</strong> 论坛设计并被 <strong>ITU-T</strong> 接受。最初为 <strong>WAN</strong> 设计，后也用于 <strong>LAN</strong>。</li><li><strong>设计目标：</strong> 面向高速传输介质，且必须是<strong>面向连接</strong>的，以保证顺序和可预测的传输。</li><li><strong>信元结构：</strong> ATM 层接收 <strong>应用适配层 (AAL, ATM Adaptation Layer)</strong> 提供的 <strong>48 字节</strong>信息段，通过添加 <strong>5 字节报文头</strong>转换为固定长度的 <strong>53 字节信元 (cell)</strong>。</li><li><strong>ATM 层次结构：</strong> 物理层、ATM 层、应用适配层 (<strong>AAL</strong>)。</li><li><strong>AAL 业务分类：</strong><ul><li><strong>A 类：</strong> 恒定比特速率，有定时要求，面向连接（如实时语音/视频）。</li><li><strong>B 类：</strong> 可变比特速率，有定时要求，面向连接（如压缩视频流）。</li><li><strong>C 类：</strong> 可变比特速率，无定时要求，面向连接（如虚电路通信服务）。</li><li><strong>D 类：</strong> 可变比特速率，无定时要求，无连接（如数据报通信服务）。</li></ul></li><li><strong>ATM 信元报头格式：</strong> 有两种格式：<strong>用户网络接口 (UNI)</strong> 和<strong>网络到网络的接口 (NNI)</strong>。包含 <strong>GFC</strong> (一般流量控制，UNI 独有)、<strong>VPI</strong> (虚通路标识)、<strong>VCI</strong> (虚通道标识)、<strong>PT</strong> (有效数据类型)、<strong>CLP</strong> (信元丢失优先级) 和 <strong>HEC</strong> (报文头校验)。</li><li><strong>路由：</strong> 依赖于交换机中的连接映向表，通过 <strong>VPI</strong> 和 <strong>VCI</strong> 识别路径。</li></ul><h4 id="帧中继">帧中继</h4><ul><li><strong>层次结构：</strong> <strong>只工作在物理层和数据链路层</strong>这两个层次上。</li><li><strong>协议特点：</strong> 帧中继在数据链路层<strong>不提供差错检测和流量控制</strong>，而是将所有差错检查留给网络层和传输层协议进行，从而提高效率。</li><li><strong>操作模式：</strong> 传输基于<strong>永久虚电路 (PVC, Permanent Virtual Circuit)</strong> 连接。使用 <strong>数据链路连接标识符 (DLCI, Data Link Connection Identifier)</strong> 来标示虚电路。</li></ul><h4 id="其他广域网协议">其他广域网协议</h4><ul><li><strong>高级数据链路控制协议 (HDLC, High-Level Data Link Control Protocol)：</strong> 是一种<strong>面向比特协议</strong>，HDLC 的帧被看作一系列比特。</li><li><strong>点对点协议 (PPP, Point-to-Point Protocol)：</strong> 是一种<strong>面向字符</strong>的广域网协议。</li><li><strong>X.25：</strong> 一种提供广泛差错和流量控制的协议，在早期传输介质性能较差时使用。</li></ul><hr><table><thead><tr><th>概念/协议</th><th>全称/缩写</th><th>OSI 层次</th><th>核心机制/特点</th></tr></thead><tbody><tr><td><strong>CSMA/CD</strong></td><td>Carrier Sense Multiple Access with Collision Detection</td><td>数据链路层（MAC）</td><td>以太网竞争协议，<strong>边听边说</strong>，用于半双工通信。</td></tr><tr><td><strong>CSMA/CA</strong></td><td>Carrier Sense Multiple Access with Collision Avoidance</td><td>数据链路层（MAC）</td><td>无线局域网协议，通过 <strong>IFS</strong> 和<strong>随机退后</strong>避免冲突，<strong>不支持冲突检测</strong>。</td></tr><tr><td><strong>LLC</strong></td><td>Logical Link Control</td><td>数据链路层（LLC 子层）</td><td>局域网协议上子层，负责逻辑链路控制，对所有 <strong>LAN</strong> 协议相同。</td></tr><tr><td><strong>令牌环 (802.5)</strong></td><td></td><td>数据链路层（MAC）</td><td>采用<strong>令牌传递</strong>机制，轮流访问，保证传输时延可控。</td></tr><tr><td><strong>FDDI</strong></td><td>Fiber Distributed Data Interface</td><td>数据链路层/物理层</td><td>100 Mbps 光纤环网，使用 <strong>4B/5B 编码</strong>，基于<strong>时间分配</strong>的令牌访问。</td></tr><tr><td><strong>ATM</strong></td><td>Asynchronous Transfer Mode</td><td>数据链路层/网络层</td><td>WAN/LAN 技术，<strong>面向连接</strong>，使用固定长度的 <strong>53 字节信元</strong>传输。</td></tr><tr><td><strong>帧中继</strong></td><td></td><td>物理层 &amp; 数据链路层</td><td>WAN 技术，基于 <strong>PVC</strong> 连接，<strong>不提供链路层差错控制</strong>，以提高效率。</td></tr></tbody></table><h2 id="TCP-IP-基础">TCP/IP 基础</h2><p>第八章的重点概念围绕 <strong>传输控制协议/网际协议 (TCP/IP, Transmission Control Protocol/Internet Protocol)</strong> 协议族展开，该协议族是世界上最大的计算机网络 <strong>Internet</strong> 运行的基础，也是目前应用最广泛的网络通信协议簇。</p><h3 id="TCP-IP-体系结构">TCP/IP 体系结构</h3><h4 id="TCP-IP-协议族">TCP/IP 协议族</h4><p>TCP/IP 协议族通常被认为由四层构成：<strong>网络接口层</strong>、<strong>网络层</strong>、<strong>传输层</strong>和<strong>应用层</strong>。在实际运行的系统中，运行 TCP/IP 协议的网络通常由五层构成：<strong>物理层</strong>、<strong>数据链路层</strong>、<strong>网络层</strong>、<strong>传输层</strong>和<strong>应用层</strong>。</p><h3 id="网际协议-IP">网际协议 (IP)</h3><h4 id="IP-协议特点">IP 协议特点</h4><p><strong>网际协议 (IP, Internet Protocol)</strong> 是 TCP/IP 协议族中的核心协议。IP 协议为高层提供<strong>不可靠、无连接</strong>的<strong>数据报</strong>通信。</p><ul><li><strong>不可靠服务：</strong> 不保证 IP 数据报能成功到达目的地，任何要求的可靠性必须由上层来提供。</li><li><strong>无连接服务：</strong> IP 协议并不维护任何关于后续数据报的状态信息，每个数据报的处理是相互独立的，数据报可以不按发送顺序接收。</li></ul><h4 id="IP-地址-2">IP 地址</h4><ul><li><strong>IP 地址：</strong> 长度为 <strong>32 位</strong>，地址并不指向一台主机，而是指向一个<strong>网络接口</strong>。路由器因为在多个网络上，所以有多个 IP 地址。</li><li><strong>地址表示：</strong> 常用表示方法包括<strong>二进制</strong>、<strong>点分十进制</strong>（例如 129.14.6.31）和<strong>十六进制</strong>。</li><li><strong>IP 地址分类：</strong> 有类别 IP 地址分为 <strong>A、B、C、D、E</strong> 五类。</li><li><strong>特殊 IP 地址：</strong><ul><li><strong>网络地址：</strong> 主机地址部分为全 “0”，作为网络本身的标识。</li><li><strong>直接广播地址：</strong> 主机地址部分为全 “1”。</li><li><strong>有限广播地址：</strong> 32 位为全 “1” (255.255.255.255)。</li><li><strong>回送地址：</strong> <strong>127.0.0.1</strong>，常用于本机上软件测试和应用程序之间通信。</li><li><strong>专用 IP 地址：</strong> 例如 10.0.0.0 — 10.255.255.255，可用于企业内部网，可通过 <strong>网络地址转换 (NAT)</strong> 代理服务器访问 Internet。</li></ul></li><li><strong>子网编址与子网掩码：</strong> <strong>子网编址</strong>将主机号进一步划分为<strong>子网号</strong>和<strong>主机号</strong>。<strong>子网掩码</strong>（32 位数值）中值为 1 的比特用于网络号和子网号。</li><li><strong>可变长子网掩码 (VLSM, Variable Length Subnet Mask)：</strong> 打破传统的以类为标准的地址划分方法，允许一个网络中的不同部分使用不同的子网掩码，以提高 IP 地址利用率。支持该技术的路由协议包括 <strong>路由信息协议 (RIPv2, Routing Information Protocol version 2)</strong>、<strong>开放最短路径优先 (OSPF, Open Shortest Path First)</strong>、<strong>增强内部网关路由协议 (EIGRP, Enhanced Interior Gateway Routing Protocol)</strong> 和 <strong>边界网关协议 (BGP, Border Gateway Protocol)</strong>。</li><li><strong>无类别域间路由 (CIDR, Classless Inter-Domain Routing)：</strong> 取消了 IP 地址的分类结构，将多个地址块聚合在一起生成更大的网络，采用<strong>斜线记法</strong>，即在 IP 地址后加上网络前缀所占位数（例如：202.198.16.0/22）。CIDR 支持<strong>路由聚合</strong>，以限制路由器中路由表的增大。转发数据包时，路由器遵循<strong>最长前缀匹配 (Longest Prefix Match)</strong> 原则。</li></ul><h4 id="IP-报文格式-IP-Packet-Format">IP 报文格式 (IP Packet Format)</h4><p><img src="https://images.kisechan.space/20251222170803794.png" srcset="/img/loading.gif" lazyload alt=""></p><p>IP 数据报的固定报头长度为 <strong>20 字节</strong>。</p><ul><li><p><strong>版本号 (Version)：</strong> 4 位，目前为 4。</p></li><li><p><strong>报头长度 (Header Length)：</strong> 4 位，指报头占 32 位字的数目。一般是 20 字节，即 5 行。</p></li><li><p><strong>服务类型 (TOS, Type of Service)：</strong> 8 位，包含最小延迟、最大吞吐量、最高可靠性、最小费用等信息。</p></li><li><p><strong>总长度 (Total Length)：</strong> 16 位，定义 IP 数据报的总长度（首部+数据）。</p></li><li><p><strong>标识 (Identification)：</strong> 16 位，<strong>唯一标识每个数据报</strong>，<strong>分片时相同</strong>。每发送一个报文，值自动 +1。</p></li><li><p><strong>标志 (Flags)：</strong> 3 位，包括未使用位， <strong>不分片 (DF, Don’t Fragment)</strong> 和 <strong>还有分片 (MF, More Fragments)</strong> 位。</p><ul><li>如果 DF = 1 且数据报 &gt; MTU（最大传输单元），那么说明应该分片，但是实际没分，出错了，路由器直接丢弃，并返回 ICMP 错误。</li><li>MF = 1 代表后面还有分片。</li><li><strong>分片和重组的工作都是主机完成</strong>，路由器不干预。</li></ul></li><li><p><strong>偏移量 (Fragment Offset)：</strong> 13 位，指明该分片在原始数据报中的位置，以 <strong>8 字节</strong>为单位。<strong>除了最后一片，分片的长度必须是 8 字节的整数倍</strong>。</p></li><li><p><strong>生存时间 (TTL, Time To Live)：</strong> 8 位，数据报可以经过的最多路由器数量，为 0 时丢弃。通常是 32、 64、 128。</p></li><li><p><strong>协议标识 (Protocol Identifier)：</strong> 8 位，指示 IP 数据报上层携带的协议（如 TCP 为 6，UDP 为 17，ICMP 为 1）。</p></li><li><p><strong>首部检验和 (Header Checksum)：</strong> 16 位，基于 IP 报头计算，采用 16 位<strong>反码求和</strong>的算法。</p></li></ul><h4 id="地址解析与配置协议-ARP">地址解析与配置协议 (ARP)</h4><ul><li><strong>地址解析协议 (ARP, Address Resolution Protocol)：</strong> 用于将主机的 <strong>IP 地址</strong>映射为<strong>硬件地址 (MAC 地址)</strong>。ARP 请求包是以<strong>广播方式</strong>发送的。<strong>ARP 高速缓存</strong>存储最近的 IP 到 MAC 映射，以避免远程访问的开销。如果 ARP 请求是从一个网络发往另一个网络，路由器可以回答该请求，称为 <strong>ARP 代理 (ARP Proxy)</strong>。</li><li><strong>动态主机配置协议 (DHCP, Dynamic Host Configuration Protocol)：</strong> 采用<strong>客户端/服务器模型</strong>，提供动态指定 IP 地址和配置参数的机制。DHCP 工作包括：<strong>发现</strong> (Discover)（广播寻找服务器）、<strong>提供</strong> (Offer)（服务器发送 IP 地址提供报文）、<strong>选择</strong> (Request)（客户端选择并广播请求报文）、<strong>确认</strong> (ACK)（服务器发送确认报文）四个阶段。</li></ul><h3 id="控制与管理协议">控制与管理协议</h3><h4 id="网际控制报文协议-ICMP-Internet-Control-Message-Protocol-2">网际控制报文协议 (ICMP, Internet Control Message Protocol)</h4><ul><li><strong>协议功能：</strong> <strong>IP</strong> 协议的子协议，用于处理 IP 数据报传输中可能出现的错误、拥塞和丢失等问题。ICMP 数据报封装在 <strong>IP 数据报</strong>中传输。</li><li><strong>ICMP 报文类型：</strong><ul><li><strong>差错报文：</strong> 包括<strong>终点不可达</strong>、<strong>源点抑制</strong>（用于拥塞控制，警告源端放慢发送）、<strong>超时</strong>（TTL 减为 0 时）、<strong>参数问题</strong>和<strong>改变路由</strong>（重定向）。</li><li><strong>查询报文：</strong> 包括<strong>回送请求和回答</strong>（类型 8/0，用于 <strong>Ping</strong> 程序，测试连通性）,、<strong>时间戳请求和回答</strong>、<strong>地址掩码请求和回答</strong>、以及<strong>路由器询问和通告</strong>。</li></ul></li><li><strong>Tracert 程序：</strong> 利用 ICMP 协议的<strong>请求回显</strong>，并巧妙地利用数据报的 <strong>TTL</strong> 值来获取目的主机的所有连接路由器路由线路。</li></ul><h4 id="网际组管理协议-IGMP-Internet-Group-Management-Protocol">网际组管理协议 (IGMP, Internet Group Management Protocol)</h4><ul><li><strong>多播 (Multicast)：</strong> 多播地址（D 类 IP 地址）仅应用于 <strong>用户数据报协议 (UDP)</strong>，用于将报文同时传送给属于多播组的多个主机。</li><li><strong>多播地址：</strong> 范围是 <strong>224.0.0.0 到 239.255.255.255</strong>。</li></ul><h3 id="传输层协议-Transport-Layer-Protocols">传输层协议 (Transport Layer Protocols)</h3><h4 id="用户数据报协议-UDP-User-Datagram-Protocol-2">用户数据报协议 (UDP, User Datagram Protocol)</h4><ul><li><strong>协议特点：</strong> 采用<strong>非连接</strong>方式提供服务，是<strong>不可靠协议</strong>，不提供端到端的确认和重传功能。</li><li><strong>UDP 报头：</strong> 总长度为 <strong>8 字节</strong>。包括 <strong>源端口号</strong>、<strong>目的端口号</strong>（用于进程寻址）、<strong>UDP 长度</strong>和 <strong>UDP 检验和</strong>。</li><li><strong>UDP 检验和：</strong> 计算时覆盖 UDP 首部、UDP 数据和 <strong>12 字节的伪报头</strong>，目的在于检测数据是否到达正确的目的端。</li></ul><h4 id="传输控制协议-TCP-Transmission-Control-Protocol-2">传输控制协议 (TCP, Transmission Control Protocol)</h4><ul><li><strong>协议特点：</strong> 提供<strong>可靠的、面向连接的字节流</strong>传输层服务。</li><li><strong>TCP 报头：</strong> <strong>固定首部</strong>长度为 <strong>20 字节</strong>。<ul><li><strong>序号 (Sequence Number)：</strong> 32 位，本报文段所发送数据的<strong>第一个字节的序号</strong>。</li><li><strong>确认号 (Acknowledgment Number)：</strong> 32 位，期望收到对方的<strong>下一个</strong>报文段的数据的第一个字节的序号。</li><li><strong>数据偏移 (Data Offset)：</strong> 4 位，指出 TCP 报文段的数据起始处距离 TCP 报文段起始处有多远，单位是 32 位字（4 字节）。</li><li><strong>窗口 (Window)：</strong> 16 位，用于流量控制，让对方设置发送窗口的依据，单位为字节。</li><li><strong>标志字段 (Flags)：</strong> 6 个标志位：<strong>紧急 (URG)</strong>、<strong>确认 (ACK)</strong>、<strong>推送 (PSH, PuSH)</strong>、<strong>复位 (RST, ReSeT)</strong>、<strong>同步 (SYN, Synchronize)</strong>（用于连接请求）、<strong>终止 (FIN, FINish)</strong>（用于释放连接）,。</li><li><strong>检验和：</strong> 16 位，覆盖首部和数据，计算时需在 TCP 报文段前加上 <strong>12 字节的伪首部</strong>。</li></ul></li><li><strong>TCP 连接管理：</strong><ul><li><strong>连接建立：</strong> 采用<strong>三次握手</strong>过程。</li><li><strong>连接释放：</strong> 需要经过<strong>四次握手</strong>过程。</li></ul></li><li><strong>TCP 流量与拥塞控制：</strong><ul><li><strong>流量控制：</strong> 使用<strong>可变大小的滑动窗口协议</strong>，作用于端到端。</li><li><strong>拥塞控制：</strong> 包含<strong>慢启动 (Slow Start)</strong>（Cwnd 指数增长）、<strong>拥塞避免 (Congestion Avoidance)</strong>（Cwnd 线性增长）、<strong>快速重传 (Fast Retransmit)</strong>（收到三个重复 ACK 时重传）和<strong>快速恢复 (Fast Recovery)</strong> 算法。</li></ul></li></ul><h3 id="IPv6-基础-IPv6-Fundamentals">IPv6 基础 (IPv6 Fundamentals)</h3><h4 id="IPv6-报头与结构">IPv6 报头与结构</h4><p>IPv6 是为解决 32 位 IP 地址不足等问题而提出的，仍支持<strong>无连接</strong>传送。</p><ul><li><strong>IPv6 地址：</strong> <strong>128 位</strong>长。</li><li><strong>报头结构：</strong> IPv6 报头将 IPv4 报头中的多个字段移除（如报头长度、标识、校验和、选项等），并使用<strong>扩展报头 (Extension Headers)</strong> 来替代 IPv4 选项的功能，扩展报头通常只由路径两端的源站和目的站的主机处理，提高了路由器的处理效率。</li><li><strong>关键字段：</strong><ul><li><strong>流标号 (Flow Label)：</strong> 20 位，用于支持资源预分配，允许路由器将每个数据报与一个给定的资源分配相联系，抽象概念为“流”。</li><li><strong>下一个报头 (Next Header)：</strong> 8 位，相当于 IPv4 的协议字段或可选字段，指示下一个头部或上层协议。</li><li><strong>跳数限制 (Hop Limit)：</strong> 8 位，取代 IPv4 的 TTL。</li></ul></li></ul><h4 id="IPv6-地址类型">IPv6 地址类型</h4><p>IPv6 地址被分配给接口而非节点。IPv6 有三种地址类型：</p><ul><li><strong>单点传送 (单播, Unicast) 地址：</strong> 与单个接口相关联。</li><li><strong>多点传送 (组播, Multicast) 地址：</strong> 标识多个接口，取代了 IPv4 中的广播地址功能。</li><li><strong>任意点传送 (任播, Anycast) 地址：</strong> 分配给一组接口，报文会被传送到最近的一个被标识接口。</li></ul><hr><table><thead><tr><th>协议/概念</th><th>英文全称/缩写</th><th>OSI 层次</th><th>核心功能/特点</th></tr></thead><tbody><tr><td><strong>IP</strong></td><td>Internet Protocol</td><td>网络层 (L3)</td><td><strong>不可靠、无连接</strong>的数据报传输，是 TCP/IP 核心协议。</td></tr><tr><td><strong>ICMP</strong></td><td>Internet Control Message Protocol</td><td>网络层 (L3)</td><td>IP 协议的子协议，用于<strong>报告错误</strong>（如终点不可达）和<strong>查询</strong>（如 Ping）。</td></tr><tr><td><strong>ARP</strong></td><td>Address Resolution Protocol</td><td>网络层/数据链路层</td><td>将 <strong>IP 地址</strong>解析为<strong>硬件地址 (MAC 地址)</strong>。</td></tr><tr><td><strong>DHCP</strong></td><td>Dynamic Host Configuration Protocol</td><td>应用层</td><td>动态分配 <strong>IP 地址</strong>及配置参数，采用<strong>客户端/服务器模型</strong>。</td></tr><tr><td><strong>UDP</strong></td><td>User Datagram Protocol</td><td>传输层 (L4)</td><td><strong>不可靠、无连接</strong>，开销小，使用端口号进行进程寻址。</td></tr><tr><td><strong>TCP</strong></td><td>Transmission Control Protocol</td><td>传输层 (L4)</td><td><strong>可靠、面向连接的字节流</strong>服务，提供<strong>端到端</strong>的流量和拥塞控制。</td></tr><tr><td><strong>VLSM</strong></td><td>Variable Length Subnet Mask</td><td>IP 编址机制</td><td>允许在同一网络中使用不同长度的子网掩码，以提高 IP 地址利用率。</td></tr><tr><td><strong>CIDR</strong></td><td>Classless Inter-Domain Routing</td><td>IP 编址机制</td><td>取消 IP 地址分类，支持<strong>路由聚合</strong>，使用<strong>最长前缀匹配</strong>进行路由。</td></tr><tr><td><strong>IGMP</strong></td><td>Internet Group Management Protocol</td><td>网络层</td><td>用于管理 <strong>多播</strong>（组播）组成员关系。</td></tr></tbody></table><h2 id="应用层">应用层</h2><p>第十章聚焦于 <strong>Internet 服务</strong>，这些服务主要由应用层协议提供。应用层处理用户的数据和信息，完成用户希望的实际任务。</p><h3 id="DNS-服务-Domain-Name-System">DNS 服务, Domain Name System</h3><h4 id="DNS-协议的实现和特点">DNS 协议的实现和特点</h4><ul><li><strong>全称：</strong> <strong>域名系统 (DNS, Domain Name System)</strong>。</li><li><strong>功能：</strong> DNS 是一种能够完成从域名到 <strong>Internet Protocol (IP)</strong> 地址，或从 IP 地址到域名的映射的服务。</li><li><strong>优势：</strong> 域名具有文字表达的意义，比 IP 地址更容易记忆。</li><li><strong>工作模式：</strong> DNS 采用<strong>客户/服务器</strong>工作模式。</li><li><strong>结构：</strong> 域名系统是一个<strong>分布式数据库</strong>，每个子域负责维护整个数据库的一个分段。</li><li><strong>历史背景：</strong> 在 DNS 出现之前，<strong>高级研究规划局网络 (ARPANET)</strong> 的域名与 IP 地址的映射是依靠文本文件 <strong>HOSTS</strong>，该文件包含了主机名称到地址的映射。由于 HOSTS 文件机制不具备可伸缩性，限制了网络规模。美国南加州大学 (USC) 于 1984 年发布了 <strong>RFC882-883</strong>，定义了 DNS，形成了现在的域名系统标准。</li></ul><h4 id="域名体系结构和命名规则">域名体系结构和命名规则</h4><ul><li><strong>域名空间：</strong> 域名全称是一个从该域到<strong>根 (root)</strong> 的标签序列，以<code>.</code>分离这些标签。域名结构是分级的，包括顶级域、二级域、三级域等。</li><li><strong>顶级域分类：</strong> 顶级域包括通用顶级域（如 <strong>COM</strong> (商业组织)、<strong>EDU</strong> (教育学会)、<strong>GOV</strong> (政府组织)、<strong>MIL</strong> (国防机构或军队组织)、<strong>NET</strong> (网络服务中心，例如 Internet 服务中心)、<strong>INT</strong> (国际组织)、<strong>ORG</strong> (非盈利组织)）和<strong>国家代码</strong>（两个字母的国家代码）。</li><li><strong>命名规则：</strong> 最高层的域名由网络信息中心指定。<strong>第二层域名</strong>小于 12 个字符且独立。<strong>第三层域名</strong>通常表示组织部门或分支。</li></ul><h4 id="DNS-工作原理和解析方法">DNS 工作原理和解析方法</h4><ul><li><strong>代理技术：</strong> 代理包含<strong>数据存储分散化</strong>和<strong>管理权分散化</strong>两个意思。</li><li><strong>名称服务器 (Name Server)：</strong> 存储有关域名的程序称为名称服务器。它是一个在后台的守候程序，监听来自客户机的请求。</li><li><strong>解析过程：</strong> 域名解析器首先查询<strong>本地主机 (local host)</strong> 的<strong>缓存区</strong>，查看主机是否以前解析过主机名。如果缓存区中没有映射关系，解析器将向<strong>本地域名服务器 (local name server)</strong> 发出请求。本地域名服务器首先检查映射关系是否存储在它的数据库中，如果是，则将映射关系传送给请求者。</li><li><strong>解析方法：</strong> 解释方法有两种：<strong>重复解释</strong>和<strong>递归解释</strong>。</li><li><strong>反向解析：</strong> 从 IP 地址映射到主机名称称为<strong>反向解析</strong>。</li></ul><h4 id="域-Domain-与-区-Zone-的区别">域 (Domain) 与 区 (Zone) 的区别</h4><ul><li><strong>区 (Zone)：</strong> 域中除去代理出去的子域所含有的域名和数据之后剩余的部分。域比区大。</li></ul><h4 id="DNS-与-ARP-的比较">DNS 与 ARP 的比较</h4><table><thead><tr><th>协议</th><th>OSI 层次</th><th>映射关系</th><th>服务范围</th></tr></thead><tbody><tr><td><strong>DNS</strong></td><td>应用层</td><td>应用层地址（域名） <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.3669em"></span><span class="mrel">→</span></span></span></span> 网络层地址 (IP)</td><td><strong>全局性</strong>地址服务，全世界主机名和 IP 地址的翻译</td></tr><tr><td><strong>ARP</strong></td><td>网络层 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.3669em"></span><span class="mrel">→</span></span></span></span> 数据链路层</td><td>网络层地址 (IP) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.3669em"></span><span class="mrel">→</span></span></span></span> 数据链路层地址 (MAC)</td><td><strong>局域性</strong>地址映射机制，服务范围在 <strong>Local Area Network (LAN)</strong> 内</td></tr></tbody></table><h3 id="电子邮箱服务-Email-Services">电子邮箱服务 (Email Services)</h3><h4 id="电子邮件系统组成与特点">电子邮件系统组成与特点</h4><ul><li><strong>应用：</strong> <strong>Email</strong> 是 Internet 上使用最多的一种应用。</li><li><strong>系统组成：</strong> 一个电子邮件系统由 <strong>3 个部分</strong>组成：<strong>用户代理 (User Agent)</strong>、<strong>邮件服务器 (Email Server)</strong> 和<strong>电子邮件协议 (Email Protocols)</strong>。</li><li><strong>服务模式：</strong> 电子邮<strong>件不是一种“终端到终端”的服务</strong>，而是被称为“<strong>存贮转发式</strong>”服务。<ul><li><strong>用户代理：</strong> 是用户与电子邮件系统的接口，是用户机上运行的程序。</li><li><strong>邮件服务器：</strong> 功能是收发邮件，运行邮件服务程序。</li></ul></li><li><strong>邮件格式：</strong> 电子邮件由<strong>信封 (Envelope)</strong> 和<strong>内容 (Content)</strong> 两部分组成。邮件的传输程序根据邮件信封上的信息来传送邮件。</li><li><strong>邮件地址格式：</strong> 收信人邮箱名@邮箱所在主机的域名。</li></ul><h4 id="邮件发送协议：简单邮件传输协议-SMTP">邮件发送协议：简单邮件传输协议 (SMTP)</h4><ul><li><strong>全称：</strong> <strong>简单邮件传输协议 (SMTP, Simple Mail Transfer Protocol)</strong>。</li><li><strong>实现特点：</strong> SMTP 使用<strong>客户/服务器模式</strong>。负责发送邮件的 SMTP 进程是 <strong>SMTP 客户</strong>，负责接受邮件的 SMTP 进程是 <strong>SMTP 服务器</strong>。</li><li><strong>规范：</strong> SMTP 规定了 <strong>14 条命令</strong>和 <strong>21 种响应信息</strong>。</li><li><strong>数据格式：</strong> 邮件信体（包括信件首部）必须是 <strong>7 位美国信息交换标准码 (ASCII)</strong> 码。</li></ul><h4 id="邮件接收协议：POP-和-IMAP">邮件接收协议：POP 和 IMAP</h4><ol><li><strong>邮局协议 (POP)</strong><ul><li><strong>全称：</strong> <strong>邮局协议 (POP, Post Office Protocol)</strong>。</li><li><strong>实现特点：</strong> POP 使用<strong>客户/服务器模式</strong>。接收邮件的计算机运行 <strong>POP 客户程序</strong>，互联网服务提供商 (<strong>ISP</strong>) 的邮件服务器中运行 <strong>POP 服务程序</strong>。</li><li><strong>工作模式：</strong> POP 是<strong>脱机程序</strong>（脱机协议）。</li></ul></li><li><strong>互联网邮件访问协议 (IMAP)</strong><ul><li><strong>全称：</strong> <strong>互联网邮件访问协议 (IMAP, Internet Mail Access Protocol)</strong>。</li><li><strong>实现特点：</strong> IMAP 也是接收邮件协议，但与 POP 不同，IMAP 是<strong>联机协议</strong>。</li></ul></li></ol><h4 id="通用因特网邮件扩展-MIME">通用因特网邮件扩展 (MIME)</h4><ul><li><strong>协议功能：</strong> MIME 是为了解决 <strong>SMTP</strong> 只能传输 7 位 ASCII 码文本的限制而设计的扩展协议。</li><li><strong>MIME 报头内容：</strong><ul><li><strong>MIME-Version：</strong> MIME 版本标识。</li><li><strong>Content-Description：</strong> 可读字符串，用于简单描述邮件内容，类似于 Subject。</li><li><strong>Content-Id：</strong> 邮件的唯一标识符。</li><li><strong>Content-Transfer-Encoding：</strong> 指示在传送时，邮件的主体是如何编码的。包括 <strong>Quoted-Printable</strong> 编码和 <strong>Base64</strong> 编码。</li><li><strong>Content-Type：</strong> 说明邮件的性质。MIME 标准规定 Content-Type 必须包含内容类型 (<strong>type</strong>) 和子类型 (<strong>subtype</strong>)，中间用“/”分开，而参数 (<strong>parameters</strong>) 则是可选的。</li></ul></li><li><strong>MIME 内容类型分类：</strong> RFC2046 将媒体分为两大类：<strong>独立媒体类型 (discrete)</strong> 和<strong>复合媒体类型 (composite)</strong>。<ul><li><strong>独立媒体类型：</strong><ul><li><strong>文本 (text)：</strong> 表示邮件中包含了文字信息，典型的 type / subtype 为 <strong>text/plain</strong>。</li><li><strong>图像 (image)：</strong> 表示邮件报文体是一个图像，常用的类型对有 <strong>image/gif</strong> 和 <strong>image/jpeg</strong>。</li><li><strong>音频 (audio)</strong>、<strong>视频 (video)</strong>。</li><li><strong>应用 (application)：</strong> 囊括了所有不能归入其它类型的数据。</li></ul></li><li><strong>复合媒体类型：</strong><ul><li><strong>混合 (mixed) 子类型：</strong> 允许单个报文含有多个相互独立子报文，每个子报文可有自己的类型和编码。混合子类型报文使用户能够在单个报文中附上文本、图形和声体包含视频数据。使用关键字 <strong>‘Boundary’</strong> 来分隔不同的子报文。</li><li><strong>选择 (alternative) 子类型：</strong> 允许单个报文含有同一数据的多种可选择的表示方式。</li><li><strong>并行 (parallel) 子类型：</strong> 允许单个报文含有可同时显示的各个子部分。</li><li><strong>摘要 (digest) 子类型：</strong> 允许单个报文含有一组其它报文 (例如，从讨论中收集电子邮件报文)。</li></ul></li></ul></li></ul><h3 id="文件传输协议-FTP-Services">文件传输协议 (FTP Services)</h3><h4 id="FTP-协议的实现和特点">FTP 协议的实现和特点</h4><ul><li><strong>全称：</strong> <strong>文件传输协议 (FTP, File Transfer Protocol)</strong>。</li><li><strong>功能：</strong> FTP 是<strong>基于 TCP</strong> 的文件传输协议。用于在<strong>两台异构的主机间传输文件</strong>。</li><li><strong>工作模式：</strong> FTP 是一个<strong>客户机/服务器系统</strong>。用户通过支持 FTP 协议的客户机程序，连接到远程主机上的 FTP 服务器程序。</li><li><strong>连接端口：</strong> 当 FTP 客户端与服务器建立 FTP 连接时，将与服务器上的<strong>两个端口</strong>建立联系：<strong>端口 20</strong> 和 <strong>21</strong>。</li></ul><h4 id="FTP-两种工作方式">FTP 两种工作方式</h4><ol><li><strong>主动 (PORT) 模式</strong>：<ul><li><strong>控制连接：</strong> 客户端请求建立控制连接到服务器的 <strong>Port: 21</strong>。</li><li><strong>数据连接：</strong> 客户端随机开放端口，并使用 <strong>PORT 命令</strong>告知服务器该端口号。服务器的 <strong>Port: 20</strong> 连接到客户端开放的随机端口，建立数据连接。</li></ul></li><li><strong>被动 (PASV) 模式</strong>：<ul><li><strong>控制连接：</strong> 客户端请求建立控制连接到服务器的 <strong>Port: 21</strong>。</li><li><strong>数据连接：</strong> 客户端发送 <strong>PASV 命令</strong>。服务器开放随机端口，并将端口号发送给客户端。客户端连接到服务器开放的随机端口获取数据。</li></ul></li></ol><h4 id="FTP-主要命令">FTP 主要命令</h4><ul><li><strong>LIST：</strong> 目录名列出子目录或文件。</li><li><strong>RETR：</strong> 文件从服务器传送到客户。</li><li><strong>USER：</strong> 用户信息。</li><li><strong>PASS：</strong> 用户口令。</li><li><strong>QUIT：</strong> 向系统注销。</li><li><strong>STOR：</strong> 文件从客户传送到服务器。</li></ul><h3 id="万维网服务-Web-Services">万维网服务 (Web Services)</h3><h4 id="万维网-WWW-和超文本">万维网 (WWW) 和超文本</h4><ul><li><strong>全称：</strong> <strong>万维网 (WWW, World Wide Web)</strong>。</li><li><strong>本质：</strong> 是一个<strong>分布式超文本系统</strong>，使 Internet 中不同计算机的文件相互链接。</li><li><strong>超文本 (Hypertext)：</strong> 是一种信息管理技术。它能根据需要把可能在地理上分散存储的电子文档信息相互链接。人们可以通过一个文档中的<strong>超链接指针 (Hyperlink)</strong> 打开另一个相关的文档。</li><li><strong>Web 服务器：</strong> 指服务器及其运行在服务器上的服务端软件。</li><li><strong>客户端：</strong> 客户端是 <strong>Web 浏览器 (Browser)</strong>。浏览器结构包括<strong>控制模块</strong>、<strong>HTML 解释器</strong>、<strong>Java 解释器</strong>、<strong>HTTP 客户端</strong>、<strong>FTP 客户端</strong>等。</li></ul><h4 id="超文本标记语言-HTML-和统一资源定位器-URL">超文本标记语言 (HTML) 和统一资源定位器 (URL)</h4><ul><li><strong>全称：</strong> <strong>超文本标记语言 (HTML, Hypertext Markup Language)</strong>。</li><li><strong>功能：</strong> 万维网文档发布和浏览的<strong>基本文件格式</strong>。</li><li><strong>特点：</strong> 独立于平台的格式、超文本（允许文档之间漫游）和结构化设计。</li><li><strong>统一资源定位器 (URL, Uniform Resource Locator)</strong>：是标识网络上资源位置而设计的一种编址方式。</li><li><strong>URL 组成：</strong> 通常由 <strong>3 个部分</strong>组成：<strong>传输协议</strong>、<strong>主机地址/路径</strong>和<strong>文件名</strong>。</li><li><strong>URL 规则：</strong> URL <strong>不区分大小写</strong>。</li><li><strong>HTML 文档类型：</strong> 包括<strong>静态文档 (static document)</strong>、<strong>动态文档 (dynamic document)</strong> 和<strong>活动文档 (Active Document)</strong>。</li></ul><h4 id="超文本传输协议-HTTP">超文本传输协议 (HTTP)</h4><ul><li><strong>全称：</strong> <strong>超文本传输协议 (HTTP, Hypertext Transfer Protocol)</strong>。</li><li><strong>功能：</strong> 协议以普通文本、超文本、音频、视频等格式传输数据。</li><li><strong>传输层协议：</strong> HTTP 在<strong>公认端口 80</strong> 上使用 <strong>TCP</strong> 服务。</li><li><strong>工作模式：</strong> HTTP 是典型的<strong>客户/服务器模式</strong>（<strong>B/S 模式</strong>），客户是浏览器，服务器是 <strong>WWW 服务器</strong>。</li><li><strong>协议状态：</strong> HTTP 协议是<strong>无状态协议</strong>，不保留客户的状态。</li><li><strong>连接方式：</strong> HTTP 协议有<strong>持续连接</strong>和<strong>非持续连接</strong>。</li></ul><h2 id="参考和注解">参考和注解</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>同步问题指的是接收端如何在连续的物理信号中判断每一个比特（或码元）从哪里开始、到哪里结束的问题。 <img src="https://images.kisechan.space/20251221184414941.png" srcset="/img/loading.gif" lazyload alt=""> <a href="#fnref:1" rev="footnote" class="footnote-backref">↩</a></span></span></li></ol></div></section></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/" class="category-chain-item">课程笔记</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="print-no-link">#计算机网络</a></div></div><div class="license-box my-3"><div class="license-title"><div>计算机网络总结归纳</div><div>https://blog.kisechan.space/2025/notes-networks-summary/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Kisechan</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2025年12月21日</div></div><div class="license-meta-item license-meta-date"><div>更新于</div><div>2025年12月22日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="NC - 非商业性使用"><i class="iconfont icon-nc"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="SA - 相同方式共享"><i class="iconfont icon-sa"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/2025/notes-software-engineering-summary/" title="软件工程课程部分内容归纳"><span class="hidden-mobile">软件工程课程部分内容归纳</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="gitalk-container"></div><script type="text/javascript">Fluid.utils.loadComments("#gitalk-container",function(){Fluid.utils.createCssLink("/css/gitalk.css"),Fluid.utils.createScript("https://lib.baomitu.com/gitalk/1.8.0/gitalk.min.js",function(){var e=Object.assign({clientID:"Ov23liWYIiu2jxReIEhB",clientSecret:"d7b44817ae2553b2175fdecfde9718b582bdc653",repo:"Comment-Kisechan",owner:"Kisechan",admin:["Kisechan"],language:"zh-CN",labels:["Gitalk"],perPage:10,pagerDirection:"last",distractionFreeMode:!1,createIssueManually:!0,proxy:"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token",enabled:!0},{id:"722a4e508d590b1e5234eb577e52ff17"});new Gitalk(e).render("gitalk-container")})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><div><span>Frame by <a href="https://hexo.io" target="_blank" rel="nofollow noopener">Hexo</a></span> <span>| Theme <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></span></div><div style="font-size:.85rem"><span><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></span><span><script async src="https://views.kisechan.space/views.js"></script><br><span id="my-site-view">本站总访问量：加载中...</span><br><br><span>&copy; 2024 - 2025 By <a href="https://github.com/Kisechan" target="_blank" rel="nofollow noopener"><strong>Kisechan</strong></a><br></span><span>今天也很喜欢你！</span><br><a href="https://icp.gov.moe/?keyword=20251453" target="_blank">萌ICP备20251453号</a></span></div></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!0,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>var relativeDate=function(){var t,e,i,n,m=document.getElementById("updated-time");m&&(e=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:Z|[+-]\d{2}:\d{2})/,(i=(t=m.textContent).match(e))&&(n=moment(i[0]).fromNow(),m.textContent=t.replace(e,n)),m.style.display="")};Fluid.utils.createScript("https://lib.baomitu.com/moment.js/2.29.4/moment.min.js",function(){"zh-cn".startsWith("en")?relativeDate():Fluid.utils.createScript("https://lib.baomitu.com/moment.js/2.29.4/locale/zh-cn.min.js",function(){relativeDate()})})</script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-t},CONFIG.toc)),0<o.find(".toc-list-item").length&&o.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;0<t.find(".toc-list-item").length&&t.css("visibility","visible")}}))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/linkcard.js"></script><script src="/js/cursor.js"></script><script src="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="//cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="/js/boot.js"></script><script type="text/javascript">var originalTitle=document.title;window.onblur=function(){document.title="等你回来哦"},window.onfocus=function(){document.title=originalTitle}</script><div id="tooltip-rightmenu" class="tooltip-rightmenu">如果需要使用原始右键菜单请按下 <strong>Ctrl+右键</strong></div><div id="tooltip-clipboard" class="tooltip-rightmenu">链接复制成功！</div><div id="rightmenu-wrapper"><ul class="list-v rightmenu" id="rightmenu-content"><li class="navigation menuNavigation-Content"><a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fa fa-arrow-left rightmenu-icon"></i></a> <a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fa fa-arrow-right rightmenu-icon"></i></a> <a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fa fa-refresh rightmenu-icon"></i></a> <a aria-label="TOP" href="#" role="button"><i class="fa fa-arrow-up rightmenu-icon"></i></a></li><hr class="menuLoad-Content" style="display:block"><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><span><i class="fa fa-search rightmenu-icon"></i> 站内搜索</span></a></li><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" href="javascript:;" onclick="toggleFullScreen()"><span><i class="fa fa-arrows-alt rightmenu-icon"></i> 切换全屏</span></a></li><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" href="javascript:;" onclick="copyPageUrl()"><span><i class="fa fa-clipboard rightmenu-icon"></i> 复制链接</span></a></li><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" href="javascript:;" onclick="scrollToComments()"><span><i class="fa fa-commenting rightmenu-icon"></i> 立即评论</span></a></li><hr class="menuLoad-Content" style="display:block"><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" target="_blank" rel="noopener" href="https://www.kisechan.space/" data-group="link"><span><i class="fa fa-info-circle rightmenu-icon"></i> 关于本站</span></a></li></ul></div><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link href="/css/custom_right_menu_icons.css" type="text/css" rel="stylesheet"><script src="/js/right_menu.js" type="text/javascript"></script><link href="/css/right_menu.css" type="text/css" rel="stylesheet"><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/koharu.model.json"},display:{position:"left",width:150,height:300},mobile:{show:!1},log:!1})</script></body></html>