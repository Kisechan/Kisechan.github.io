<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://images.kisechan.space/icon.jpg"><link rel="icon" href="https://images.kisechan.space/icon.jpg"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#004e66"><meta name="author" content="Kisechan"><meta name="keywords" content=""><meta name="description" content="Linux和开源 UNIX 诞生  时间：1969 地点：AT&amp;T 贝尔实验室 人物：Ken Thompson和Dennis Ritchie 动机：玩游戏 理念：简单易用（KISS，Keep it simple, stupid!）  最初使用汇编语言开发，1973年，二人使用C重写了UNIX源码。 发展 UNIX以源代码形式发行，形成了两个重要流派：    UNIX版本 主要发行版分支"><meta property="og:type" content="article"><meta property="og:title" content="Linux课程笔记"><meta property="og:url" content="https://blog.kisechan.space/2024/linux-note/index.html"><meta property="og:site_name" content="Kisechan&#39;s Blog"><meta property="og:description" content="Linux和开源 UNIX 诞生  时间：1969 地点：AT&amp;T 贝尔实验室 人物：Ken Thompson和Dennis Ritchie 动机：玩游戏 理念：简单易用（KISS，Keep it simple, stupid!）  最初使用汇编语言开发，1973年，二人使用C重写了UNIX源码。 发展 UNIX以源代码形式发行，形成了两个重要流派：    UNIX版本 主要发行版分支"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://images.kisechan.space/202502042315357.png"><meta property="article:published_time" content="2024-11-22T05:49:11.000Z"><meta property="article:modified_time" content="2024-11-25T10:00:02.000Z"><meta property="article:author" content="Kisechan"><meta property="article:tag" content="Linux"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://images.kisechan.space/202502042315357.png"><meta name="referrer" content="no-referrer-when-downgrade"><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><title>Linux课程笔记 - Kisechan&#39;s Blog</title><link rel="stylesheet" type="text/css" href="/css/loading.css"><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.16.2/katex.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4890189_5ms3yf4n747.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/cursor.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var dntVal,CONFIG={hostname:"blog.kisechan.space",root:"/",version:"1.9.7",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:["home"]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:"#"},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!0,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4",collapseDepth:4},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:{measurement_id:null},tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml",include_content_in_search:!0};CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script>document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("busuanzi_value_site_uv"),t=document.getElementById("busuanzi_value_site_pv"),n=new MutationObserver(e=>{for(let t of e)if("childList"===t.type){n.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML)+3837;break}}),i=new MutationObserver(e=>{for(let t of e)if("childList"===t.type){i.disconnect(),t.target.innerHTML=parseInt(t.target.innerHTML)+6136;break}}),r={childList:!0};n.observe(e,r),i.observe(t,r)});</script><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/atom.xml" title="Kisechan's Blog" type="application/atom+xml"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style></head><body><div><div class="real_mask" style="background-color:rgba(0,0,0,.3);width:100%;height:100%;position:fixed;z-index:-777"></div><div id="banner_video_insert"></div><div id="vvd_banner_img"></div></div><div id="banner"></div><div id="loader-box"><div class="loader-wrapper"><div class="loader"></div><div class="loader-text"><div>L</div><div>O</div><div>A</div><div>D</div><div>I</div><div>N</div><div>G</div><div></div><div></div><div></div></div></div><script>var endLoading=function(){document.body.style.overflow="auto",document.getElementById("loader-box").remove()};window.addEventListener("load",endLoading)</script></div><header><div class="header-inner" style="height:80vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>KISECHAN</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="https://www.kisechan.space/" target="_self"><i class="iconfont icon-Homehomepagemenu"></i> <span>主站</span></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-newstextarticle"></i> <span>文章</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/archives/" target="_self"><i class="iconfont icon-archive"></i> <span>归档</span> </a><a class="dropdown-item" href="/categories/" target="_self"><i class="iconfont icon-categories"></i> <span>分类</span> </a><a class="dropdown-item" href="/tags/" target="_self"><i class="iconfont icon-tags-fill"></i> <span>标签</span></a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-user"></i> <span>个人</span></a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="https://www.kisechan.space/" target="_self"><i class="iconfont icon-info-fill"></i> <span>关于</span> </a><a class="dropdown-item" href="/playlist/" target="_self"><i class="iconfont icon-music"></i> <span>歌单</span> </a><a class="dropdown-item" href="https://github.com/Kisechan/Kisechan.github.io" target="_self"><i class="iconfont icon-git"></i> <span>仓库</span> </a><a class="dropdown-item" href="/atom.xml" target="_self"><i class="iconfont icon-rss"></i> <span>RSS订阅</span></a></div></li><li class="nav-item"><a class="nav-link" href="https://www.kisechan.space/tools/" target="_self"><i class="iconfont icon-tool-fill"></i> <span>工具</span></a></li><li class="nav-item"><a class="nav-link" href="https://www.kisechan.space/links" target="_self"><i class="iconfont icon-link"></i> <span>友链</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://images.kisechan.space/202502042159748.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">Linux课程笔记</span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> Kisechan </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2024-11-22 13:49" pubdate>2024年11月22日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 13k 字 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div><div class="scroll-down-bar"><i class="iconfont icon-arrowdown"></i></div></div></div></div></div><script type="text/javascript" src="/vvd_js/jquery.js"></script><div class="banner" id="banner"><div class="full-bg-img"></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="课程笔记" id="heading-311a46cfdaa3afda544e9285644f70d7" role="tab" data-toggle="collapse" href="#collapse-311a46cfdaa3afda544e9285644f70d7" aria-expanded="true">课程笔记 <span class="list-group-count">(7)</span> <i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-311a46cfdaa3afda544e9285644f70d7" role="tabpanel" aria-labelledby="heading-311a46cfdaa3afda544e9285644f70d7"><div class="category-post-list"><a href="/2024/oop/" title="面向对象程序设计课程笔记" class="list-group-item list-group-item-action"><span class="category-post">面向对象程序设计课程笔记</span> </a><a href="/2024/linux-note/" title="Linux课程笔记" class="list-group-item list-group-item-action active"><span class="category-post">Linux课程笔记</span> </a><a href="/2024/ds/" title="数据结构课程板子合集&amp;笔记" class="list-group-item list-group-item-action"><span class="category-post">数据结构课程板子合集&amp;笔记</span> </a><a href="/2025/notes-algorithm-analysis/" title="算法设计与分析 课程笔记" class="list-group-item list-group-item-action"><span class="category-post">算法设计与分析 课程笔记</span> </a><a href="/2025/notes-database-1/" title="数据库原理 课程笔记 (1)" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (1)</span> </a><a href="/2025/notes-database-2/" title="数据库原理 课程笔记 (2)" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (2)</span> </a><a href="/2025/notes-database-3/" title="数据库原理 课程笔记 (3)" class="list-group-item list-group-item-action"><span class="category-post">数据库原理 课程笔记 (3)</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 id="seo-header">Linux课程笔记</h1><p id="updated-time" class="note note-info" style="display:none">本文最后更新于 2024-11-25T18:00:02+08:00</p><div class="markdown-body"><h1>Linux和开源</h1><h2 id="UNIX">UNIX</h2><h3 id="诞生">诞生</h3><ul><li><strong>时间</strong>：1969</li><li><strong>地点</strong>：AT&amp;T 贝尔实验室</li><li><strong>人物</strong>：Ken Thompson和Dennis Ritchie</li><li><strong>动机</strong>：玩游戏</li><li><strong>理念</strong>：简单易用（KISS，Keep it simple, stupid!）</li></ul><p>最初使用<strong>汇编语言</strong>开发，1973年，二人使用C重写了UNIX源码。</p><h3 id="发展">发展</h3><p>UNIX以<strong>源代码形式</strong>发行，形成了两个重要流派：</p><table><thead><tr><th style="text-align:center">UNIX版本</th><th style="text-align:center">主要发行版分支</th></tr></thead><tbody><tr><td style="text-align:center">UNIX SYSTEM V</td><td style="text-align:center">AIX、SOLARIS、HP-UX、IRIX</td></tr><tr><td style="text-align:center">Berkeley UNIX</td><td style="text-align:center">FreeBSD、NetBSD、OpenBSD</td></tr></tbody></table><blockquote><p>BSD：Berkeley Software Distribution</p></blockquote><p>80年代，UNIX版本剧增，各版本间差别扩大，于是就有了对每种实现必须定义各种限制的说明的<strong>标准化</strong>。两个重要的标准是：</p><ul><li><p><strong>系统V接口定义（SVID，System V Interface Definition）</strong>，来自AT&amp;T</p></li><li><p><strong>可移植操作系统接口（POSIX，Portable Operating System Interface）</strong>，来自ISO和IEEE</p></li></ul><blockquote><p>目前几乎所有的UNIX/Linux发行版均遵循POSIX标准。</p></blockquote><h2 id="Linux的兴起">Linux的兴起</h2><p>目前应用最广泛的类UNIX系统。<strong>2个人4个1</strong>：</p><ul><li>2个人：Richard Stallman &amp; Linus Torvalds</li><li>4个1：<ul><li>1个项目：GNU</li><li>1个组织：FSF</li><li>1个理念：Copyleft</li><li>1个许可证：GPL</li></ul></li></ul><h3 id="GNU计划">GNU计划</h3><p>GNU is Not Unix.</p><p>1983年9月27日发起，目标：</p><ul><li>创建一个<strong>自由共享</strong>、<strong>可被任何人修改</strong>的类UNIX系统</li><li>与UNIX兼容</li><li>不受UNIX名字和代码私有权限制</li><li>能运行UNIX程序</li></ul><p>GNU的执行者是<strong>自由软件基金会</strong>（FSF，Free Software Foundation），在1985年成立，目标：</p><ul><li>执行GNU计划</li><li>提供技术、法律、财政支持</li><li>开发更多自由软件</li></ul><p>GNU完成了许多UNIX应用程序的仿制品，例如：</p><ul><li>GCC</li><li>GDB：源代码级程序调试工具</li><li>GNU make：软件构建工具</li><li>bash</li><li>GNU Emacs：文本编辑器</li></ul><p>但是并没有GNU并没有成功开发Linux内核。</p><h3 id="GPL许可证">GPL许可证</h3><p>Richard Stallman提出<strong>Copyleft</strong>（著佐权）概念：著作权归原作者所有，但其他一切权利可以让所有人共享：</p><ul><li>授予使用者运行、赋值、修改、发行修改后的程序的权利</li><li>不能在修改后的软件上添加限制</li><li>修改后的软件要以同等授权方式发布回馈社会</li></ul><p>基于Copyleft，Stallman提出了<strong>GPL许可证</strong>（GNU General Public License）。</p><p>GNU开发的工具都在GPL下发行。</p><p>意义：</p><ul><li>确保任何使用自由软件创建的新产品，都必须在GPL协议下发行。</li><li>以自由软件为基础，修改后重新发行也必须公开源代码。</li><li>允许商业使用</li></ul><h3 id="Linux内核">Linux内核</h3><p>Linus Torvalds希望开发一个自由，开放源代码的Unix，并在1991年在GPL协议下发布了第一版Linux内核。Linux的吉祥物为Tux。</p><p>Linux内核目前在Linux基金会支持下由贡献者共同开发，Linus拥有内核能接受哪些更改和谁可以成为维护者的最终决定权。</p><p>Linux既是操作系统内核，又是基于内核的操作系统。Linux=GNU Tools+Linus Kernel，故也称为GNU/Linux。</p><p>Linux包括内核版本和发行版本。</p><ul><li>内核版本由社区（<a target="_blank" rel="noopener" href="https://www.kernel.org/">https://www.kernel.org/</a> ）统一发布，包括主、次版本号和修订次数。</li><li>发行版本的名称和版本号由发行维护者决定，分为<strong>商业发行版</strong>和<strong>社区发行版</strong>。</li></ul><h2 id="开源软件运动">开源软件运动</h2><p>自由软件运动蓬勃发展后，并非全部自由软件用户和开发者都赞同自由软件运动的目标。1998年，自由软件阵营中的部分成员分裂出来，并以“开源”为名继续开展活动。而后，开源的理念不断兴起，不断发展与壮大，其声势与影响力早已远超自由软件的运动。</p><p>埃里克·雷蒙1997在《大教堂与集市》中提出开放源代码软件理念，对自由软件的商业模式加以描述和讨论：<strong>自由软件存在的意义不是替代现存的商业软件，共享源代码可以产生更好的结果。</strong></p><p>1998年，<strong>开放源代码促进会</strong>（Open Source Initiative，OSI）成立，推动开源软件发展，统一了开源软件的认证标准。</p><p>OSI首次正式提出开源软件的概念：</p><ul><li>一种源代码可以任意获取的计算机软件</li><li>软件著作权持有人在软件协议的规定之下保留一部分权利</li><li>允许用户学习、修改以及以任何目的向任何人分发该软件</li><li>开源协议通常符合开放源代码的定义的要求</li></ul><p>这之后也诞生了一些一些开源许可证，如<strong>Apache、BSD、MIT、Mozilla、木兰公共许可证</strong>等。木兰开源许可证是中国首个开源许可证，分为木兰宽松许可证和木兰公共许可证。</p><h2 id="系统架构">系统架构</h2><p>Linux操作系统的结构总体上分为内核空间和用户空间两部分：</p><ul><li><p><strong>内核空间</strong>：管理系统资源、提供服务以及控制硬件</p></li><li><p><strong>用户空间</strong>：包括用户应用程序和系统工具，通过内核提供的接口来访问系统资源</p></li></ul><h3 id="内核空间">内核空间</h3><p>主要功能有：</p><ul><li>进程管理</li><li>内存管理</li><li>文件系统</li><li>设备管理</li><li>网络堆栈管理</li><li>系统调用</li></ul><h3 id="用户空间">用户空间</h3><p>包括用户程序和系统工具，重要组件：<strong>库函数</strong>和<strong>shell</strong></p><p>库函数即<strong>预先编写好的代码</strong>，以库的形式组织。库函数执行各种常见的任务，如输入/输出处理、数学计算等，避免开发者重写相同代码，提高程序开发效率和代码可维护性，包括<strong>静态库和动态库</strong>。</p><ul><li><p>静态库</p><ul><li><p>在程序编译链接时被包含进最终的可执行文件中</p></li><li><p>程序运行时，静态库中的代码成为程序的一部分</p></li><li><p>Linux系统中，静态库通常以.a结尾</p></li></ul></li><li><p>动态库</p><ul><li><p>在程序运行时被动态加载</p></li><li><p>多个应用程序可以共享同一份库文件，从而节省磁盘空间和内存</p></li><li><p>动态库在Linux系统中通常以.so为结尾</p></li></ul></li></ul><p>shell是<strong>一类命令解释程序的统称</strong>，为用户提供与操作系统交互的接口。用户通过shell提供的界面输入命令，shell解析这些命令并调用相应的程序来执行，然后将执行的结果反馈给用户。功能有：</p><ul><li><p>命令执行：用户输入命令后，shell查找命令并执行。</p></li><li><p>重定向和管道</p><ul><li><p>重定向：可将命令的输出保存到文件中，或者从文件中读取输入。</p></li><li><p>管道：允许将一个命令的输出作为另一个命令的输入。</p></li></ul></li><li><p>作业控制：允许用户控制后台作业的执行，如暂停、恢复和终止作业。</p></li><li><p>脚本编程：shell还是一个程序开发与运行环境，允许用户编写并执行由一系列命令组成的脚本程序，自动实现复杂任务操作。</p></li></ul><h2 id="Linux的核心特征">Linux的核心特征</h2><p>Linux系统作为一种不断发展的现代操作系统，既继承了类Unix系统的共性，又拥有众多独特特性。</p><p><strong>专有软件不是Linux的核心特征。</strong></p><h3 id="开源">开源</h3><p>Linux基于开源协议发布，其源代码可以自由地查看、修改和分发推动了全球范围内的合作与改进，使Linux系统持续进化。</p><h3 id="多用户和多任务">多用户和多任务</h3><ul><li><p>多用户即多用户同时共同使用计算机。各个用户执行不同程序，提供安全机制，隔离用户。</p></li><li><p>多任务即启动一个任务后，继续执行其他任务，并允许用户在前台和后台多个任务间进行切换。</p></li></ul><h3 id="硬件支持与广泛兼容性">硬件支持与广泛兼容性</h3><p>Linux支持广泛的硬件平台，包括个人计算机、服务器、嵌入式设备和超级计算机，并能在多种CPU架构上运行，如x86、x86_64、ARM、SPARC等。</p><p>Linux与众多开放标准和协议兼容，如POSIX、UNIX规范等。</p><h3 id="稳定可靠、网络功能强大与可定制性">稳定可靠、网络功能强大与可定制性</h3><ul><li><p>Linux成熟稳定，能长时间运行无需重启，在服务器领域应用广泛。</p></li><li><p>网络功能强大，支持各种网络协议和标准，广泛用于各类网络服务器。</p></li><li><p>Linux提供高度可定制性，用户可根据自身需求选择不同的桌面环境、窗口管理器和应用程序。其发行版众多，可挑选适合自己的Linux版本。</p></li></ul><h3 id="社区支持">社区支持</h3><p>Linux系统获得了广泛的社区支持，社区由开发者、用户和爱好者组成，他们共同贡献代码、分享知识、提供技术支持并推广Linux的使用。</p><p>在内核开发方面，有Linux内核社区；几乎每个Linux发行版都有自己的社区，如Ubuntu、Debian、openEuler社区。</p><h1>基本概念与使用</h1><h2 id="登录">登录</h2><p>UNIX是一个多用户操作系统，用户在使用UNIX系统前必须进行登录，登录是识别用户身份、分配资源允许用户使用系统的过程。</p><p>登录方式主要有本地登录和远程登录（<code>ssh 用户名@ip地址或域名</code>）。</p><p><code>passwd [username]</code>修改自己或别人的口令，也可以用于生成初始口令（root）。</p><p>退出登录shell的三种方法：</p><ul><li><code>exit</code></li><li>[Ctrl+D]</li><li><code>logout</code></li></ul><p><code>quit</code>不能退出系统。</p><h2 id="命令行">命令行</h2><p>用户登录成功后，就能看到用于输入命令的命令行，以及在命令行中为用户提示信息的命令提示符。</p><p>最简单的命令提示符只有一个字符：</p><ul><li>管理员（root）：<code>#</code></li><li>普通用户：<code>$</code></li></ul><p>用户可以设置提示符，显示丰富系统信息。</p><p>命令行快捷键：</p><table><thead><tr><th style="text-align:center">快捷键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">[Ctrl+h]</td><td style="text-align:center">删除单个字符</td></tr><tr><td style="text-align:center">[Ctrl+u]</td><td style="text-align:center">删除单行</td></tr><tr><td style="text-align:center">[Ctrl+a]</td><td style="text-align:center">跳到开头</td></tr><tr><td style="text-align:center">[Ctrl+e]</td><td style="text-align:center">调到结尾</td></tr><tr><td style="text-align:center">[Ctrl+c]</td><td style="text-align:center">中断运行</td></tr><tr><td style="text-align:center">[Ctrl+z]</td><td style="text-align:center">挂起程序</td></tr><tr><td style="text-align:center">[Ctrl+l]</td><td style="text-align:center">清屏</td></tr><tr><td style="text-align:center">[Tab]</td><td style="text-align:center">自动补全</td></tr></tbody></table><h2 id="命令">命令</h2><p>命令分为<strong>外部命令</strong>和<strong>内部命令</strong>。</p><ul><li>外部命令：磁盘中程序的命令（<code>man</code>，<code>info</code>）</li><li>内部命令：shell本身的一部分或shell内部识别、执行的命令，执行速度快（<code>help</code>）</li></ul><p>不同的流派Unix选项写法不同，但一般会兼容：</p><table><thead><tr><th style="text-align:center">流派</th><th style="text-align:center">连接符写法</th><th style="text-align:center">选项表示</th></tr></thead><tbody><tr><td style="text-align:center">System V（常用）</td><td style="text-align:center"><code>-</code></td><td style="text-align:center">字母</td></tr><tr><td style="text-align:center">BSD</td><td style="text-align:center"></td><td style="text-align:center">字母</td></tr><tr><td style="text-align:center">GNU</td><td style="text-align:center"><code>--</code></td><td style="text-align:center">单词</td></tr></tbody></table><h2 id="终端">终端</h2><p>通过<code>who</code>命令可以查看登录终端。</p><ul><li><p><strong>物理终端</strong>：一套输入输出设备，用于用户登录和使用计算机；如连接在计算机上的显示器、键盘鼠标；与名词主机对应</p></li><li><p><strong>虚拟终端</strong>（tty，teletypewriter，电传打字机的简称）：<strong>附加在物理终端之上</strong>，用软件方式虚拟实现。类Unix系统启动后默认为用户创建几个虚拟终端，实现多用户的同时登录或单用户的多终端登录。虚拟终端对应的设备文件是<code>/dev/tty#</code>（#为非负整数）。</p></li><li><p>终端为<code>:0</code>时表示是<strong>图形用户界面终端</strong>。</p></li></ul><p>虚拟终端可以使用虚拟控制台实现。Linux通常启用6个虚拟终端：tty1图形终端，tty2-tty6字符终端。可以使用<strong>虚拟控制台</strong>切换虚拟终端：</p><ul><li>切换方式1：Ctrl-Alt-F[1-6]</li><li>切换方式2：<code>#chvt n</code></li></ul><p>通过<code>tty</code>命令来查看当前的虚拟终端号。但是<code>tty</code>并不都是虚拟终端。</p><p><strong>伪终端</strong>（pty）是由<strong>远程登录软件或终端模拟软件</strong>模拟出的终端，主要有两种应用场景：</p><ul><li>图形界面下进行命令操作</li><li>远程登录</li></ul><p>pts(pseudo-terminal slave)是pty的实现方法。伪终端以<code>pts/n</code>的形式命名。</p><p>使用<code>whoami</code>可以查看用户名，<code>who am i</code>可以查看终端号等。</p><h2 id="shell">shell</h2><p>shell有很多种类，在<code>/bin/*sh</code>中：</p><table><thead><tr><th style="text-align:center">名称</th><th style="text-align:center">解释</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center"><code>sh</code></td><td style="text-align:center">Bourne Shell（sh）</td><td style="text-align:center">大多数UNIX操作系统的标准shell和默认shell</td></tr><tr><td style="text-align:center"><code>ksh</code></td><td style="text-align:center">Korn Shell（ksh）</td><td style="text-align:center">Bourne Shell的一个超集，<code>sh</code>程序可以不修改在<code>ksh</code>上运行</td></tr><tr><td style="text-align:center"><code>csh</code></td><td style="text-align:center">C Shell（csh）</td><td style="text-align:center">由加州大学伯克利分校开发，采用C语言风格的语法</td></tr><tr><td style="text-align:center"><code>bash</code></td><td style="text-align:center">Bourne Again Shell（bash）</td><td style="text-align:center">Linux的标准shell和默认shell，基于<code>sh</code></td></tr></tbody></table><p>只需要键入新shell名就可以更换shell。本质是创建shell子进程，在子进程中运行新shell。如果想永久改变，可以修改账户配置文件<code>/etc/passwd</code>或使用<code>chsh</code>命令。</p><h2 id="安装软件">安装软件</h2><p>编译源代码安装与基于网络存储库安装。</p><ul><li><p>编译软件源代码：</p><p>从软件的官方网站或可信的第三方网站下载软件的源代码，然后使用编译工具进行编译完成安装过程。这种安装软件方法较为灵活，可以选择下载特定版本或者最新版本。软件包每次更新都需要重新编译，对初学者存在一定难度。</p></li><li><p>基于网络存储库安装</p><p>各种Linux发行版有许多官方和非官方的软件存储库，保存了大量经过编译的软件包，可以直接用于安装或更新。可以通过包管理器工具访问存储库，选择所需软件进行安装或更新。简单易行，适合初学者。软件已经过编译，安装速度比从源代码编译更快。</p></li></ul><p>基于网络库的安装工具有两种，dnf和apt：</p><table><thead><tr><th style="text-align:center">安装工具</th><th style="text-align:center">介绍</th></tr></thead><tbody><tr><td style="text-align:center">apt（Advanced Package Tool）</td><td style="text-align:center">基于Debian的Linux发行版中使用的包管理器。提供命令行界面，使户能够方便搜索、安装、更新和卸载软件包。具有自动解决依赖关系的功能，可以快速地安装复杂的软件包集合。还提供了软件仓库管理功能，允许用户方便地添加、删除和配置软件仓库。</td></tr><tr><td style="text-align:center">dnf（Dandified YUM）</td><td style="text-align:center">dnf 是 YUM（Yellowdog Updater, Modified）的下一代版本管理器，旨在解决 YUM 的一些性能和依赖管理问题，并提供更好的用户体验。提供了命令行界面，支持软件包的搜索、安装、更新和卸载。具有速度快、可扩展性强，支持并可以通过插件来扩展其功能，支持多线程并发下载和安装，提高了软件包的安装速度</td></tr></tbody></table><p>dnf命令语法格式为<code>dnf [子命令] [选项] [软件包名称...]</code>，常用子命令有：</p><table><thead><tr><th style="text-align:center">命令</th><th style="text-align:center">介绍</th></tr></thead><tbody><tr><td style="text-align:center"><code>install</code></td><td style="text-align:center">安装软件包</td></tr><tr><td style="text-align:center"><code>update</code></td><td style="text-align:center">更新软件包</td></tr><tr><td style="text-align:center"><code>remove</code></td><td style="text-align:center">卸载软件包</td></tr><tr><td style="text-align:center"><code>grouplist</code></td><td style="text-align:center">显示所有可用的软件包组，包括已安装的和未安装的</td></tr><tr><td style="text-align:center"><code>groupinstall</code></td><td style="text-align:center">安装软件包组</td></tr></tbody></table><p>常用选项有<code>-y</code>，即对安装过程中所有的询问表示同意。</p><p>可以使用yum（dnf）安装软件包组。软件包组是服务于一个共同的目的一组软件包，例如系统工具集等。使用dnf可以对软件包组进行安装/删除等操作，使相关操作更高效：<code>dnf groupinstall -y “Development Tools”</code></p><h2 id="系统启动或关闭">系统启动或关闭</h2><p>Linux系统的关闭通常由关机命令触发，为确保系统安全、稳定地关闭，一般包括以下关键步骤：</p><ol><li>管理员发起关机请求：在命令行中输入<code>shutdown</code>、<code>halt</code>或<code>poweroff</code>等命令请求关闭系统</li><li>系统发送关机信号：系统初始化进程（如systemd）收到关机命令后，执行关机流程</li><li>停止所有运行的服务：停止所有正在运行的服务和进程，如网络服务、文件共享服务等</li><li>卸载文件系统：系统卸载所有已挂载的文件系统，以防止数据损坏</li><li>执行自定义关机脚本：系统可能会运行预定义的关机脚本，进行数据同步、清理缓存等操作</li><li>关闭硬件设备：系统通知所有硬件设备安全关闭，如硬盘驱动器停止运转</li><li>关闭电源：系统关闭计算机的电源</li></ol><h3 id="关机命令">关机命令</h3><p><code>shutdown [选项] [时间]</code>命令：关机或重启。</p><p>主要选项有：</p><ul><li><code>h</code> ：停止系统，关机</li><li><code>r</code> ：重启系统</li></ul><p>例如：</p><ul><li><code># shutdown -h now</code>：立即关机</li><li><code># shutdown -h 22:45</code>：在22:25关机</li><li><code># shutdown -r +30</code>：30分钟后重启</li></ul><p><code>reboot</code>命令：重启。</p><p><code>halt</code>命令：在大多数系统中等效于<code>shutdown -h now</code>。</p><p><code>poweroff</code>命令：首先关闭所有运行的服务，卸载文件系统，然后关闭系统电源。</p><h1>vi编辑器</h1><p>打开vi的命令：<code>vi [选项] [文件]</code>。常用选项有：</p><ul><li><code>-c</code>：打开时执行指定的vi命令</li><li><code>-R</code>：只读打开，可强制保存</li><li><code>-M</code>：只读打开，不可强制保存</li><li><code>-r</code>：恢复文件</li><li><code>+num</code>：从第<code>num</code>行开始</li></ul><p>保存：<code>:[ a,b（保存从a至b行到） ] w [新文件名]</code>，例如<code>: 1,4 w test.c</code>。</p><p>退出：<code>:q</code>，使用<code>:q!</code>强制退出。使用<code>:x</code>、<code>:wq</code>或[Z][Z]保存并退出。</p><p>vi的<code>:version</code>命令可以显示当前的vi版本等信息。</p><h2 id="输入模式">输入模式</h2><p>启动vi后自动进入命令模式，输入<code>:</code>进入ex命令模式（又称为末行模式），按[i]、[I]、[a]、[A]、[o]、[O]进入输入模式。输入模式按[Esc]回到命令模式。</p><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">[i]</td><td style="text-align:center">在光标左侧输入文本</td></tr><tr><td style="text-align:center">[I]</td><td style="text-align:center">在光标所在行开头输入文本</td></tr><tr><td style="text-align:center">[a]</td><td style="text-align:center">在光标右侧输入文本</td></tr><tr><td style="text-align:center">[A]</td><td style="text-align:center">在光标所在行结尾输入文本</td></tr><tr><td style="text-align:center">[o]</td><td style="text-align:center">在光标上面创建新行，输入文本</td></tr><tr><td style="text-align:center">[O]</td><td style="text-align:center">在光标下面创建新行，输入文本</td></tr></tbody></table><h2 id="移动光标">移动光标</h2><p>在命令模式下，除了方向键，也可以用别的按键移动光标：</p><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">h</td><td style="text-align:center">左移</td></tr><tr><td style="text-align:center">Backspace</td><td style="text-align:center">左移</td></tr><tr><td style="text-align:center">j</td><td style="text-align:center">下移</td></tr><tr><td style="text-align:center">回车</td><td style="text-align:center">下移到下一行行首</td></tr><tr><td style="text-align:center">k</td><td style="text-align:center">上移</td></tr><tr><td style="text-align:center">l</td><td style="text-align:center">右移</td></tr><tr><td style="text-align:center">空格</td><td style="text-align:center">右移</td></tr><tr><td style="text-align:center">nh</td><td style="text-align:center">左移n格</td></tr><tr><td style="text-align:center">nj</td><td style="text-align:center">下移n格</td></tr><tr><td style="text-align:center">nk</td><td style="text-align:center">上移n格</td></tr><tr><td style="text-align:center">nl</td><td style="text-align:center">右移n格</td></tr></tbody></table><p>大范围移动光标：</p><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">移动到行首</td></tr><tr><td style="text-align:center">$</td><td style="text-align:center">移动到行尾</td></tr><tr><td style="text-align:center">nw</td><td style="text-align:center">向右移动n个单词（跨行）</td></tr><tr><td style="text-align:center">nb</td><td style="text-align:center">向左移动n个单词（跨行）</td></tr><tr><td style="text-align:center">ne</td><td style="text-align:center">移动到后n个单词的词尾（跨行）</td></tr><tr><td style="text-align:center">gg</td><td style="text-align:center">移动到最开头</td></tr><tr><td style="text-align:center">G</td><td style="text-align:center">移动到尾行行首</td></tr><tr><td style="text-align:center">nG</td><td style="text-align:center">移动到第n行行首</td></tr><tr><td style="text-align:center">:n</td><td style="text-align:center">移动到第n行行首</td></tr><tr><td style="text-align:center">[Ctrl]+[g]</td><td style="text-align:center">获取行号</td></tr></tbody></table><h2 id="删除文本">删除文本</h2><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">nx</td><td style="text-align:center">删除光标开始的n个字符</td></tr><tr><td style="text-align:center">nc{范围限定符}</td><td style="text-align:center">删除光标开始的n个限定范围，然后进入插入模式</td></tr><tr><td style="text-align:center">nd{范围限定符}</td><td style="text-align:center">删除光标开始的n个限定范围</td></tr></tbody></table><table><thead><tr><th style="text-align:center">范围限定符</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">光标之前到行首，不包含光标</td></tr><tr><td style="text-align:center">$</td><td style="text-align:center">光标开始到行尾</td></tr><tr><td style="text-align:center">w</td><td style="text-align:center">光标开始到词尾</td></tr></tbody></table><p>特殊的，有一些删除命令：</p><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">ncc</td><td style="text-align:center">删除本行开始的n行，然后进入插入模式</td></tr><tr><td style="text-align:center">ndd</td><td style="text-align:center">删除本行开始的n行</td></tr></tbody></table><h2 id="复制">复制</h2><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">ny{范围限定符}</td><td style="text-align:center">复制光标开始的n个限定范围</td></tr></tbody></table><table><thead><tr><th style="text-align:center">范围限定符</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">光标之前到行首，不包含光标</td></tr><tr><td style="text-align:center">$</td><td style="text-align:center">光标开始到行尾</td></tr><tr><td style="text-align:center">w</td><td style="text-align:center">光标所在的单词</td></tr><tr><td style="text-align:center">y</td><td style="text-align:center">光标所在的行</td></tr></tbody></table><h2 id="粘贴">粘贴</h2><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">p</td><td style="text-align:center">粘贴到下一行或光标右边的位置</td></tr><tr><td style="text-align:center">P</td><td style="text-align:center">粘贴到上一行或光标左边的位置</td></tr></tbody></table><p>需要注意的是，<strong>使用dd删除文本时，它会同时被复制</strong>。</p><h2 id="撤销和重做">撤销和重做</h2><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center">u</td><td style="text-align:center">撤销最近的一次修改</td></tr><tr><td style="text-align:center">U</td><td style="text-align:center">撤销当前行的所有修改</td></tr><tr><td style="text-align:center">[Ctrl]+[r]</td><td style="text-align:center">撤销撤销操作</td></tr><tr><td style="text-align:center">.</td><td style="text-align:center">重复上一次的修改</td></tr></tbody></table><h2 id="查找">查找</h2><table><thead><tr><th style="text-align:center">按键</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center"><code>/[文字]</code></td><td style="text-align:center">向后搜索</td></tr><tr><td style="text-align:center"><code>?[文字]</code></td><td style="text-align:center">向前搜索</td></tr><tr><td style="text-align:center">n</td><td style="text-align:center">定位到下一个项，<strong>与命令方向相同</strong></td></tr><tr><td style="text-align:center">N</td><td style="text-align:center">定位到上一个项，<strong>与命令方向相同</strong></td></tr></tbody></table><h2 id="替换">替换</h2><p>使用s命令：<code>: [行范围（默认为当前行），%表示全文] s / {被替换项} / {替换项} / [g（全行替换，如果没有g则会只替换每一行的第一个）][c（确认后再替换）]</code></p><h2 id="环境设置">环境设置</h2><p>通过选项可以定制vi编辑器的行为。主要使用<code>:set {选项}</code>命令。</p><ul><li><code>:set</code>：显示修改过的选项的值。</li><li><code>:set X?</code>：显示选项X的值。</li><li><code>:set all</code>：查看所有选项以及它们的设置。</li><li>布尔值选项：使用<code>:set X</code>或<code>:set noX</code>以设置或取消。</li><li>数值型选项：使用<code>:set X=number</code>，注意等号前后无空格。</li><li>字符串选项：使用<code>:set X=string</code></li></ul><p>有很多选项可以设置：</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">性质</th><th style="text-align:center">默认值</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center"><code>nu</code></td><td style="text-align:center">布尔值</td><td style="text-align:center"><code>nonu</code></td><td style="text-align:center">显示行号</td></tr><tr><td style="text-align:center"><code>ts</code></td><td style="text-align:center">数值型</td><td style="text-align:center"></td><td style="text-align:center">缩进宽度</td></tr><tr><td style="text-align:center"><code>ai</code></td><td style="text-align:center">布尔值</td><td style="text-align:center"></td><td style="text-align:center">自动缩进</td></tr><tr><td style="text-align:center"><code>mouse</code></td><td style="text-align:center">字符串</td><td style="text-align:center"></td><td style="text-align:center">使能鼠标</td></tr><tr><td style="text-align:center"><code>encoding</code></td><td style="text-align:center">字符串</td><td style="text-align:center"></td><td style="text-align:center">编码方式</td></tr></tbody></table><p>在vi中设置的都是暂时的，退出即失效。需要修改配置文件达到永久效果。路径有：</p><table><thead><tr><th style="text-align:center">路径</th><th style="text-align:center">性质</th></tr></thead><tbody><tr><td style="text-align:center"><code>/etc/virc</code></td><td style="text-align:center">全局配置文件</td></tr><tr><td style="text-align:center"><code>/$HOME/.virc</code></td><td style="text-align:center">用户配置文件</td></tr><tr><td style="text-align:center"><code>/$HOME/.vim/virc</code></td><td style="text-align:center">用户配置文件</td></tr><tr><td style="text-align:center"><code>/$HOME/.exrc</code></td><td style="text-align:center">用户配置文件</td></tr></tbody></table><p>优先级递减。</p><h2 id="在vi中执行shell命令">在vi中执行shell命令</h2><p>输入<code>:!{command}</code>、<code>:r !{command}</code>可以将执行结果加入文本当中，<code>:r {文件名}</code>可以将文件内容插入文本，一般都是在下面起新的一行。</p><h1>Linux文件系统</h1><p>磁盘从逻辑上划分一个到多个分区，每个分区被格式化为特定类型的文件系统，在每个分区中，文件系统通过目录来组织文件。</p><p>目录可以看做一种容器，用于组织和管理其他文件和目录。Linux提供命令，在磁盘上创建、组织和查找目录和文件。</p><p>Linux继承了UNIX对文件的广义定义，一切皆文件。主要有：</p><ul><li>普通文件：数据的集合，如文本、图像、音频、视频、程序等</li><li>目录文件：用于文件的组织，包含关于其他文件的信息</li><li>特殊文件：包含与外部设备相联系的信息，系统中每个设备分别对应一个文件</li></ul><h2 id="目录">目录</h2><p>目录本质上是一个账本，记录了该目录中包含的文件和子目录的名称，以及它们在文件系统中的位置（通过inode编号）。</p><p>目录以层次形式进行组织，从根目录<code>/</code>向下延伸。</p><h3 id="特殊的目录">特殊的目录</h3><table><thead><tr><th style="text-align:center">目录</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>/</code></td><td style="text-align:center">根目录（root目录），包含了整个文件系统，目录树起点</td></tr><tr><td style="text-align:center"><code>/bin</code></td><td style="text-align:center">存放用户可以使用的可执行文件（外部命令，例如<code>cal</code>、<code>date</code>、<code>who</code>、<code>sh</code>、<code>bash</code>），有的系统存放在<code>/usr/bin</code></td></tr><tr><td style="text-align:center"><code>/sbin</code></td><td style="text-align:center">存放系统管理员（root）可以使用的系统管理命令（<code>agetty</code>、<code>fsck</code>、<code>halt</code>、<code>reboot</code>、<code>shutdown</code>、<code>useradd</code>），有的系统存放在<code>/usr/sbin</code>、<code>/usr/local/sbin</code></td></tr><tr><td style="text-align:center"><code>/lib</code>或<code>/lib64</code></td><td style="text-align:center">存放函数库和模块文件，有的系统存放在<code>/usr/lib</code>、<code>/usr/lib64</code></td></tr><tr><td style="text-align:center"><code>/boot</code></td><td style="text-align:center">存放Linux系统启动时用到的文件（内核：<code>/boot/vmlinuz-*</code>启动配置文件：<code>/boot/grub2</code>等）</td></tr><tr><td style="text-align:center"><code>/dev</code></td><td style="text-align:center">存放设备文件。设备文件是一种特殊文件，代表计算机物理部件或虚拟部件（<code>/dev/tty</code>代表终端，<code>/dev/null</code>代表空设备）</td></tr><tr><td style="text-align:center"><code>/mnt</code>，<code>/media</code></td><td style="text-align:center">用于临时挂载其他文件系统</td></tr><tr><td style="text-align:center"><code>/proc</code></td><td style="text-align:center">虚拟文件系统，将内核和进程运行状态归档为文本文件，通过这些文件可以查看硬件和正在运行的进程信息（使用<code>cat /proc/meminfo</code>或<code>cat /proc/cpuinfo</code>）</td></tr><tr><td style="text-align:center"><code>/root</code></td><td style="text-align:center">管理员root的主目录</td></tr><tr><td style="text-align:center"><code>/home</code></td><td style="text-align:center">存放所有普通用户主目录</td></tr><tr><td style="text-align:center"><code>/etc</code></td><td style="text-align:center">存放系统管理所需的配置文件（<code>/etc/passwd</code>，<code>/etc/profile</code>）和子目录，如用户信息、服务的启动脚本、常用服务的配置文件等</td></tr><tr><td style="text-align:center"><code>/usr</code></td><td style="text-align:center">存放应用程序。<code>/usr/bin</code>存放用户应用命令；<code>/usr/sbin</code>存放管理员使用的系统管理命令；<code>/usr/src</code>存放内核源代码</td></tr><tr><td style="text-align:center"><code>/opt</code></td><td style="text-align:center">主机额外安装软件的目录</td></tr><tr><td style="text-align:center"><code>/var</code></td><td style="text-align:center">存放经常变化或增长的文件，如日志、缓存、邮件、打印队列等。<code>/var/log</code>存放各种程序的日志文件</td></tr><tr><td style="text-align:center"><code>/run</code></td><td style="text-align:center">存放一些服务和程序运行后产生的信息，如进程ID、锁文件、套接字等。</td></tr><tr><td style="text-align:center"><code>/tmp</code></td><td style="text-align:center">存放临时文件，所有用户都可以访问和写入。</td></tr><tr><td style="text-align:center"><code>/sys</code></td><td style="text-align:center">存放与内核相关的信息，如<code>/sys/module</code>，<code>/sys/class</code>等</td></tr><tr><td style="text-align:center"><code>/srv</code></td><td style="text-align:center">存放一些服务启动后需要提取或访问的数据，如FTP服务、Web服务等</td></tr></tbody></table><h3 id="主目录和工作目录">主目录和工作目录</h3><p>主目录是管理员在创建用户时为其分配的特定目录。用户登录时，自动进入主目录，其名称通常与用户名相同。</p><p><code>root</code>用户的主目录是<code>/root</code>。</p><p>工作目录是用户现在在文件系统中所在的目录。</p><h3 id="文件命名规则">文件命名规则</h3><ol><li>长度约束：1 ~ 255个字符</li><li>唯一性约束：同一目录下不得存在同名文件</li><li>大小写敏感</li><li>字符约束尽量避免使用<code>&lt;</code>、<code>&gt;</code>、<code>(</code>、<code>)</code>、<code>[</code>、<code>]</code>、<code>{</code>、<code>}</code>、<code>*</code>、<code>?</code>、<code>”</code>、<code>’</code>、<code>-</code>、<code>$</code>、<code>^</code>、<code>空格</code></li><li>推荐使用<code>A</code> ~ <code>Z</code>、<code>a</code> ~ <code>z</code>、<code>0</code> ~ <code>9</code>、<code>_</code> 、<code>.</code></li></ol><h2 id="文件操作命令">文件操作命令</h2><h3 id="cd命令"><code>cd</code>命令</h3><p>用于改变工作目录（change directory）。</p><p><code>cd</code>：返回用户主目录。</p><p><code>cd ~ [用户名]</code>：进入其他用户或自己的主目录，前提是拥有权限。</p><h3 id="mkdir命令"><code>mkdir</code>命令</h3><p>创建目录，可以一次创建多个。</p><p><code>-p</code>选项，可以一次创建多层目录。</p><h3 id="rmdir命令"><code>rmdir</code>命令</h3><p>删除空目录。</p><h3 id="ls命令"><code>ls</code>命令</h3><p>显示目录内内容（list）。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-a</code></td><td style="text-align:center">列出包含隐藏文件的所有文件</td></tr><tr><td style="text-align:center"><code>-l</code></td><td style="text-align:center">显示详细信息</td></tr><tr><td style="text-align:center"><code>-d</code></td><td style="text-align:center">列出目录文件本身，而不列出目录中的文件</td></tr><tr><td style="text-align:center"><code>-i</code></td><td style="text-align:center">列出文件的索引节点</td></tr></tbody></table><p><code>-l</code>显示格式例如：</p><table><thead><tr><th style="text-align:center">1</th><th style="text-align:center">2</th><th style="text-align:center">3</th><th style="text-align:center">4</th><th style="text-align:center">5</th><th style="text-align:center">6</th><th style="text-align:center">7</th></tr></thead><tbody><tr><td style="text-align:center"><code>-rw-r--r--</code></td><td style="text-align:center"><code>1</code></td><td style="text-align:center"><code>david</code></td><td style="text-align:center"><code>stu</code></td><td style="text-align:center"><code>48</code></td><td style="text-align:center"><code>Jun 25 12:28</code></td><td style="text-align:center"><code>文件名</code></td></tr><tr><td style="text-align:center">文件类型与权限</td><td style="text-align:center">链接数</td><td style="text-align:center">创建者</td><td style="text-align:center">所属的组</td><td style="text-align:center">文件大小（字节）</td><td style="text-align:center">最后修改时间</td><td style="text-align:center">文件名</td></tr></tbody></table><p>在第一列中，第1个字符表示文件类型，第2 ~ 10个字符表示权限设置。</p><p>第1个字符的意义：</p><table><thead><tr><th style="text-align:center">字符</th><th style="text-align:center">类型</th></tr></thead><tbody><tr><td style="text-align:center"><code>d</code></td><td style="text-align:center">目录文件</td></tr><tr><td style="text-align:center"><code>-</code></td><td style="text-align:center">普通文件</td></tr><tr><td style="text-align:center"><code>b</code></td><td style="text-align:center">块设备文件</td></tr><tr><td style="text-align:center"><code>c</code></td><td style="text-align:center">字符设备文件</td></tr><tr><td style="text-align:center"><code>l</code></td><td style="text-align:center">链接文件</td></tr></tbody></table><p>第2 ~ 10个字符分三组，所有者、组用户、其他人，分别对应3个字符。</p><table><thead><tr><th style="text-align:center">字符</th><th style="text-align:center">类型</th></tr></thead><tbody><tr><td style="text-align:center"><code>r</code></td><td style="text-align:center">读权限</td></tr><tr><td style="text-align:center"><code>w</code></td><td style="text-align:center">写权限</td></tr><tr><td style="text-align:center"><code>x</code></td><td style="text-align:center">执行权限</td></tr><tr><td style="text-align:center"><code>-</code></td><td style="text-align:center">无权限</td></tr></tbody></table><p>第二列表示文件的链接数。</p><p>第三列表示文件的所有者，通常与创建者相同，可以发生转移。</p><p>第四列表示文件所属的组，创建时属于用户所在的组。</p><p>第五列表示文件大小，单位为字节。</p><p>第六列表示上一次修改的时间。</p><p>第七列表示文件名。</p><p><code>-a</code>可以显示隐藏文件，即以<code>.</code>开头的文件。</p><h3 id="cat命令"><code>cat</code>命令</h3><p>显示一个或多个文件的内容。</p><h3 id="more命令"><code>more</code>命令</h3><p>分页显示文件。</p><h3 id="head命令"><code>head</code>命令</h3><p>显示前若干行内容，默认为10行。</p><p>通过<code>-n</code>选项指定显示多少行。</p><h3 id="tail命令"><code>tail</code>命令</h3><p>显示后若干行内容，显示行数和<code>-n</code>用法与<code>head</code>相同。</p><p>可以使用<code>-f</code>持续显示内容，用于监控文件是否有新增，直到[Ctrl]+[C]停止命令。</p><h3 id="wc命令"><code>wc</code>命令</h3><p>用于统计行数、字数（不含空格或制表符的字符串）、字符数。</p><p>若没有指定文件名，则从键盘输入，直到按下[Ctrl]+[D]。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-l</code></td><td style="text-align:center">统计行数</td></tr><tr><td style="text-align:center"><code>-c</code></td><td style="text-align:center">统计字符数</td></tr><tr><td style="text-align:center"><code>-w</code></td><td style="text-align:center">统计字数</td></tr></tbody></table><h3 id="diff命令"><code>diff</code>命令</h3><p>比较两个文件内容是否一致。</p><table><thead><tr><th style="text-align:center">更改提示</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>a</code></td><td style="text-align:center">增加的行</td></tr><tr><td style="text-align:center"><code>d</code></td><td style="text-align:center">删除的行</td></tr><tr><td style="text-align:center"><code>c</code></td><td style="text-align:center">修改的行</td></tr></tbody></table><p>可以选择选项来忽略大小写、忽略空格等操作。</p><h3 id="rm命令"><code>rm</code>命令</h3><p>删除文件。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-i</code></td><td style="text-align:center">删除前要求确认</td></tr><tr><td style="text-align:center"><code>-r</code></td><td style="text-align:center">递归删除目录下所有文件</td></tr><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">强制删除</td></tr></tbody></table><h3 id="cp命令"><code>cp</code>命令</h3><p>复制。用法有：</p><ul><li><code>cp {文件名1} {文件名2}</code></li><li><code>cp （多个）{文件名} {目录}</code></li></ul><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-i</code></td><td style="text-align:center">若目标文件已存在则要求确认是否要覆盖</td></tr><tr><td style="text-align:center"><code>-r</code></td><td style="text-align:center">递归复制目录下所有文件</td></tr></tbody></table><h3 id="mv命令"><code>mv</code>命令</h3><p>移动文件。用法有：</p><ul><li><code>mv {文件名1} {文件名2}</code>：移动文件并改名</li><li><code>mv （多个）{文件名} {目录}</code></li></ul><p>选项同<code>cp</code>命令。</p><h3 id="ln命令"><code>ln</code>命令</h3><p>在已存在文件和新文件中创建链接，类似于引用。改变一个文件，链接的文件也会被改变。用法有：</p><ul><li><code>ln {已存在的文件} {新文件名}</code></li><li><code>ln （多个）{文件名} {目录}</code>：在目录中创建同名的链接文件</li></ul><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-s</code></td><td style="text-align:center">创建软链接，类似于快捷方式，其中包含路径指针，访问它就是访问源文件的路径</td></tr></tbody></table><h3 id="paste命令"><code>paste</code>命令</h3><p>用于按列合并。用法是<code>paste [选项] {（多个）文件名}</code>。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-d</code></td><td style="text-align:center">指定分隔符，默认是制表符<code>\t</code></td></tr><tr><td style="text-align:center"><code>-s</code></td><td style="text-align:center">将每个文件的每一行都按顺序拼接到一行上</td></tr></tbody></table><h2 id="文件名匹配">文件名匹配</h2><p>shell允许用户使用指定的模式匹配文件名：</p><table><thead><tr><th style="text-align:center">字符</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>?</code></td><td style="text-align:center">匹配任意单个字符</td></tr><tr><td style="text-align:center"><code>*</code></td><td style="text-align:center">匹配任意的0 ~ n个字符</td></tr><tr><td style="text-align:center"><code>[列表]</code></td><td style="text-align:center">匹配文件名中任<strong>一</strong>在列表中的字符</td></tr><tr><td style="text-align:center"><code>[!列表]</code></td><td style="text-align:center">匹配文件名中任<strong>一</strong>不在列表中的字符</td></tr></tbody></table><p><code>[列表]</code>和<code>[!列表]</code>是不能为空字符的。</p><p>需要注意的是，<code>rm -rf report*</code>和<code>rm -rf report *</code>差别很大。前者是删除所有<code>report</code>开头的文件，后者是删除<code>report</code>，然后删除所有文件。</p><h2 id="搜索命令">搜索命令</h2><h3 id="find命令"><code>find</code>命令</h3><p>用于搜索文件。格式为<code>find {路径名} {搜索选项} {动作选项}</code>。</p><h4 id="搜索选项">搜索选项</h4><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-name</code></td><td style="text-align:center">根据文件名查找</td></tr><tr><td style="text-align:center"><code>-type</code></td><td style="text-align:center">根据类型查找</td></tr><tr><td style="text-align:center"><code>-size n</code></td><td style="text-align:center">根据大小查找</td></tr><tr><td style="text-align:center"><code>-mtime n</code></td><td style="text-align:center">根据最后修改日期查找</td></tr></tbody></table><p>根据文件名查找，使用通配符时，需要用引号扩起文件名。</p><h4 id="文件类型">文件类型</h4><table><thead><tr><th style="text-align:center">字符</th><th style="text-align:center">类型</th></tr></thead><tbody><tr><td style="text-align:center"><code>d</code></td><td style="text-align:center">目录文件</td></tr><tr><td style="text-align:center"><code>f</code></td><td style="text-align:center">普通文件</td></tr><tr><td style="text-align:center"><code>b</code></td><td style="text-align:center">块设备文件</td></tr><tr><td style="text-align:center"><code>c</code></td><td style="text-align:center">字符设备文件</td></tr></tbody></table><h4 id="逻辑查找符">逻辑查找符</h4><table><thead><tr><th style="text-align:center">查找符</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-a</code></td><td style="text-align:center">与</td></tr><tr><td style="text-align:center"><code>-o</code></td><td style="text-align:center">或</td></tr><tr><td style="text-align:center"><code>!</code></td><td style="text-align:center">非</td></tr><tr><td style="text-align:center"><code>()</code></td><td style="text-align:center">逻辑组合</td></tr></tbody></table><p>例如<code>find /dev -type b -o -type -c</code>。</p><h4 id="动作选项">动作选项</h4><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>exec command {} \;</code></td><td style="text-align:center">对找到的文件执行<code>command</code></td></tr><tr><td style="text-align:center"><code>ok command {} \;</code></td><td style="text-align:center">执行前要求确认</td></tr></tbody></table><p><code>{}</code>是一个占位符，会代表<code>find</code>查找到的所有路径。<code>\</code>是转义符，因为<code>;</code>是一个特殊符号。<code>\;</code>是命令结束的标志。</p><h3 id="grep命令"><code>grep</code>命令</h3><p>在多个文件中查找满足格式的行，格式为<code>grep {字符串} [文件名]</code>。找到满足条件的行会从终端输出，若无指定文件则从键盘读入。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-c</code></td><td style="text-align:center">只显示符合的行数</td></tr><tr><td style="text-align:center"><code>-j</code></td><td style="text-align:center">忽略大小写</td></tr><tr><td style="text-align:center"><code>-l</code></td><td style="text-align:center">只显示文件名</td></tr><tr><td style="text-align:center"><code>-n</code></td><td style="text-align:center">输出前显示行号</td></tr><tr><td style="text-align:center"><code>-v</code></td><td style="text-align:center">只显示<strong>不匹配</strong>的行</td></tr></tbody></table><h3 id="cut命令"><code>cut</code>命令</h3><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">意义</th><th style="text-align:center">备注</th></tr></thead><tbody><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">指定域位置</td><td style="text-align:center">如<code>1,3,5</code>、<code>1-3,5</code>，默认分隔符为制表符，即取出每行被制表符分割的第1、3、5列</td></tr><tr><td style="text-align:center"><code>-c</code></td><td style="text-align:center">指定字符位置</td><td style="text-align:center">如<code>1,3,5</code>，即取出每行第1、3、5个字符</td></tr><tr><td style="text-align:center"><code>-d</code></td><td style="text-align:center">指定域分割字符</td><td style="text-align:center">可以和<code>-f</code>一同使用，后面跟非默认分隔符，空格和其他有特殊意义的字符必须用双括号括起来</td></tr></tbody></table><h2 id="排序命令">排序命令</h2><h3 id="sort命令"><code>sort</code>命令</h3><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-d</code></td><td style="text-align:center">按字典序排序，忽略标点符号和控制字符</td></tr><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">忽略大小写</td></tr><tr><td style="text-align:center"><code>-n</code></td><td style="text-align:center">数字以数值排序</td></tr><tr><td style="text-align:center"><code>-g</code></td><td style="text-align:center">数字以数值排序，且可以处理浮点数</td></tr><tr><td style="text-align:center"><code>-o</code></td><td style="text-align:center">输出存储在文件中</td></tr><tr><td style="text-align:center"><code>-r</code></td><td style="text-align:center"><strong>倒序</strong>排序</td></tr><tr><td style="text-align:center"><code>-k</code></td><td style="text-align:center">按指定字段排序，就是指定第几个域来排序</td></tr><tr><td style="text-align:center"><code>-u</code></td><td style="text-align:center">去除重复行</td></tr><tr><td style="text-align:center"><code>-c</code></td><td style="text-align:center">检查是否已经排序好了</td></tr></tbody></table><h2 id="文件权限">文件权限</h2><p>文件权限的意义和目录权限不同：</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">读权限</th><th style="text-align:center">写权限</th><th style="text-align:center">执行权限</th></tr></thead><tbody><tr><td style="text-align:center">文件</td><td style="text-align:center">读取内容</td><td style="text-align:center">修改内容和删除文件</td><td style="text-align:center">作为程序执行</td></tr><tr><td style="text-align:center">目录</td><td style="text-align:center">列出内容</td><td style="text-align:center">创建、删除、重命名文件和子目录</td><td style="text-align:center">进入该目录</td></tr></tbody></table><p>文件权限可以使用3位8进制数表示：</p><ul><li><code>r</code>=<code>4</code></li><li><code>w</code>=<code>2</code></li><li><code>x</code>=<code>1</code></li><li><code>-</code>=<code>0</code></li></ul><h3 id="默认权限">默认权限</h3><p>文件和目录的默认权限：</p><ul><li>文件：<code>666</code></li><li>目录：<code>777</code></li></ul><p>可以使用<code>umask</code>掩码表示默认情况下那些权限不会赋予新建的文件、目录，则初始权限为：</p><ul><li>文件：<code>666-umask</code></li><li>目录：<code>777-umask</code></li></ul><p>设置掩码可以用<code>umask {数值}</code>命令实现。</p><h3 id="chmod命令"><code>chmod</code>命令</h3><p>更改文件权限，格式为：<code>chmod {字符串} {文件名}</code>。</p><p>字符串包括：</p><ul><li>对象：<code>u</code>、<code>g</code>、<code>o</code>、<code>a</code>，分别表示用户、组用户、其他用户、所有用户（代替<code>ugo</code>）</li><li>操作符：<code>-</code>、<code>+</code>、<code>=</code>，分别表示赋予权限、取消权限、设置权限</li><li>权限：<code>r</code>、<code>w</code>、<code>x</code>、<code>-</code></li></ul><p>也可以使用<code>chmod {三位八进制数} {文件名}</code>修改权限。</p><h2 id="索引节点">索引节点</h2><p>Linux将每个文件和一个整数（索引节点号）关联，用来标识每个文件。索引号对应文件的基础信息保存在索引节点表（inode）中，存储在磁盘里。</p><p>Linux打开文件的过程是：</p><ol><li>查找目录项，获得索引节点号</li><li>找到文件的索引节点</li><li>读取元数据</li><li>定位文件数据</li></ol><p>文件名本质上是索引节点号的别名。</p><h1>shell</h1><p>shell是一个用户操作界面，是用户和内核交互的桥梁。登录系统后，shell启动；退出时，shell进程结束。</p><p>每个用户都有一个默认shell，通常在<code>/etc/passwd</code>中指定。</p><h2 id="shell的功能">shell的功能</h2><ol><li>管道</li><li>IO重定向</li><li>文件名替换</li><li>环境控制</li><li>后台处理</li><li>命令执行</li><li>shell脚本</li></ol><p>注意：shell<strong>不能够装载内核</strong>。</p><h2 id="echo命令和元字符"><code>echo</code>命令和元字符</h2><p>将消息参数显示在终端上。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>-n</code></td><td style="text-align:center">禁止换行（转义符<code>\c</code>也可以）</td></tr><tr><td style="text-align:center"><code>-e</code></td><td style="text-align:center">解释反斜杠引导的转义符，且转义字符必须用<code>""</code>括起</td></tr></tbody></table><p>元字符指的是shell中具有特殊含义与用途的字符。消除元字符可以使用：</p><ul><li><code>\</code>：后面的字符按照字面解释</li><li><code>""</code>：括起来的字符除了<code>$</code>、<code>`</code>和<code>\</code>以外都按照字面解释</li><li><code>''</code>：括起来的字符全按照字面解释</li></ul><h2 id="shell变量">shell变量</h2><p>shell为了响应用户请求，会将一些信息保存在shell变量中：</p><ul><li>环境变量用于配置和定义系统或用户环境，shell启动时就被创建并被赋予初始值</li><li>局部变量可以供用户定义shell函数或脚本，用户可以自己定义、修改、删除它们</li></ul><h3 id="set、unset命令和变量赋值"><code>set</code>、<code>unset</code>命令和变量赋值</h3><p><code>set</code>可以查看当前使用的所有shell变量，包括局部变量。<code>unset</code>用于删除不需要的变量。</p><p>可以直接使用<code>变量名=变量值</code>的方法赋值。</p><p>变量前加<code>$</code>访问变量值。</p><p>变量可以在命令行中保存复杂的参数或选项：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ all=-lFa<br>$ <span class="hljs-built_in">ls</span> <span class="hljs-variable">$all</span> myfirst<br><span class="hljs-comment">#等效于 $ ls -lFa myfirst</span><br></code></pre></td></tr></tbody></table></figure><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ age=32<br>$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$age</span> <span class="hljs-string">"<span class="hljs-variable">$age</span>"</span> <span class="hljs-string">'$age'</span><br><span class="hljs-comment">#输出 32 32 $age</span><br></code></pre></td></tr></tbody></table></figure><h3 id="环境变量">环境变量</h3><ul><li><code>PATH</code>变量设置shell载入<strong>外部命令</strong>时依次进行查找的目录，路径间分隔符为冒号<code>:</code>，执行内部命令时不会查找，而是直接执行</li><li><code>HOME</code>变量用于保存用户主目录，用于其他命令定位主目录，即<code>/home/用户名</code>，<code>cd</code>命令没有参数时，自动回到<code>HOME</code></li><li><code>PS1</code>设置作为命令提示符的字符串。<code>PS1</code>中可以使用转义序列，需要用<code>""</code>括起：</li></ul><table><thead><tr><th style="text-align:center">序列</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>\u</code></td><td style="text-align:center">用户名称</td></tr><tr><td style="text-align:center"><code>\h</code></td><td style="text-align:center">机器主机名</td></tr><tr><td style="text-align:center"><code>\w</code></td><td style="text-align:center">工作目录（完整路径）</td></tr><tr><td style="text-align:center"><code>\W</code></td><td style="text-align:center">工作目录（最底层）</td></tr><tr><td style="text-align:center"><code>\$</code></td><td style="text-align:center">若用户为<code>root</code>，则显示<code>#</code>，否则显示<code>$</code></td></tr><tr><td style="text-align:center"><code>\s</code></td><td style="text-align:center">当前运行的shell名称</td></tr><tr><td style="text-align:center"><code>\d</code></td><td style="text-align:center">当前日期</td></tr><tr><td style="text-align:center"><code>\t</code></td><td style="text-align:center">当前时间</td></tr><tr><td style="text-align:center"><code>\!</code></td><td style="text-align:center">命令序号</td></tr></tbody></table><ul><li><code>PS2</code>设置多行输入命令时（尾部写<code>\</code>），第二行及以后的提示符</li><li><code>SHELL</code>设置登录shell的完整路径，默认为<code>/bin/bash</code></li><li><code>PWD</code>保存当前目录的路径</li></ul><h2 id="输入输出重定向">输入输出重定向</h2><p>shell输入输出可以重定向到文件中。</p><ul><li><code>&gt;</code>是覆盖输出重定向，直接覆盖已有的文件或新建一个文件</li><li><code>&gt;&gt;</code>是追加输出重定向，在源文件末尾继续写</li><li><code>2&gt;</code>是标准错误重定向</li><li><code>&lt;</code>是输入重定向，从文件中读取信息</li><li><code>&lt;&lt;</code>是多行输入（Here Document），用于直接从命令行中输入多行数据</li></ul><p>环境变量的值被修改时，修改作用只会作用于当前会话，暂时改变。只有修改配置文件才能永久改变。</p><h2 id="shell元字符">shell元字符</h2><h3 id="元字符"><code>|</code>元字符</h3><p><code>|</code>被称为管道，将一个命令的输出传递给令一个命令作为输入，是命令行中实现进程间通信（ICP）的机制</p><p><code>tee</code>命令可以将标准输入的内容同时输出到标准输出和一个或多个文件中，通常以<code>{command} | tee [选项] {（多个）文件名}</code>为用法，把命令的输出同时输出到终端和文件中。</p><h3 id="元字符-2"><code>`</code>元字符</h3><p><code>`</code>告诉shell先执行重音符号括起来的命令，命令的输出替换原来括起来的部分，例如：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">echo</span> the day is : `<span class="hljs-built_in">date</span>`<br><span class="hljs-comment">#输出 the day is : 2024年11月20日19:56:55</span><br></code></pre></td></tr></tbody></table></figure><h3 id="元字符-3"><code>;</code>元字符</h3><p><code>;</code>在命令行中分隔多个命令，从左至右执行。</p><h3 id="元字符-4"><code>()</code>元字符</h3><p>几个命令编在一个括号中，变成一组执行，例如：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ (<span class="hljs-built_in">ls</span>; <span class="hljs-built_in">date</span>; <span class="hljs-built_in">pwd</span>) &gt; newfile<br></code></pre></td></tr></tbody></table></figure><h2 id="后台处理">后台处理</h2><p>使用<code>{command} &amp;</code>可以让命令在后台运行。</p><p>多个命令一般可以直接写作<code>{command1} &amp; {command2} &amp;</code>而不需要<code>;</code>分隔，注意<code>&amp;</code>前后有空格。</p><h2 id="进程">进程</h2><h3 id="sleep命令"><code>sleep</code>命令</h3><p>使进程延迟多少秒再执行下一个命令。</p><h3 id="ps命令"><code>ps</code>命令</h3><p>不带选项时显示<strong>当前终端用户</strong>活动进程的状态。</p><table><thead><tr><th style="text-align:center">信息</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center">PID</td><td style="text-align:center">进程ID</td></tr><tr><td style="text-align:center">TTY</td><td style="text-align:center">控制进程的终端号</td></tr><tr><td style="text-align:center">TIME</td><td style="text-align:center">进程已运行的时间（秒）</td></tr><tr><td style="text-align:center">CMD</td><td style="text-align:center">命令名</td></tr></tbody></table><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">显示完整的进程列表和命令行</td></tr><tr><td style="text-align:center"><code>-e</code></td><td style="text-align:center">显示所有进程</td></tr></tbody></table><p>使用<code>ps aux</code>（或<code>-aux</code>，可能报错）和<code>ps -ef</code>命令可以查看所有进程的状态。<code>-ef</code>写作<code>ef</code>可能会被误认为是进程名。</p><h3 id="kill命令"><code>kill</code>命令</h3><p>用于发信号给进程，进行进程通信。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-l</code></td><td style="text-align:center">展示信号列表</td></tr></tbody></table><p>命令格式：<code>kill [-信号编号或信号名] {PID}</code>。</p><ul><li><code>9</code>号信号或<code>SIGKILL</code>为强行结束进程</li><li><code>15</code>号信号或<code>SIGTERM</code>为正常结束进程，一般不指定信号则默认发送<code>15</code>号信号</li></ul><p>用户只能终止自己的进程，管理员可以结束所有进程。</p><p><code>PID</code>为<code>0</code>时，指的是当前进程所在组的所有进程，而不是一个单独的进程。</p><h2 id="shell配置文件">shell配置文件</h2><p>配置文件包含了各种命令和设置，用于定义变量和别名等。</p><p>系统配置文件有：</p><ul><li><code>/etc/profile</code>：设置系统整体环境与自启动程序；登录时执行</li><li><code>/etc/bashrc</code>：设置系统整体函数与缩写；打开bash时执行</li></ul><p>用户配置文件有：</p><ul><li><code>~ /.bash_profile</code>：设置登录用户的bash环境；执行<code>~ /.bashrc</code></li><li><code>~ /.bashrc</code>：设置当前用户的bash环境；执行<code>/etc/bashrc</code></li><li><code>~ /.bash_logout</code>：用户退出bash时执行</li></ul><p>关于非登录shell和登录shell：</p><ul><li>登录shell是通过了账户密码环节的启动的shell，执行<code>~ /.bash_profile</code>、<code>~ /.bash_login</code>或<code>~ /.profile</code></li><li>非登录shell是在已登录的shell中打开新的shell时启动的，执行<code>~ /.bashrc</code></li></ul><h3 id="etc-profile文件"><code>/etc/profile</code>文件</h3><p>是一个ASCII文件，定义全局环境变量，如<code>PATH</code>等。</p><p>也可以设置<code>umask</code>值。</p><p><code>/etc/profile.d</code>是一个文件夹，保存应用程序所需的启动脚本，如颜色、语言等。</p><h3 id="etc-bashrc文件"><code>/etc/bashrc</code>文件</h3><p>用于配置系统函数和缩写等，用户每次登陆环境都被读取，执行<code>.bashrc</code>文件：配置用户专用的bash环境。</p><p><code>.bash_logout</code>在退出bash时执行。</p><h3 id="export命令"><code>export</code>命令</h3><p>使一系列shell变量用于子shell。</p><h3 id="alias命令"><code>alias</code>命令</h3><p>为命令起一个名字：<code>alias {别名}={命令名}</code>，如果有空格则要用<code>""</code>括起来。没有参数则显示已定义的别名。</p><p>使用<code>unalias</code>取消别名。</p><h1>gcc和git</h1><h2 id="编译">编译</h2><p>gcc是GNU C编译器，g++是C++编译器，它们执行编译的步骤是：</p><ol><li>预处理：把头文件展开，去掉注释，替换宏，条件编译，产生<code>.i</code>文件（选项<code>-E</code>）</li><li>编译：转换为汇编语言，产生<code>.s</code>文件（选项<code>-S</code>）</li><li>汇编：转换为机器语言，产生<code>.o</code>文件（选项<code>-c</code>）</li><li>链接：链接目标代码，生成可执行程序（选项<code>-o</code>，以指定输出的文件名，默认为<code>.out</code>）</li></ol><h2 id="make工具">make工具</h2><p>是GNU工程化编译工具，用于编译同一项目中众多相互关联的源码文件，将维护命令和编译命令写在<code>makefile</code>文件中，实现合理编译。</p><p>主要解决的问题有：</p><ol><li>大项目源码维护</li><li>减少重复编译时间：自动判断哪些代码修改过，只对改动后的代码进行编译</li></ol><p><code>makefile</code>语法规则：</p><figure class="highlight arcade"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs arcade">目标<span class="hljs-number">1</span>:依赖文件列表<br>&lt;<span class="hljs-literal">tab</span>&gt;命令列表<br><br><span class="hljs-comment">//目标：要产生的文件名称或动作的名称</span><br><span class="hljs-comment">//依赖文件：用于产生目标的输入文件</span><br><span class="hljs-comment">//命令：make执行的动作</span><br></code></pre></td></tr></tbody></table></figure><p>例如：</p><figure class="highlight avrasm"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">cal:</span> cal.o <span class="hljs-keyword">sub</span>.o sum.o<br><span class="hljs-meta"># 要产生cal文件，依赖文件为cal.o，sub.o，sum.o</span><br>    gcc cal.o <span class="hljs-keyword">sub</span>.o sum.o -o cal<br>    <span class="hljs-meta"># 动作</span><br><br><span class="hljs-symbol">clean:</span> <br>    rm -rf *.o<br></code></pre></td></tr></tbody></table></figure><p><code>make</code>命令的用法：<code>make [-f file] [targets]</code>。</p><p>make默认会在工作目录中寻找<code>makefile</code>文件作为输入，而<code>-f</code>指定其以外的作为输入。</p><p>如果没有指定的目标，则<code>make</code>会默认实现<code>makefile</code>的第一个目标然后退出，可以指定一个或多个目标，用空格分隔。</p><p>例如<code>make clean</code>命令，就是执行上方的<code>clean</code>目标。</p><h2 id="git">git</h2><p>git是Linus为了更好管理Linux内核开发而开发的开源分布式版本控制系统。</p><h3 id="配置邮箱和用户名">配置邮箱和用户名</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config user.name {用户名}<br><span class="hljs-comment"># 配置用户名</span><br>git config user.email {邮箱}<br><span class="hljs-comment"># 配置邮箱</span><br></code></pre></td></tr></tbody></table></figure><p>这是仓库级配置，只会影响本仓库。</p><p>全局配置如：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global user.name {用户名}<br>git config --global user.email {邮箱}<br></code></pre></td></tr></tbody></table></figure><h3 id="克隆仓库">克隆仓库</h3><p><code>git clone {远程仓库链接}</code>。</p><p>克隆成功后用户会在本地拥有一个完全相同的git副本。</p><h3 id="提交修改">提交修改</h3><ol><li>将文件添加到暂存区：<code>git add {目录或.}</code></li><li>提交暂存区的修改到本地仓库：<code>git commit -m "说明信息"</code></li></ol><h3 id="推送和拉取修改">推送和拉取修改</h3><p><code>git push {远程仓库} {本地分支}</code>将本地分支推送到远程仓库。</p><p><code>git pull {远程仓库} {远程分支}</code>将远程分支的更改合并到本地分支。</p><h3 id="分支">分支</h3><p>分支是一种软件项目管理不同版本的方法。可以通过创建分支将项目分割成独立的开发线，每个分支可以拥有自己的代码库和开发人员。</p><p>分支操作有：</p><ul><li>列出分支 <code>git branch</code></li><li>创建分支 <code>git branch {分支名}</code></li><li>切换到分支 <code>git chechout {分支名}</code></li><li>删除分支 <code>git branch -d {分支名}</code></li></ul><h3 id="其他git操作">其他git操作</h3><ul><li>查看当前状态 <code>git status</code></li><li>查看提交历史 <code>git log</code></li><li>查看和修改配置 <code>git config</code></li></ul><h1>shell编程</h1><p>shell脚本无需编译，易于编写。一个shell脚本会将命令一次交给shell执行，一次一条，直到停止或出错。以<code>#</code>为注释。</p><p>shell的程序文件被称为<strong>脚本</strong>、<strong>shell过程</strong>或<strong>shell脚本</strong>。</p><p>执行脚本有三种方式：</p><ul><li>启动新的shell，例如<code>sh hello.sh</code>或<code>ksh hello.sh</code>。</li><li>使用当前shell执行，运用<code>.</code>命令或<code>source</code>命令，例如<code>. hello.sh</code>和<code>source hello.sh</code></li><li>将其转换为可执行文件，如<code>chmod u+x hello.sh</code>，然后再使用<code>./hello.sh</code></li></ul><h2 id="变量">变量</h2><p>shell变量不需要先定义后使用，不支持数据类型，赋值都解释为字符串。</p><p>变量保存在内存中，直到其所在的shell进程结束或被<code>unset</code>清除。</p><p>直接将两个字符串放在一起就能够完成字符串拼接（注意被拼接的成员间不能有空格）</p><p>shell没有内部运算符供算术运算。</p><h2 id="算术运算">算术运算</h2><h3 id="expr命令"><code>expr</code>命令</h3><p>用于进行算术运算。运算符有：<code>+</code>、<code>-</code>、<code>\*</code>、<code>/</code>、<code>\%</code>，运算后输出到标准输出。符号左右要有空格，且参数只能是整数。</p><p><code>expr</code>中使用变量，需要用<code>$</code>取值。</p><p><code>expr</code>中也有逻辑运算符，写作<code>=</code>、<code>!=</code>、<code>\&lt;=</code>、<code>\&gt;=</code>、<code>\&lt;</code>、<code>\&gt;</code>。</p><h3 id="let命令"><code>let</code>命令</h3><p>进行整数计算，并将表达式的值赋给变量。例如：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">let</span> x=x+1<br></code></pre></td></tr></tbody></table></figure><p>运算符左右不需要空格，且无需<code>$</code>取值，可以直接使用。运算符也不需要转义符了。</p><h3 id="运算符"><code>(())</code>运算符</h3><p>支持将算术赋值表达式放到双括号中。变量用法和<code>let</code>一样。</p><h2 id="命令行输入">命令行输入</h2><p>命令行参数又称为位置变量，是用户输入命令后在后面跟着的数据，使用空格分隔，传送给程序。按照顺序，参数会被命名为<code>$0</code>到<code>$9</code>。</p><table><thead><tr><th style="text-align:center">位置变量</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"><code>$0</code></td><td style="text-align:center">脚本文件名</td></tr><tr><td style="text-align:center"><code>$1</code> ~ <code>$9</code></td><td style="text-align:center">第1 ~ 9个命令行参数</td></tr><tr><td style="text-align:center"><code>$#</code></td><td style="text-align:center">命令行参数的个数</td></tr><tr><td style="text-align:center"><code>$@</code></td><td style="text-align:center">所有命令行参数，参数加引号时每个参数会被认为是一个字段（推荐使用）</td></tr><tr><td style="text-align:center"><code>$*</code></td><td style="text-align:center">所有命令行参数，参数加引号时每个参数都被合并成一个字符串</td></tr><tr><td style="text-align:center"><code>$?</code></td><td style="text-align:center">上一个命令返回的结果</td></tr><tr><td style="text-align:center"><code>$$</code></td><td style="text-align:center">正在执行进程的PID</td></tr></tbody></table><p>命令行参数多于9个时，后面的会被忽略，但是仍可以用<code>$*</code>获得。</p><p>使用<code>set</code>可以给<code>$1</code> ~ <code>$9</code>依次赋值。</p><h3 id="read命令"><code>read</code>命令</h3><p>从标准输入中读入字符串，存入变量中。若字符串数量多于变量的数量，则最后一个变量会存下剩下所有的字符串。</p><h2 id="条件语句">条件语句</h2><p><code>if-then</code>结构：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">if</span> [ condition ]<br><span class="hljs-comment"># 注意条件前后加空格</span><br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">command</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></tbody></table></figure><p><code>if-then-else</code>结构：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">if</span> [ condition ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">command</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">command</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></tbody></table></figure><p><code>if-then-elif</code>结构：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">if</span> [ condition1 ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">command</span><br><span class="hljs-keyword">elif</span> [ condition2 ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">command</span><br><span class="hljs-keyword">elif</span> [ condition3 ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">command</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">command</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></tbody></table></figure><h3 id="test命令"><code>test</code>命令</h3><p>条件表达式<code>[ condition ]</code>等效于<code>test condition</code>命令，真返回<code>0</code>，否则返回非<code>0</code>。注意，<code>test</code>命令中字符串必须使用<code>""</code>括起。一般字符串的写法是：<code>test [选项] {字符串}</code>。</p><p>字符串比较与检测：</p><table><thead><tr><th style="text-align:center">操作符</th><th style="text-align:center">示例</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"><code>=</code></td><td style="text-align:center"><code>$str1 = str2</code></td><td style="text-align:center">相同返回<code>0</code></td></tr><tr><td style="text-align:center"><code>!=</code></td><td style="text-align:center"><code>$str1 != str2</code></td><td style="text-align:center">不同返回<code>0</code></td></tr><tr><td style="text-align:center"><code>-n</code></td><td style="text-align:center"><code>-n $str</code></td><td style="text-align:center">包含字符返回<code>0</code></td></tr><tr><td style="text-align:center"><code>-z</code></td><td style="text-align:center"><code>-z $str</code></td><td style="text-align:center">不包含字符（空串）返回<code>0</code></td></tr></tbody></table><p>数值比较：</p><table><thead><tr><th style="text-align:center">操作符</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-eq</code></td><td style="text-align:center">相等返回<code>0</code></td></tr><tr><td style="text-align:center"><code>-ne</code></td><td style="text-align:center">不等返回<code>0</code></td></tr><tr><td style="text-align:center"><code>-gt</code></td><td style="text-align:center">左大于右返回<code>0</code></td></tr><tr><td style="text-align:center"><code>-ge</code></td><td style="text-align:center">左大于等于右返回<code>0</code></td></tr><tr><td style="text-align:center"><code>-lt</code></td><td style="text-align:center">左小于右返回<code>0</code></td></tr><tr><td style="text-align:center"><code>-le</code></td><td style="text-align:center">左小于等于右返回<code>0</code></td></tr></tbody></table><p><code>test</code>也可以检测文件属性：</p><table><thead><tr><th style="text-align:center">操作符</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-r</code></td><td style="text-align:center">文件是否存在且可读</td></tr><tr><td style="text-align:center"><code>-w</code></td><td style="text-align:center">文件是否存在且可写</td></tr><tr><td style="text-align:center"><code>-s</code></td><td style="text-align:center">文件是否存在且长度非零</td></tr><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">文件是否存在且是普通文件</td></tr><tr><td style="text-align:center"><code>-d</code></td><td style="text-align:center">文件是否存在且是目录</td></tr></tbody></table><p>例如，检验<code>file1</code>是否为普通文件：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">file1=<span class="hljs-string">"file1"</span><br><span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$file1</span>"</span> ]<br><span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">"存在"</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></tbody></table></figure><p><code>test</code>命令也可以使用逻辑运算符组合条件，例如<code>test {表达式1} {运算符} {表达式2} ...</code>，等效于<code>[ {表达式1} {运算符} {表达式2} ... ]</code>。</p><table><thead><tr><th style="text-align:center">逻辑运算符</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"><code>a</code></td><td style="text-align:center">与</td></tr><tr><td style="text-align:center"><code>o</code></td><td style="text-align:center">或</td></tr><tr><td style="text-align:center"><code>!</code></td><td style="text-align:center">非</td></tr></tbody></table><p>多个<code>test</code>也能组合：<code>test {表达式1} {逻辑运算符} test {表达式2}</code>，等效于<code>[ 表达式1 ] {逻辑运算符} [ 表达式2 ]</code>。</p><table><thead><tr><th style="text-align:center">逻辑运算符</th><th style="text-align:center">含义</th></tr></thead><tbody><tr><td style="text-align:center"><code>&amp;&amp;</code></td><td style="text-align:center">与</td></tr><tr><td style="text-align:center">`</td><td style="text-align:center"></td></tr><tr><td style="text-align:center"><code>!</code></td><td style="text-align:center">非</td></tr></tbody></table><h2 id="分支语句">分支语句</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">case</span> 变量值 <span class="hljs-keyword">in</span><br>{值1})<br>    <span class="hljs-built_in">command</span><br>    ;;<br>{值2})<br>    <span class="hljs-built_in">command</span><br>    ;;<br>*)<br>    <span class="hljs-built_in">command</span><br>    ;;<br><span class="hljs-keyword">esac</span><br></code></pre></td></tr></tbody></table></figure><h2 id="循环语句">循环语句</h2><h3 id="for循环"><code>for</code>循环</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">for</span> 变量<br><span class="hljs-keyword">in</span> 取值列表<br><span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">command</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></tbody></table></figure><p>取值列表可以有很多种：</p><ul><li>列出所有成员，例如<code>in file1 file2 file3</code></li><li>等差数列，例如<code>{起始值..结束值..步长}</code>（步长为1可省略）或<code>seq 起始值 步长 结束值</code>（步长或起始值为1均可省略）</li><li>命令的执行结果</li></ul><h3 id="while循环"><code>while</code>循环</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-keyword">while</span> [ condition ]<br><span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">command</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></tbody></table></figure><p>只要<code>condition</code>为<code>0</code>就一直执行。</p><h3 id="until循环"><code>until</code>循环</h3><p>写法和<code>while</code>一样，但是它是只要<code>condition</code>不为<code>0</code>就一直执行。</p><h3 id="终止控制">终止控制</h3><ul><li><code>continue</code>结束本轮循环，进入下一次循环</li><li><code>break</code>结束循环</li></ul><h2 id="程序返回">程序返回</h2><p><code>exit</code>命令可以立刻终止程序运行，格式为<code>exit n</code>，<code>n</code>为返回码。</p><h1>系统管理</h1><h2 id="磁盘和文件系统管理">磁盘和文件系统管理</h2><p>磁盘和磁盘分区是文件系统管理的基础，以设备文件的形式存在，并允许用户通过系统工具，如<code>mkfs</code>和<code>mount</code>进行操作，例如创建、挂载文件系统和格式化等。</p><p>磁盘和磁盘分区设备文件位于<code>/dev</code>目录下，命名为<code>xxyn</code>：</p><ul><li><code>xx</code>表示设备类型<ul><li><code>hd</code>：IDE磁盘</li><li><code>sd</code>：SATA等磁盘</li><li><code>vd</code>：虚拟磁盘</li></ul></li><li><code>y</code>表示设备编号，<code>a</code>为第1个，以此类推</li><li><code>n</code>为磁盘分区号<ul><li><code>1</code> ~ <code>4</code>为主分区或扩展分区</li><li><code>5</code>以后为逻辑分区</li></ul></li></ul><p><code>/dev/xxy</code>是一个整体的磁盘，<code>dev/xxyn</code>是这个磁盘上的一个分区。</p><h3 id="fdisk命令"><code>fdisk</code>命令</h3><p>对磁盘进行分区。语法为：<code>fdisk {磁盘设备名}</code>。使用<code>-l</code>选项可以显示磁盘分区表信息。</p><p>例如：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">fdisk /dev/sdb<br><span class="hljs-comment"># 在第二块sd设备上创建分区</span><br></code></pre></td></tr></tbody></table></figure><h3 id="lsblk命令"><code>lsblk</code>命令</h3><p>用于列出块设备信息，用途与<code>fdisk -l</code>类似。</p><h3 id="blkid命令"><code>blkid</code>命令</h3><p>用于查看块设备的文件系统类型，<code>LABEL</code>、<code>UUID</code>等信息。</p><h3 id="mkfs命令"><code>mkfs</code>命令</h3><p>用于在磁盘分区上创建文件系统，语法为<code>mkfs [选项] {磁盘分区名}</code>，选项<code>-t</code>用于创建执行的文件系统类型。例如：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">mkfs -t ext4 /dev/sdb1<br><span class="hljs-comment"># 分区类型指定为ext4</span><br></code></pre></td></tr></tbody></table></figure><h3 id="mount命令"><code>mount</code>命令</h3><p>用于挂载磁盘分区，语法为<code>mount [选项] {磁盘分区文件} {目录}</code>。</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">mount -t ext4 /dev/sdb1 /mnt/mdisk<br><span class="hljs-comment"># 将/dev/sdb1挂载到/mnt/mdisk，文件系统类型指定为ext4</span><br><br>mount<br><span class="hljs-comment"># 查看已挂载的文件系统</span><br><br>mount -a<br><span class="hljs-comment"># 将etc/fstab中所有的文件系统挂载</span><br></code></pre></td></tr></tbody></table></figure><h3 id="umount命令"><code>umount</code>命令</h3><p>用于卸载文件系统，<code>umount {设备文件名/挂载文件系统的目录名}</code>。</p><h3 id="df命令"><code>df</code>命令</h3><p>列出磁盘分区空间使用情况，<code>-h</code>选项以易读方式显示。</p><h3 id="du命令"><code>du</code>命令</h3><p>显示目录的磁盘使用情况。<code>-a</code>选项显示目录中目录和文件的占用情况。</p><h2 id="归档和压缩：tar工具">归档和压缩：<code>tar</code>工具</h2><h3 id="打包">打包</h3><p>使用<code>tar -cvf {目标文件名} {（多个）文件名或目录}</code>将一组文件打包到一个文件中。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-c</code></td><td style="text-align:center">创建存档文件</td></tr><tr><td style="text-align:center"><code>-v</code></td><td style="text-align:center">显示打包文件信息，列出里面都有些什么</td></tr><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">指定生成的存档的文件名</td></tr></tbody></table><h3 id="查看打包文件">查看打包文件</h3><p>使用<code>tar -tvf {文件名}</code>查看包中文件的信息。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-t</code></td><td style="text-align:center">列出存档中的内容</td></tr><tr><td style="text-align:center"><code>-v</code></td><td style="text-align:center">显示打包文件的<strong>详细信息</strong></td></tr><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">指定存档的文件名</td></tr></tbody></table><h3 id="解包">解包</h3><p>使用<code>tar -xvf {文件名}</code>解包。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-x</code></td><td style="text-align:center">还原被打包文件</td></tr><tr><td style="text-align:center"><code>-v</code></td><td style="text-align:center">显示打包文件的信息</td></tr><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">指定存档的文件名</td></tr></tbody></table><p>使用<code>tar -xvf {文件名} {特定文件名}</code>可以只解出包中特定的那个文件，并将其信息显示出来。</p><h3 id="压缩与解压缩">压缩与解压缩</h3><p>如果同时打包并压缩，可以用<code>-z</code>、<code>-Z</code>、<code>-j</code>选项配合上面的命令一起使用。</p><ul><li><code>tar -cvzf {filename.tar.gz} {files}</code>：打包压缩</li><li><code>tar -xvzf {filename.tar.gz}</code>：解压缩并解包</li></ul><p><code>gzip</code>和<code>gunzip</code>也可以进行压缩或解压，但是往往使用<code>tar</code>命令一次完成压缩或解压。</p><h2 id="任务管理">任务管理</h2><h3 id="at命令"><code>at</code>命令</h3><p>用于在指定时间执行一个或一组命令：</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">at 04 tomorrow<br>at &gt; <span class="hljs-built_in">sort</span> BIG_FILE<br><span class="hljs-comment"># 未指定输出文件，将以电子邮件将输出信息传送给用户</span><br>at &gt; [Ctrl+d]<br></code></pre></td></tr></tbody></table></figure><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-l</code></td><td style="text-align:center">列出所有<code>at</code>命令提交的作业</td></tr><tr><td style="text-align:center"><code>-m</code></td><td style="text-align:center">作业完成时向用户发送一条确认信息</td></tr><tr><td style="text-align:center"><code>-r</code></td><td style="text-align:center">从调度作业中删除指定的作业号</td></tr></tbody></table><h3 id="crontab命令"><code>crontab</code>命令</h3><p>配置用户自己的定时任务，语法为<code>crontab [-u 用户名] file（将制定文件中的任务加载到crontab中）</code>或<code>crontab [-u 用户名] {-l | -r | -e}</code>。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-l</code></td><td style="text-align:center">列出定时任务的详细内容</td></tr><tr><td style="text-align:center"><code>-r</code></td><td style="text-align:center">删除用户的定时任务</td></tr><tr><td style="text-align:center"><code>-e</code></td><td style="text-align:center">编辑用户的定时任务</td></tr><tr><td style="text-align:center"><code>-u</code></td><td style="text-align:center">设定用户的定时任务</td></tr></tbody></table><p><code>crontab</code>可以设置周期性执行的任务，语法为<code>f1 f2 f3 f4 f5 command</code>。</p><table><thead><tr><th style="text-align:center">参数</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>f1</code></td><td style="text-align:center">分钟（<code>0</code> ~ <code>59</code>）</td></tr><tr><td style="text-align:center"><code>f2</code></td><td style="text-align:center">小时（<code>0</code> ~ <code>23</code>）</td></tr><tr><td style="text-align:center"><code>f3</code></td><td style="text-align:center">日期（<code>1</code> ~ <code>31</code>）</td></tr><tr><td style="text-align:center"><code>f4</code></td><td style="text-align:center">月份（<code>1</code> ~ <code>12</code>）</td></tr><tr><td style="text-align:center"><code>f5</code></td><td style="text-align:center">星期几（<code>0</code> ~ <code>6</code>），<code>0</code>代表星期天</td></tr><tr><td style="text-align:center"><code>command</code></td><td style="text-align:center">需要执行的命令或脚本文件</td></tr></tbody></table><h2 id="用户管理">用户管理</h2><p>用户分为根账户、系统账户、普通用户账户。</p><ul><li>根用户：<code>root</code>，不受约束的控制系统</li><li>系统账户：对系统特定组件进行操作的用户</li><li>普通用户账户：提供对系统的交互性访问，对关键的系统文件和目录访问权限有限</li></ul><h3 id="组">组</h3><p>组是具有相同特性的用户的集合，是对用户进行资源分配的一种方式，按照性质划分为系统组和私有组。</p><p>组长好不能登录计算机，设置的目的仅仅是便于权限的统一组织和分配。</p><h3 id="账号配置文件">账号配置文件</h3><ul><li><code>etc/passwd</code>保存用户账户信息</li><li><code>etc/shadow</code>保存用户密码信息</li><li><code>etc/group</code>保存组账户信息</li></ul><p><code>etc/passwd</code>文件<code>root</code>用户可读可写，其他用户可读，每行一个记录，每个记录7个字段，用冒号分隔：</p><figure class="highlight dust"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="hljs-template-variable">{用户名}</span><span class="language-xml">:</span><span class="hljs-template-variable">{密码flag，x表示设置了密码，空表示无密码}</span><span class="language-xml">:</span><span class="hljs-template-variable">{用户ID}</span><span class="language-xml">:</span><span class="hljs-template-variable">{默认组ID}</span><span class="language-xml">:</span><span class="hljs-template-variable">{用户详细信息}</span><span class="language-xml">:</span><span class="hljs-template-variable">{用户主目录}</span><span class="language-xml">:</span><span class="hljs-template-variable">{登录时启动的shell}</span><br></code></pre></td></tr></tbody></table></figure><p><code>useradd</code>命令可以创建用户账户。</p><table><thead><tr><th style="text-align:center">选项</th><th style="text-align:center">意义</th></tr></thead><tbody><tr><td style="text-align:center"><code>-u</code></td><td style="text-align:center">指定用户号</td></tr><tr><td style="text-align:center"><code>-g</code></td><td style="text-align:center">指定默认组</td></tr><tr><td style="text-align:center"><code>-s</code></td><td style="text-align:center">指定默认shell</td></tr></tbody></table><p><code>usermod</code>命令可以修改用户账户。</p><p><code>userdel</code>命令可以删除用户账户。</p><h3 id="身份切换">身份切换</h3><p><code>su</code>命令可以切换身份：<code>su [-]（同时切换到新工作环境） [用户名]</code>。</p><p>平级升级切换需要输入密码。</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E8%AF%BE%E7%A8%8B%E7%AC%94%E8%AE%B0/" class="category-chain-item">课程笔记</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Linux/" class="print-no-link">#Linux</a></div></div><div class="license-box my-3"><div class="license-title"><div>Linux课程笔记</div><div>https://blog.kisechan.space/2024/linux-note/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Kisechan</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2024年11月22日</div></div><div class="license-meta-item license-meta-date"><div>更新于</div><div>2024年11月25日</div></div><div class="license-meta-item"><div>许可协议</div><div><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="NC - 非商业性使用"><i class="iconfont icon-nc"></i> </span></a><a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="SA - 相同方式共享"><i class="iconfont icon-sa"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2024/hanming-code/" title="海明码"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">海明码</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2024/crawer/" title="二手房房价数据的爬取、清洗、可视化、预测"><span class="hidden-mobile">二手房房价数据的爬取、清洗、可视化、预测</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="gitalk-container"></div><script type="text/javascript">Fluid.utils.loadComments("#gitalk-container",function(){Fluid.utils.createCssLink("/css/gitalk.css"),Fluid.utils.createScript("https://lib.baomitu.com/gitalk/1.8.0/gitalk.min.js",function(){var e=Object.assign({clientID:"Ov23liWYIiu2jxReIEhB",clientSecret:"d7b44817ae2553b2175fdecfde9718b582bdc653",repo:"Comment-Kisechan",owner:"Kisechan",admin:["Kisechan"],language:"zh-CN",labels:["Gitalk"],perPage:10,pagerDirection:"last",distractionFreeMode:!1,createIssueManually:!0,proxy:"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token",enabled:!0},{id:"b5c5da156b101e5b58070900bb1f8e2d"});new Gitalk(e).render("gitalk-container")})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>目录</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><div><span>Frame by </span><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <span>| Theme </span><a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div style="font-size:.85rem"><span id="timeStart">本站自 2024 年 4 月 26 日 20 : 46 : 17 起</span> <span><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></span><span><span><br>本站总访问量&nbsp<span id="busuanzi_value_site_pv"></span>&nbsp次</span> <span>总访客数&nbsp<span id="busuanzi_value_site_uv"></span>&nbsp人 &nbsp<br></span></span><span>&copy; 2024 - 2025 By <a href="https://github.com/Kisechan" target="_blank" rel="nofollow noopener"><strong>Kisechan</strong></a><br></span><span>今天也很喜欢你！</span><br><a href="https://icp.gov.moe/?keyword=20251453" target="_blank">萌ICP备20251453号</a></div></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!0,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>var relativeDate=function(){var t,e,i,n,m=document.getElementById("updated-time");m&&(e=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:Z|[+-]\d{2}:\d{2})/,(i=(t=m.textContent).match(e))&&(n=moment(i[0]).fromNow(),m.textContent=t.replace(e,n)),m.style.display="")};Fluid.utils.createScript("https://lib.baomitu.com/moment.js/2.29.4/moment.min.js",function(){"zh-cn".startsWith("en")?relativeDate():Fluid.utils.createScript("https://lib.baomitu.com/moment.js/2.29.4/locale/zh-cn.min.js",function(){relativeDate()})})</script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-t},CONFIG.toc)),0<o.find(".toc-list-item").length&&o.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;0<t.find(".toc-list-item").length&&t.css("visibility","visible")}}))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/cursor.js"></script><script src="//cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="//cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="/js/boot.js"></script><script type="text/javascript">var originalTitle=document.title;window.onblur=function(){document.title="等你回来哦"},window.onfocus=function(){document.title=originalTitle}</script><div id="tooltip-rightmenu" class="tooltip-rightmenu">如果需要使用原始右键菜单请按下 <strong>Ctrl+右键</strong></div><div id="tooltip-clipboard" class="tooltip-rightmenu">链接复制成功！</div><div id="rightmenu-wrapper"><ul class="list-v rightmenu" id="rightmenu-content"><li class="navigation menuNavigation-Content"><a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fa fa-arrow-left rightmenu-icon"></i></a> <a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fa fa-arrow-right rightmenu-icon"></i></a> <a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fa fa-refresh rightmenu-icon"></i></a> <a aria-label="TOP" href="#" role="button"><i class="fa fa-arrow-up rightmenu-icon"></i></a></li><hr class="menuLoad-Content" style="display:block"><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><span><i class="fa fa-search rightmenu-icon"></i> 站内搜索</span></a></li><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" href="javascript:;" onclick="toggleFullScreen()"><span><i class="fa fa-arrows-alt rightmenu-icon"></i> 切换全屏</span></a></li><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" href="javascript:;" onclick="copyPageUrl()"><span><i class="fa fa-clipboard rightmenu-icon"></i> 复制链接</span></a></li><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" href="javascript:;" onclick="scrollToComments()"><span><i class="fa fa-commenting rightmenu-icon"></i> 立即评论</span></a></li><hr class="menuLoad-Content" style="display:block"><li class="menuLoad-Content" style="display:block"><a class="vlts-menu fix-cursor-default" target="_blank" rel="noopener" href="https://www.kisechan.space/" data-group="link"><span><i class="fa fa-info-circle rightmenu-icon"></i> 关于本站</span></a></li></ul></div><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"><link href="/css/custom_right_menu_icons.css" type="text/css" rel="stylesheet"><script src="/js/right_menu.js" type="text/javascript"></script><link href="/css/right_menu.css" type="text/css" rel="stylesheet"><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/koharu.model.json"},display:{position:"left",width:150,height:300},mobile:{show:!1},log:!1})</script></body></html>